<?xml version="1.0" encoding="UTF-8"?>
<Export generator="IRIS" version="26" zv="IRIS for Windows (x86-64) 2021.2 (Build 593U)" ts="2021-10-14 12:08:35">


<Class name="TC.hmf.FHIR.Demo.SDA.DemoPatient">
<Super>%RegisteredObject</Super>
<TimeChanged>66008,34063.908165</TimeChanged>
<TimeCreated>66006,57020.558034</TimeCreated>

<XData name="DemoSDA">
<Data><![CDATA[
<Container>
	<Patient>
		<CustomPairs>
			<NVPair>
				<Name>TimeZone</Name>
				<Value>+04:00</Value>
			</NVPair>
		</CustomPairs>
		<Name>
			<FamilyName>Bliss</FamilyName>
			<NamePrefix>Mr</NamePrefix>
			<GivenName>Marcus</GivenName>
		</Name>
		<Gender>
			<Code>M</Code>
			<Description>Male</Description>
		</Gender>
		<BirthTime>1950-06-08T00:00:00Z</BirthTime>
		<BirthPlace>
			<Country>
				<Code>AE</Code>
				<Description>UNITED ARAB EMIRATES</Description>
			</Country>
		</BirthPlace>
		<IsDead>false</IsDead>
		<PatientNumbers>
			<PatientNumber>
				<Number>DEMO</Number>
				<Organization>
					<Code>ISC-TrakCare</Code>
					<Description>ISC-TrakCare</Description>
				</Organization>
				<NumberType>MRN</NumberType>
				<ISOAssigningAuthority>ISC-TrakCare</ISOAssigningAuthority>
			</PatientNumber>
			<PatientNumber>
				<Number>123-1950-76543-5</Number>
				<NumberType>CHINHS</NumberType>
			</PatientNumber>
		</PatientNumbers>
		<Addresses>
			<Address>
				<Extension>
					<AddressType>P</AddressType>
				</Extension>
				<Street>Tower 1- 100</Street>
				<Zip>
					<Code>Al Jadaf</Code>
					<Description>Al Jadaf</Description>
				</Zip>
				<Country>
					<Code>AE</Code>
					<Description>UNITED ARAB EMIRATES</Description>
				</Country>
			</Address>
		</Addresses>
		<ContactInfo>
			<MobilePhoneNumber>05000000000</MobilePhoneNumber>
			<EmailAddress>demo.iscme@gmail.com</EmailAddress>
		</ContactInfo>
		<EnteredBy>
			<Code>AdOPD</Code>
			<Description>Admin OPD</Description>
		</EnteredBy>
		<EnteredAt>
			<Code>MEXX</Code>
			<Description>MEXX</Description>
		</EnteredAt>
		<EnteredOn>2021-08-04T12:39:00Z</EnteredOn>
		
	</Patient>
	<Encounters>
		<Encounter>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<EncounterNumber>OP0000283902</EncounterNumber>
			<AdmissionType>
				<Code>O</Code>
				<Description>Outpatient</Description>
			</AdmissionType>
			<EncounterType>N</EncounterType>
			<AttendingClinicians>
				<CareProvider>
					<Code>MEDEMO4</Code>
					<Description>Doctor Alia Yakdi</Description>
					<Name>
						<FamilyName>Yakdi</FamilyName>
						<NamePrefix>DR</NamePrefix>
						<GivenName>Alia</GivenName>
					</Name>
					<IdentifierTypeCode>DN</IdentifierTypeCode>
				</CareProvider>
			</AttendingClinicians>
			<AssignedWard>MEDEMO30E1396</AssignedWard>
			<HealthCareFacility>
				<Code>MEDEMO30E1396</Code>
				<Description>FAMILY MEDICINE </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
					<Address></Address>
				</Organization>
			</HealthCareFacility>
			<DischargeLocation>
				<Code>MEDEMO30E1396</Code>
				<Description>FAMILY MEDICINE </Description>
			</DischargeLocation>
			<HealthFunds>
				<HealthFund>
					<HealthFund>
						<Code>DXB025</Code>
						<Description>NEURON</Description>
					</HealthFund>
					<HealthFundPlan>
						<Code>DXB025-26</Code>
						<Description>NEURON - ZURICH INSURANCE (CIGNA) - COMPREHENSIVE</Description>
					</HealthFundPlan>
					<MembershipNumber>1234123411</MembershipNumber>
					<EnteredAt>
						<Code>MEXX</Code>
						<Description>MEXX</Description>
					</EnteredAt>
					
				</HealthFund>
			</HealthFunds>
			<EnteredBy>
				<Code>Yasmeen Lahloh (IS Implementation)</Code>
				<Description>api</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-10T11:18:00Z</EnteredOn>
			<FromTime>2020-10-09T08:00:00Z</FromTime>
			<ToTime>2020-11-10T11:18:00Z</ToTime>
			
		</Encounter>
		<Encounter>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<EncounterNumber>IP0000006256</EncounterNumber>
			<AdmissionType>
				<Code>I</Code>
				<Description>Inpatient</Description>
			</AdmissionType>
			<EncounterType>N</EncounterType>
			<AttendingClinicians>
				<CareProvider>
					<Code>MEDEMO4106</Code>
					<Description>Paul Arnolds</Description>
					<Name>
						<FamilyName>Arnolds</FamilyName>
						<GivenName>Paul</GivenName>
					</Name>
					<IdentifierTypeCode>DN</IdentifierTypeCode>
				</CareProvider>
			</AttendingClinicians>
			<AssignedWard>MEDEMO30W1383</AssignedWard>
			<AssignedRoom>PR-966</AssignedRoom>
			<AssignedBed>SUR-520</AssignedBed>
			<HealthCareFacility>
				<Code>MEDEMO30E1418</Code>
				<Description>ORTHOPAEDICS </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
					<Address></Address>
				</Organization>
			</HealthCareFacility>
			<DischargeLocation>
				<Code>MEDEMO30E1418</Code>
				<Description>ORTHOPAEDICS </Description>
			</DischargeLocation>
			<HealthFunds>
				<HealthFund>
					<HealthFund>
						<Code>DXB025</Code>
						<Description>NEURON</Description>
					</HealthFund>
					<HealthFundPlan>
						<Code>DXB025-26</Code>
						<Description>NEURON - ZURICH INSURANCE (CIGNA) - COMPREHENSIVE</Description>
					</HealthFundPlan>
					<EnteredAt>
						<Code>MEXX</Code>
						<Description>MEXX</Description>
					</EnteredAt>
					
				</HealthFund>
			</HealthFunds>
			<EnteredBy>
				<Code>Rami Riman</Code>
				<Description>api</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-10-12T15:19:00Z</EnteredOn>
			<FromTime>2020-10-10T08:00:00Z</FromTime>
			<ToTime>2020-10-12T15:19:00Z</ToTime>
			
		</Encounter>
		<Encounter>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<EncounterNumber>OP0000283905</EncounterNumber>
			<AdmissionType>
				<Code>O</Code>
				<Description>Outpatient</Description>
			</AdmissionType>
			<EncounterType>N</EncounterType>
			<AttendingClinicians>
				<CareProvider>
					<Code>MEDEMO4106</Code>
					<Description>Paul Arnolds</Description>
					<Name>
						<FamilyName>Arnolds</FamilyName>
						<GivenName>Paul</GivenName>
					</Name>
					<IdentifierTypeCode>DN</IdentifierTypeCode>
				</CareProvider>
			</AttendingClinicians>
			<AssignedWard>MEDEMO30E1418</AssignedWard>
			<HealthCareFacility>
				<Code>MEDEMO30E1418</Code>
				<Description>ORTHOPAEDICS </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
					<Address></Address>
				</Organization>
			</HealthCareFacility>
			<DischargeLocation>
				<Code>MEDEMO30E1418</Code>
				<Description>ORTHOPAEDICS </Description>
			</DischargeLocation>
			<HealthFunds>
				<HealthFund>
					<HealthFund>
						<Code>DXB025</Code>
						<Description>NEURON</Description>
					</HealthFund>
					<HealthFundPlan>
						<Code>DXB025-26</Code>
						<Description>NEURON - ZURICH INSURANCE (CIGNA) - COMPREHENSIVE</Description>
					</HealthFundPlan>
					<MembershipNumber>1234123411</MembershipNumber>
					<EnteredAt>
						<Code>MEXX</Code>
						<Description>MEXX</Description>
					</EnteredAt>
					
				</HealthFund>
			</HealthFunds>
			<RecommendationsProvided>
				<Recommendation>
					<NoteText>Patient presents today with chief complaint of  Right the knee swelling and no other complaints </NoteText>
				</Recommendation>
			</RecommendationsProvided>
			<EnteredBy>
				<Code>Yasmeen Lahloh (IS Implementation)</Code>
				<Description>api</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-10T11:18:00Z</EnteredOn>
			<FromTime>2020-10-12T11:45:00Z</FromTime>
			<ToTime>2020-11-10T11:18:00Z</ToTime>
			
		</Encounter>
		<Encounter>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<EncounterNumber>OP0000283906</EncounterNumber>
			<AdmissionType>
				<Code>O</Code>
				<Description>Outpatient</Description>
			</AdmissionType>
			<EncounterType>N</EncounterType>
			<AttendingClinicians>
				<CareProvider>
					<Code>MEDEMO4106</Code>
					<Description>Paul Arnolds</Description>
					<Name>
						<FamilyName>Arnolds</FamilyName>
						<GivenName>Paul</GivenName>
					</Name>
					<IdentifierTypeCode>DN</IdentifierTypeCode>
				</CareProvider>
			</AttendingClinicians>
			<AssignedWard>MEDEMO30E1418</AssignedWard>
			<HealthCareFacility>
				<Code>MEDEMO30E1418</Code>
				<Description>ORTHOPAEDICS </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
					<Address></Address>
				</Organization>
			</HealthCareFacility>
			<DischargeLocation>
				<Code>MEDEMO30E1418</Code>
				<Description>ORTHOPAEDICS </Description>
			</DischargeLocation>
			<HealthFunds>
				<HealthFund>
					<HealthFund>
						<Code>DXB025</Code>
						<Description>NEURON</Description>
					</HealthFund>
					<HealthFundPlan>
						<Code>DXB025-26</Code>
						<Description>NEURON - ZURICH INSURANCE (CIGNA) - COMPREHENSIVE</Description>
					</HealthFundPlan>
					<MembershipNumber>1234123411</MembershipNumber>
					<EnteredAt>
						<Code>MEXX</Code>
						<Description>MEXX</Description>
					</EnteredAt>
					
				</HealthFund>
			</HealthFunds>
			<EnteredBy>
				<Code>Yasmeen Lahloh (IS Implementation)</Code>
				<Description>api</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-10T11:17:00Z</EnteredOn>
			<FromTime>2020-10-19T10:45:00Z</FromTime>
			<ToTime>2020-11-10T11:17:00Z</ToTime>
			
		</Encounter>
		<Encounter>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<EncounterNumber>OP0000283912</EncounterNumber>
			<AdmissionType>
				<Code>O</Code>
				<Description>Outpatient</Description>
			</AdmissionType>
			<EncounterType>N</EncounterType>
			<AttendingClinicians>
				<CareProvider>
					<Code>MEDEMO4</Code>
					<Description>Doctor Alia Yakdi</Description>
					<Name>
						<FamilyName>Yakdi</FamilyName>
						<NamePrefix>DR</NamePrefix>
						<GivenName>Alia</GivenName>
					</Name>
					<IdentifierTypeCode>DN</IdentifierTypeCode>
				</CareProvider>
			</AttendingClinicians>
			<AssignedWard>MEDEMO30E1396</AssignedWard>
			<HealthCareFacility>
				<Code>MEDEMO30E1396</Code>
				<Description>FAMILY MEDICINE </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
					<Address></Address>
				</Organization>
			</HealthCareFacility>
			<DischargeLocation>
				<Code>MEDEMO30E1396</Code>
				<Description>FAMILY MEDICINE </Description>
			</DischargeLocation>
			<HealthFunds>
				<HealthFund>
					<HealthFund>
						<Code>DXB025</Code>
						<Description>NEURON</Description>
					</HealthFund>
					<HealthFundPlan>
						<Code>DXB025-26</Code>
						<Description>NEURON - ZURICH INSURANCE (CIGNA) - COMPREHENSIVE</Description>
					</HealthFundPlan>
					<MembershipNumber>1234123411</MembershipNumber>
					<EnteredAt>
						<Code>MEXX</Code>
						<Description>MEXX</Description>
					</EnteredAt>
					
				</HealthFund>
			</HealthFunds>
			<EnteredBy>
				<Code>Yasmeen Lahloh (IS Implementation)</Code>
				<Description>api</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-10T11:17:00Z</EnteredOn>
			<FromTime>2020-10-25T10:00:00Z</FromTime>
			<ToTime>2020-11-10T11:17:00Z</ToTime>
			
		</Encounter>
		<Encounter>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<EncounterNumber>EM0000025181</EncounterNumber>
			<AdmissionType>
				<Code>E</Code>
				<Description>Emergency</Description>
			</AdmissionType>
			<EncounterType>N</EncounterType>
			<AssignedWard>MEDEMO30EM1439</AssignedWard>
			<HealthCareFacility>
				<Code>MEDEMO30EM1439</Code>
				<Description>ACCIDENT - EMERGENCY </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
					<Address></Address>
				</Organization>
			</HealthCareFacility>
			<DischargeLocation>
				<Code>MEDEMO30EM1439</Code>
				<Description>ACCIDENT - EMERGENCY </Description>
			</DischargeLocation>
			<HealthFunds>
				<HealthFund>
					<HealthFund>
						<Code>DXB025</Code>
						<Description>NEURON</Description>
					</HealthFund>
					<HealthFundPlan>
						<Code>DXB025-26</Code>
						<Description>NEURON - ZURICH INSURANCE (CIGNA) - COMPREHENSIVE</Description>
					</HealthFundPlan>
					<EnteredAt>
						<Code>MEXX</Code>
						<Description>MEXX</Description>
					</EnteredAt>
					
				</HealthFund>
			</HealthFunds>
			<EnteredBy>
				<Code>Admin ED</Code>
				<Description>api</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-10T11:20:00Z</EnteredOn>
			<FromTime>2020-11-10T11:12:00Z</FromTime>
			<ToTime>2020-11-10T11:20:00Z</ToTime>
			
		</Encounter>
		<Encounter>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<EncounterNumber>EM0000025182</EncounterNumber>
			<AdmissionType>
				<Code>E</Code>
				<Description>Emergency</Description>
			</AdmissionType>
			<EncounterType>N</EncounterType>
			<AssignedWard>MEDEMO30EM1439</AssignedWard>
			<HealthCareFacility>
				<Code>MEDEMO30EM1439</Code>
				<Description>ACCIDENT - EMERGENCY </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
					<Address></Address>
				</Organization>
			</HealthCareFacility>
			<DischargeLocation>
				<Code>MEDEMO30EM1439</Code>
				<Description>ACCIDENT - EMERGENCY </Description>
			</DischargeLocation>
			<HealthFunds>
				<HealthFund>
					<HealthFund>
						<Code>DXB025</Code>
						<Description>NEURON</Description>
					</HealthFund>
					<HealthFundPlan>
						<Code>DXB025-26</Code>
						<Description>NEURON - ZURICH INSURANCE (CIGNA) - COMPREHENSIVE</Description>
					</HealthFundPlan>
					<EnteredAt>
						<Code>MEXX</Code>
						<Description>MEXX</Description>
					</EnteredAt>
					
				</HealthFund>
			</HealthFunds>
			<EnteredBy>
				<Code>Yasmeen Lahloh (IS Implementation)</Code>
				<Description>api</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-10T11:43:00Z</EnteredOn>
			<FromTime>2020-11-10T11:20:00Z</FromTime>
			<ToTime>2020-11-10T11:43:00Z</ToTime>
			
		</Encounter>
		<Encounter>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<EncounterNumber>EM0000025194</EncounterNumber>
			<AdmissionType>
				<Code>E</Code>
				<Description>Emergency</Description>
			</AdmissionType>
			<EncounterType>N</EncounterType>
			<AssignedWard>MEDEMO30EM1439</AssignedWard>
			<AssignedRoom>EME-902</AssignedRoom>
			<AssignedBed>EME-RESUS-002</AssignedBed>
			<HealthCareFacility>
				<Code>MEDEMO30EM1439</Code>
				<Description>ACCIDENT - EMERGENCY </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
					<Address></Address>
				</Organization>
			</HealthCareFacility>
			<DischargeLocation>
				<Code>MEDEMO30EM1439</Code>
				<Description>ACCIDENT - EMERGENCY </Description>
			</DischargeLocation>
			<HealthFunds>
				<HealthFund>
					<HealthFund>
						<Code>DXB025</Code>
						<Description>NEURON</Description>
					</HealthFund>
					<HealthFundPlan>
						<Code>DXB025-26</Code>
						<Description>NEURON - ZURICH INSURANCE (CIGNA) - COMPREHENSIVE</Description>
					</HealthFundPlan>
					<EnteredAt>
						<Code>MEXX</Code>
						<Description>MEXX</Description>
					</EnteredAt>
					
				</HealthFund>
			</HealthFunds>
			<RecommendationsProvided>
				<Recommendation>
					<NoteText>Patient presents today with chief complaint of  Chedt psin</NoteText>
				</Recommendation>
			</RecommendationsProvided>
			<EnteredBy>
				<Code>Rami Riman</Code>
				<Description>api</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-11T22:09:00Z</EnteredOn>
			<FromTime>2020-11-10T17:05:00Z</FromTime>
			<ToTime>2020-11-10T21:00:00Z</ToTime>
			
		</Encounter>
		<Encounter>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<EncounterNumber>OP0000283921</EncounterNumber>
			<AdmissionType>
				<Code>O</Code>
				<Description>Outpatient</Description>
			</AdmissionType>
			<EncounterType>N</EncounterType>
			<AttendingClinicians>
				<CareProvider>
					<Code>MEDEMO4</Code>
					<Description>Doctor Alia Yakdi</Description>
					<Name>
						<FamilyName>Yakdi</FamilyName>
						<NamePrefix>DR</NamePrefix>
						<GivenName>Alia</GivenName>
					</Name>
					<IdentifierTypeCode>DN</IdentifierTypeCode>
				</CareProvider>
			</AttendingClinicians>
			<AssignedWard>MEDEMO30E1396</AssignedWard>
			<HealthCareFacility>
				<Code>MEDEMO30E1396</Code>
				<Description>FAMILY MEDICINE </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
					<Address></Address>
				</Organization>
			</HealthCareFacility>
			<DischargeLocation>
				<Code>MEDEMO30E1396</Code>
				<Description>FAMILY MEDICINE </Description>
			</DischargeLocation>
			<HealthFunds>
				<HealthFund>
					<HealthFund>
						<Code>DXB025</Code>
						<Description>NEURON</Description>
					</HealthFund>
					<HealthFundPlan>
						<Code>DXB025-26</Code>
						<Description>NEURON - ZURICH INSURANCE (CIGNA) - COMPREHENSIVE</Description>
					</HealthFundPlan>
					<MembershipNumber>1234123411</MembershipNumber>
					<EnteredAt>
						<Code>MEXX</Code>
						<Description>MEXX</Description>
					</EnteredAt>
					
				</HealthFund>
			</HealthFunds>
			<EnteredBy>
				<Code>Dr Alia Yakdi</Code>
				<Description>api</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-11T18:42:00Z</EnteredOn>
			<FromTime>2020-11-11T17:45:00Z</FromTime>
			
		</Encounter>
		<Encounter>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<EncounterNumber>IP0000006260</EncounterNumber>
			<AdmissionType>
				<Code>I</Code>
				<Description>Inpatient</Description>
			</AdmissionType>
			<EncounterType>N</EncounterType>
			<AttendingClinicians>
				<CareProvider>
					<Code>MEDEMO4068</Code>
					<Description>Doctor Helen Martin</Description>
					<Name>
						<FamilyName>Martin</FamilyName>
						<NamePrefix>DR</NamePrefix>
						<GivenName>Helen</GivenName>
					</Name>
					<IdentifierTypeCode>DN</IdentifierTypeCode>
				</CareProvider>
			</AttendingClinicians>
			<AssignedWard>MEDEMO30W1378</AssignedWard>
			<AssignedRoom>ICU-924</AssignedRoom>
			<AssignedBed>ICU-001</AssignedBed>
			<HealthCareFacility>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
					<Address></Address>
				</Organization>
			</HealthCareFacility>
			<DischargeLocation>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</DischargeLocation>
			<HealthFunds>
				<HealthFund>
					<HealthFund>
						<Code>DXB025</Code>
						<Description>NEURON</Description>
					</HealthFund>
					<HealthFundPlan>
						<Code>DXB025-26</Code>
						<Description>NEURON - ZURICH INSURANCE (CIGNA) - COMPREHENSIVE</Description>
					</HealthFundPlan>
					<EnteredAt>
						<Code>MEXX</Code>
						<Description>MEXX</Description>
					</EnteredAt>
					
				</HealthFund>
			</HealthFunds>
			<RecommendationsProvided>
				<Recommendation>
					<NoteText>Patient doing well</NoteText>
				</Recommendation>
			</RecommendationsProvided>
			<EnteredBy>
				<Code>Nurse ICU</Code>
				<Description>api</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-12-06T10:35:00Z</EnteredOn>
			<FromTime>2020-11-10T22:03:00Z</FromTime>
			<ToTime>2020-12-04T10:35:00Z</ToTime>
			
		</Encounter>
		<Encounter>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<EncounterNumber>OP0000283928</EncounterNumber>
			<AdmissionType>
				<Code>O</Code>
				<Description>Outpatient</Description>
			</AdmissionType>
			<EncounterType>P</EncounterType>
			<HealthCareFacility>
				<Code>MEDEMO30E1424</Code>
				<Description>PHYSIOTHERAPY </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
					<Address></Address>
				</Organization>
			</HealthCareFacility>
			<DischargeLocation>
				<Code>MEDEMO30E1424</Code>
				<Description>PHYSIOTHERAPY </Description>
			</DischargeLocation>
			<HealthFunds>
				<HealthFund>
					<HealthFund>
						<Code>DXB025</Code>
						<Description>NEURON</Description>
					</HealthFund>
					<HealthFundPlan>
						<Code>DXB025-26</Code>
						<Description>NEURON - ZURICH INSURANCE (CIGNA) - COMPREHENSIVE</Description>
					</HealthFundPlan>
					<MembershipNumber>1234123411</MembershipNumber>
					<EnteredAt>
						<Code>MEXX</Code>
						<Description>MEXX</Description>
					</EnteredAt>
					
				</HealthFund>
			</HealthFunds>
			<EnteredBy>
				<Description>api</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<FromTime>2020-11-15T09:30:00Z</FromTime>
			
		</Encounter>
		<Encounter>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<EncounterNumber>OP0000283929</EncounterNumber>
			<AdmissionType>
				<Code>O</Code>
				<Description>Outpatient</Description>
			</AdmissionType>
			<EncounterType>P</EncounterType>
			<HealthCareFacility>
				<Code>MEDEMO30E1424</Code>
				<Description>PHYSIOTHERAPY </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
					<Address></Address>
				</Organization>
			</HealthCareFacility>
			<DischargeLocation>
				<Code>MEDEMO30E1424</Code>
				<Description>PHYSIOTHERAPY </Description>
			</DischargeLocation>
			<HealthFunds>
				<HealthFund>
					<HealthFund>
						<Code>DXB025</Code>
						<Description>NEURON</Description>
					</HealthFund>
					<HealthFundPlan>
						<Code>DXB025-26</Code>
						<Description>NEURON - ZURICH INSURANCE (CIGNA) - COMPREHENSIVE</Description>
					</HealthFundPlan>
					<MembershipNumber>1234123411</MembershipNumber>
					<EnteredAt>
						<Code>MEXX</Code>
						<Description>MEXX</Description>
					</EnteredAt>
					
				</HealthFund>
			</HealthFunds>
			<EnteredBy>
				<Description>api</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<FromTime>2020-11-17T09:30:00Z</FromTime>
			
		</Encounter>
		<Encounter>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<EncounterNumber>OP0000283930</EncounterNumber>
			<AdmissionType>
				<Code>O</Code>
				<Description>Outpatient</Description>
			</AdmissionType>
			<EncounterType>P</EncounterType>
			<HealthCareFacility>
				<Code>MEDEMO30E1424</Code>
				<Description>PHYSIOTHERAPY </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
					<Address></Address>
				</Organization>
			</HealthCareFacility>
			<DischargeLocation>
				<Code>MEDEMO30E1424</Code>
				<Description>PHYSIOTHERAPY </Description>
			</DischargeLocation>
			<HealthFunds>
				<HealthFund>
					<HealthFund>
						<Code>DXB025</Code>
						<Description>NEURON</Description>
					</HealthFund>
					<HealthFundPlan>
						<Code>DXB025-26</Code>
						<Description>NEURON - ZURICH INSURANCE (CIGNA) - COMPREHENSIVE</Description>
					</HealthFundPlan>
					<MembershipNumber>1234123411</MembershipNumber>
					<EnteredAt>
						<Code>MEXX</Code>
						<Description>MEXX</Description>
					</EnteredAt>
					
				</HealthFund>
			</HealthFunds>
			<EnteredBy>
				<Description>api</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<FromTime>2020-11-19T08:00:00Z</FromTime>
			
		</Encounter>
		<Encounter>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<EncounterNumber>OP0000283931</EncounterNumber>
			<AdmissionType>
				<Code>O</Code>
				<Description>Outpatient</Description>
			</AdmissionType>
			<EncounterType>N</EncounterType>
			<AttendingClinicians>
				<CareProvider>
					<Code>MEDEMO4068</Code>
					<Description>Doctor Helen Martin</Description>
					<Name>
						<FamilyName>Martin</FamilyName>
						<NamePrefix>DR</NamePrefix>
						<GivenName>Helen</GivenName>
					</Name>
					<IdentifierTypeCode>DN</IdentifierTypeCode>
				</CareProvider>
			</AttendingClinicians>
			<AssignedWard>MEDEMO30E1390</AssignedWard>
			<HealthCareFacility>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
					<Address></Address>
				</Organization>
			</HealthCareFacility>
			<DischargeLocation>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</DischargeLocation>
			<HealthFunds>
				<HealthFund>
					<HealthFund>
						<Code>DXB025</Code>
						<Description>NEURON</Description>
					</HealthFund>
					<HealthFundPlan>
						<Code>DXB025-26</Code>
						<Description>NEURON - ZURICH INSURANCE (CIGNA) - COMPREHENSIVE</Description>
					</HealthFundPlan>
					<MembershipNumber>1234123411</MembershipNumber>
					<EnteredAt>
						<Code>MEXX</Code>
						<Description>MEXX</Description>
					</EnteredAt>
					
				</HealthFund>
			</HealthFunds>
			<EnteredBy>
				<Code>Admin OPD</Code>
				<Description>api</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-12-06T11:29:00Z</EnteredOn>
			<FromTime>2020-12-07T13:00:00Z</FromTime>
			
		</Encounter>
		<Encounter>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<EncounterNumber>OP0000283934</EncounterNumber>
			<AdmissionType>
				<Code>O</Code>
				<Description>Outpatient</Description>
			</AdmissionType>
			<EncounterType>N</EncounterType>
			<AttendingClinicians>
				<CareProvider>
					<Code>MEDEMO4068</Code>
					<Description>Doctor Helen Martin</Description>
					<Name>
						<FamilyName>Martin</FamilyName>
						<NamePrefix>DR</NamePrefix>
						<GivenName>Helen</GivenName>
					</Name>
					<IdentifierTypeCode>DN</IdentifierTypeCode>
				</CareProvider>
			</AttendingClinicians>
			<AssignedWard>MEDEMO30E1390</AssignedWard>
			<HealthCareFacility>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
					<Address></Address>
				</Organization>
			</HealthCareFacility>
			<DischargeLocation>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</DischargeLocation>
			<HealthFunds>
				<HealthFund>
					<HealthFund>
						<Code>DXB025</Code>
						<Description>NEURON</Description>
					</HealthFund>
					<HealthFundPlan>
						<Code>DXB025-26</Code>
						<Description>NEURON - ZURICH INSURANCE (CIGNA) - COMPREHENSIVE</Description>
					</HealthFundPlan>
					<MembershipNumber>1234123411</MembershipNumber>
					<EnteredAt>
						<Code>MEXX</Code>
						<Description>MEXX</Description>
					</EnteredAt>
					
				</HealthFund>
			</HealthFunds>
			<EnteredBy>
				<Code>Admin OPD</Code>
				<Description>api</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-12-06T12:49:00Z</EnteredOn>
			<FromTime>2020-12-06T12:00:00Z</FromTime>
			
		</Encounter>
		<Encounter>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<EncounterNumber>OP0000283942</EncounterNumber>
			<AdmissionType>
				<Code>O</Code>
				<Description>Outpatient</Description>
			</AdmissionType>
			<EncounterType>N</EncounterType>
			<AttendingClinicians>
				<CareProvider>
					<Code>MEDEMO4068</Code>
					<Description>Doctor Helen Martin</Description>
					<Name>
						<FamilyName>Martin</FamilyName>
						<NamePrefix>DR</NamePrefix>
						<GivenName>Helen</GivenName>
					</Name>
					<IdentifierTypeCode>DN</IdentifierTypeCode>
				</CareProvider>
			</AttendingClinicians>
			<AssignedWard>MEDEMO30E1390</AssignedWard>
			<HealthCareFacility>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
					<Address></Address>
				</Organization>
			</HealthCareFacility>
			<DischargeLocation>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</DischargeLocation>
			<HealthFunds>
				<HealthFund>
					<HealthFund>
						<Code>DXB025</Code>
						<Description>NEURON</Description>
					</HealthFund>
					<HealthFundPlan>
						<Code>DXB025-26</Code>
						<Description>NEURON - ZURICH INSURANCE (CIGNA) - COMPREHENSIVE</Description>
					</HealthFundPlan>
					<MembershipNumber>1234123411</MembershipNumber>
					<EnteredAt>
						<Code>MEXX</Code>
						<Description>MEXX</Description>
					</EnteredAt>
					
				</HealthFund>
			</HealthFunds>
			<EnteredBy>
				<Code>Admin OPD</Code>
				<Description>api</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-12-14T15:02:00Z</EnteredOn>
			<FromTime>2020-12-14T14:00:00Z</FromTime>
			
		</Encounter>
		<Encounter>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<EncounterNumber>OP0000283946</EncounterNumber>
			<AdmissionType>
				<Code>O</Code>
				<Description>Outpatient</Description>
			</AdmissionType>
			<EncounterType>N</EncounterType>
			<AttendingClinicians>
				<CareProvider>
					<Code>MEDEMO4</Code>
					<Description>Doctor Alia Yakdi</Description>
					<Name>
						<FamilyName>Yakdi</FamilyName>
						<NamePrefix>DR</NamePrefix>
						<GivenName>Alia</GivenName>
					</Name>
					<IdentifierTypeCode>DN</IdentifierTypeCode>
				</CareProvider>
			</AttendingClinicians>
			<AssignedWard>MEDEMO30E1396</AssignedWard>
			<HealthCareFacility>
				<Code>MEDEMO30E1396</Code>
				<Description>FAMILY MEDICINE </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
					<Address></Address>
				</Organization>
			</HealthCareFacility>
			<DischargeLocation>
				<Code>MEDEMO30E1396</Code>
				<Description>FAMILY MEDICINE </Description>
			</DischargeLocation>
			<HealthFunds>
				<HealthFund>
					<HealthFund>
						<Code>DXB025</Code>
						<Description>NEURON</Description>
					</HealthFund>
					<HealthFundPlan>
						<Code>DXB025-26</Code>
						<Description>NEURON - ZURICH INSURANCE (CIGNA) - COMPREHENSIVE</Description>
					</HealthFundPlan>
					<MembershipNumber>1234123411</MembershipNumber>
					<EnteredAt>
						<Code>MEXX</Code>
						<Description>MEXX</Description>
					</EnteredAt>
					
				</HealthFund>
			</HealthFunds>
			<EnteredBy>
				<Code>Rami Riman</Code>
				<Description>api</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-12-16T11:05:00Z</EnteredOn>
			<FromTime>2020-12-15T12:15:00Z</FromTime>
			
		</Encounter>
		<Encounter>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<EncounterNumber>OP0000283951</EncounterNumber>
			<AdmissionType>
				<Code>O</Code>
				<Description>Outpatient</Description>
			</AdmissionType>
			<EncounterType>N</EncounterType>
			<AttendingClinicians>
				<CareProvider>
					<Code>MEDEMO4</Code>
					<Description>Doctor Alia Yakdi</Description>
					<Name>
						<FamilyName>Yakdi</FamilyName>
						<NamePrefix>DR</NamePrefix>
						<GivenName>Alia</GivenName>
					</Name>
					<IdentifierTypeCode>DN</IdentifierTypeCode>
				</CareProvider>
			</AttendingClinicians>
			<AssignedWard>MEDEMO30E1396</AssignedWard>
			<HealthCareFacility>
				<Code>MEDEMO30E1396</Code>
				<Description>FAMILY MEDICINE </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
					<Address></Address>
				</Organization>
			</HealthCareFacility>
			<DischargeLocation>
				<Code>MEDEMO30E1396</Code>
				<Description>FAMILY MEDICINE </Description>
			</DischargeLocation>
			<HealthFunds>
				<HealthFund>
					<HealthFund>
						<Code>DXB025</Code>
						<Description>NEURON</Description>
					</HealthFund>
					<HealthFundPlan>
						<Code>DXB025-26</Code>
						<Description>NEURON - ZURICH INSURANCE (CIGNA) - COMPREHENSIVE</Description>
					</HealthFundPlan>
					<MembershipNumber>1234123411</MembershipNumber>
					<EnteredAt>
						<Code>MEXX</Code>
						<Description>MEXX</Description>
					</EnteredAt>
					
				</HealthFund>
			</HealthFunds>
			<EnteredBy>
				<Code>Eyad Zafer (IS Implementation)</Code>
				<Description>api</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-12-28T11:02:00Z</EnteredOn>
			<FromTime>2020-12-28T10:30:00Z</FromTime>
			
		</Encounter>
		<Encounter>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<EncounterNumber>OP0000283966</EncounterNumber>
			<AdmissionType>
				<Code>O</Code>
				<Description>Outpatient</Description>
			</AdmissionType>
			<EncounterType>N</EncounterType>
			<AttendingClinicians>
				<CareProvider>
					<Code>MEDEMO4106</Code>
					<Description>Paul Arnolds</Description>
					<Name>
						<FamilyName>Arnolds</FamilyName>
						<GivenName>Paul</GivenName>
					</Name>
					<IdentifierTypeCode>DN</IdentifierTypeCode>
				</CareProvider>
			</AttendingClinicians>
			<AssignedWard>MEDEMO30E1418</AssignedWard>
			<HealthCareFacility>
				<Code>MEDEMO30E1418</Code>
				<Description>ORTHOPAEDICS </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
					<Address></Address>
				</Organization>
			</HealthCareFacility>
			<DischargeLocation>
				<Code>MEDEMO30E1418</Code>
				<Description>ORTHOPAEDICS </Description>
			</DischargeLocation>
			<HealthFunds>
				<HealthFund>
					<HealthFund>
						<Code>DXB025</Code>
						<Description>NEURON</Description>
					</HealthFund>
					<HealthFundPlan>
						<Code>DXB025-26</Code>
						<Description>NEURON - ZURICH INSURANCE (CIGNA) - COMPREHENSIVE</Description>
					</HealthFundPlan>
					<MembershipNumber>1234123411</MembershipNumber>
					<EnteredAt>
						<Code>MEXX</Code>
						<Description>MEXX</Description>
					</EnteredAt>
					
				</HealthFund>
			</HealthFunds>
			<EnteredBy>
				<Code>Orthopedic doctor</Code>
				<Description>api</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2021-02-22T19:16:00Z</EnteredOn>
			<FromTime>2021-02-22T12:15:00Z</FromTime>
			
		</Encounter>
		<Encounter>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<EncounterNumber>EM0000025197</EncounterNumber>
			<AdmissionType>
				<Code>E</Code>
				<Description>Emergency</Description>
			</AdmissionType>
			<EncounterType>N</EncounterType>
			<AttendingClinicians>
				<CareProvider>
					<Code>MEDEMO4</Code>
					<Description>Doctor Alia Yakdi</Description>
					<Name>
						<FamilyName>Yakdi</FamilyName>
						<NamePrefix>DR</NamePrefix>
						<GivenName>Alia</GivenName>
					</Name>
					<IdentifierTypeCode>DN</IdentifierTypeCode>
				</CareProvider>
			</AttendingClinicians>
			<AssignedWard>MEDEMO30EM1439</AssignedWard>
			<AssignedRoom>TRI-882</AssignedRoom>
			<AssignedBed>EME-TRI-001</AssignedBed>
			<HealthCareFacility>
				<Code>MEDEMO30EM1439</Code>
				<Description>ACCIDENT - EMERGENCY </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
					<Address></Address>
				</Organization>
			</HealthCareFacility>
			<DischargeLocation>
				<Code>MEDEMO30EM1439</Code>
				<Description>ACCIDENT - EMERGENCY </Description>
			</DischargeLocation>
			<HealthFunds>
				<HealthFund>
					<HealthFund>
						<Code>DXB025</Code>
						<Description>NEURON</Description>
					</HealthFund>
					<HealthFundPlan>
						<Code>DXB025-26</Code>
						<Description>NEURON - ZURICH INSURANCE (CIGNA) - COMPREHENSIVE</Description>
					</HealthFundPlan>
					<EnteredAt>
						<Code>MEXX</Code>
						<Description>MEXX</Description>
					</EnteredAt>
					
				</HealthFund>
			</HealthFunds>
			<EnteredBy>
				<Code>Admin ED</Code>
				<Description>api</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2021-02-22T15:25:00Z</EnteredOn>
			<FromTime>2021-02-22T14:22:00Z</FromTime>
			<ToTime>2021-02-22T15:25:00Z</ToTime>
			
		</Encounter>
		<Encounter>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<EncounterNumber>IP0000006263</EncounterNumber>
			<AdmissionType>
				<Code>I</Code>
				<Description>Inpatient</Description>
			</AdmissionType>
			<EncounterType>N</EncounterType>
			<AttendingClinicians>
				<CareProvider>
					<Code>MEDEMO4106</Code>
					<Description>Paul Arnolds</Description>
					<Name>
						<FamilyName>Arnolds</FamilyName>
						<GivenName>Paul</GivenName>
					</Name>
					<IdentifierTypeCode>DN</IdentifierTypeCode>
				</CareProvider>
			</AttendingClinicians>
			<AssignedWard>MEDEMO30W1378</AssignedWard>
			<AssignedRoom>ICU-924</AssignedRoom>
			<AssignedBed>ICU-001</AssignedBed>
			<HealthCareFacility>
				<Code>MEDEMO30E1418</Code>
				<Description>ORTHOPAEDICS </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
					<Address></Address>
				</Organization>
			</HealthCareFacility>
			<DischargeLocation>
				<Code>MEDEMO30E1418</Code>
				<Description>ORTHOPAEDICS </Description>
			</DischargeLocation>
			<HealthFunds>
				<HealthFund>
					<HealthFund>
						<Code>P</Code>
						<Description>Self pay</Description>
					</HealthFund>
					<HealthFundPlan>
						<Code>P01</Code>
						<Description>Self Pay</Description>
					</HealthFundPlan>
					<EnteredAt>
						<Code>MEXX</Code>
						<Description>MEXX</Description>
					</EnteredAt>
					<FromTime>2021-02-12T00:00:00Z</FromTime>
					<ToTime>2022-07-07T00:00:00Z</ToTime>
					
				</HealthFund>
			</HealthFunds>
			<EnteredBy>
				<Code>OT Coordinator</Code>
				<Description>api</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2021-06-30T12:39:00Z</EnteredOn>
			<FromTime>2021-02-22T07:30:00Z</FromTime>
			
		</Encounter>
		<Encounter>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<EncounterNumber>OP0000283972</EncounterNumber>
			<AdmissionType>
				<Code>O</Code>
				<Description>Outpatient</Description>
			</AdmissionType>
			<EncounterType>N</EncounterType>
			<AttendingClinicians>
				<CareProvider>
					<Code>MEDEMO4068</Code>
					<Description>Doctor Helen Martin</Description>
					<Name>
						<FamilyName>Martin</FamilyName>
						<NamePrefix>DR</NamePrefix>
						<GivenName>Helen</GivenName>
					</Name>
					<IdentifierTypeCode>DN</IdentifierTypeCode>
				</CareProvider>
			</AttendingClinicians>
			<AssignedWard>MEDEMO30E1390</AssignedWard>
			<HealthCareFacility>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
					<Address></Address>
				</Organization>
			</HealthCareFacility>
			<DischargeLocation>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</DischargeLocation>
			<HealthFunds>
				<HealthFund>
					<HealthFund>
						<Code>DXB025</Code>
						<Description>NEURON</Description>
					</HealthFund>
					<HealthFundPlan>
						<Code>DXB025-26</Code>
						<Description>NEURON - ZURICH INSURANCE (CIGNA) - COMPREHENSIVE</Description>
					</HealthFundPlan>
					<MembershipNumber>1234123411</MembershipNumber>
					<EnteredAt>
						<Code>MEXX</Code>
						<Description>MEXX</Description>
					</EnteredAt>
					
				</HealthFund>
			</HealthFunds>
			<EnteredBy>
				<Code>Admin OPD</Code>
				<Description>api</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2021-03-02T08:44:00Z</EnteredOn>
			<FromTime>2021-03-02T09:00:00Z</FromTime>
			
		</Encounter>
		<Encounter>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<EncounterNumber>OP0000283993</EncounterNumber>
			<AdmissionType>
				<Code>O</Code>
				<Description>Outpatient</Description>
			</AdmissionType>
			<EncounterType>N</EncounterType>
			<AttendingClinicians>
				<CareProvider>
					<Code>MEDEMO4068</Code>
					<Description>Doctor Helen Martin</Description>
					<Name>
						<FamilyName>Martin</FamilyName>
						<NamePrefix>DR</NamePrefix>
						<GivenName>Helen</GivenName>
					</Name>
					<IdentifierTypeCode>DN</IdentifierTypeCode>
				</CareProvider>
			</AttendingClinicians>
			<AssignedWard>MEDEMO30E1390</AssignedWard>
			<HealthCareFacility>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
					<Address></Address>
				</Organization>
			</HealthCareFacility>
			<DischargeLocation>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</DischargeLocation>
			<HealthFunds>
				<HealthFund>
					<HealthFund>
						<Code>DXB025</Code>
						<Description>NEURON</Description>
					</HealthFund>
					<HealthFundPlan>
						<Code>DXB025-26</Code>
						<Description>NEURON - ZURICH INSURANCE (CIGNA) - COMPREHENSIVE</Description>
					</HealthFundPlan>
					<MembershipNumber>1234123411</MembershipNumber>
					<EnteredAt>
						<Code>MEXX</Code>
						<Description>MEXX</Description>
					</EnteredAt>
					
				</HealthFund>
			</HealthFunds>
			<EnteredBy>
				<Code>Nurse Outpatients</Code>
				<Description>api</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2021-03-10T10:55:00Z</EnteredOn>
			<FromTime>2021-03-10T12:00:00Z</FromTime>
			
		</Encounter>
		<Encounter>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<EncounterNumber>OP0000283999</EncounterNumber>
			<AdmissionType>
				<Code>O</Code>
				<Description>Outpatient</Description>
			</AdmissionType>
			<EncounterType>N</EncounterType>
			<AttendingClinicians>
				<CareProvider>
					<Code>MEDEMO4068</Code>
					<Description>Doctor Helen Martin</Description>
					<Name>
						<FamilyName>Martin</FamilyName>
						<NamePrefix>DR</NamePrefix>
						<GivenName>Helen</GivenName>
					</Name>
					<IdentifierTypeCode>DN</IdentifierTypeCode>
				</CareProvider>
			</AttendingClinicians>
			<AssignedWard>MEDEMO30E1390</AssignedWard>
			<HealthCareFacility>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
					<Address></Address>
				</Organization>
			</HealthCareFacility>
			<DischargeLocation>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</DischargeLocation>
			<HealthFunds>
				<HealthFund>
					<HealthFund>
						<Code>DXB025</Code>
						<Description>NEURON</Description>
					</HealthFund>
					<HealthFundPlan>
						<Code>DXB025-26</Code>
						<Description>NEURON - ZURICH INSURANCE (CIGNA) - COMPREHENSIVE</Description>
					</HealthFundPlan>
					<MembershipNumber>1234123411</MembershipNumber>
					<EnteredAt>
						<Code>MEXX</Code>
						<Description>MEXX</Description>
					</EnteredAt>
					
				</HealthFund>
			</HealthFunds>
			<EnteredBy>
				<Code>Rami Riman</Code>
				<Description>api</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2021-04-13T10:27:00Z</EnteredOn>
			<FromTime>2021-03-16T10:00:00Z</FromTime>
			
		</Encounter>
		<Encounter>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<EncounterNumber>OP0000284023</EncounterNumber>
			<AdmissionType>
				<Code>O</Code>
				<Description>Outpatient</Description>
			</AdmissionType>
			<EncounterType>P</EncounterType>
			<AttendingClinicians>
				<CareProvider>
					<Code>MEDEMO4068</Code>
					<Description>Doctor Helen Martin</Description>
					<Name>
						<FamilyName>Martin</FamilyName>
						<NamePrefix>DR</NamePrefix>
						<GivenName>Helen</GivenName>
					</Name>
					<IdentifierTypeCode>DN</IdentifierTypeCode>
				</CareProvider>
			</AttendingClinicians>
			<HealthCareFacility>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
					<Address></Address>
				</Organization>
			</HealthCareFacility>
			<DischargeLocation>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</DischargeLocation>
			<HealthFunds>
				<HealthFund>
					<HealthFund>
						<Code>DXB025</Code>
						<Description>NEURON</Description>
					</HealthFund>
					<HealthFundPlan>
						<Code>DXB025-26</Code>
						<Description>NEURON - ZURICH INSURANCE (CIGNA) - COMPREHENSIVE</Description>
					</HealthFundPlan>
					<MembershipNumber>1234123411</MembershipNumber>
					<EnteredAt>
						<Code>MEXX</Code>
						<Description>MEXX</Description>
					</EnteredAt>
					
				</HealthFund>
			</HealthFunds>
			<EnteredBy>
				<Description>api</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<FromTime>2021-05-25T11:20:00Z</FromTime>
			
		</Encounter>
		<Encounter>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<EncounterNumber>OP0000284068</EncounterNumber>
			<AdmissionType>
				<Code>O</Code>
				<Description>Outpatient</Description>
			</AdmissionType>
			<EncounterType>N</EncounterType>
			<AttendingClinicians>
				<CareProvider>
					<Code>MEDEMO4068</Code>
					<Description>Doctor Helen Martin</Description>
					<Name>
						<FamilyName>Martin</FamilyName>
						<NamePrefix>DR</NamePrefix>
						<GivenName>Helen</GivenName>
					</Name>
					<IdentifierTypeCode>DN</IdentifierTypeCode>
				</CareProvider>
			</AttendingClinicians>
			<AssignedWard>MEDEMO30E1390</AssignedWard>
			<HealthCareFacility>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
					<Address></Address>
				</Organization>
			</HealthCareFacility>
			<DischargeLocation>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</DischargeLocation>
			<HealthFunds>
				<HealthFund>
					<HealthFund>
						<Code>P</Code>
						<Description>Self pay</Description>
					</HealthFund>
					<HealthFundPlan>
						<Code>P01</Code>
						<Description>Self Pay</Description>
					</HealthFundPlan>
					<EnteredAt>
						<Code>MEXX</Code>
						<Description>MEXX</Description>
					</EnteredAt>
					
				</HealthFund>
			</HealthFunds>
			<EnteredBy>
				<Code>Admin OPD</Code>
				<Description>api</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2021-08-04T11:36:00Z</EnteredOn>
			<FromTime>2021-08-10T14:40:00Z</FromTime>
			
		</Encounter>
		<Encounter>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<EncounterNumber>OP0000284071</EncounterNumber>
			<AdmissionType>
				<Code>O</Code>
				<Description>Outpatient</Description>
			</AdmissionType>
			<EncounterType>P</EncounterType>
			<AttendingClinicians>
				<CareProvider>
					<Code>MEDEMO4068</Code>
					<Description>Doctor Helen Martin</Description>
					<Name>
						<FamilyName>Martin</FamilyName>
						<NamePrefix>DR</NamePrefix>
						<GivenName>Helen</GivenName>
					</Name>
					<IdentifierTypeCode>DN</IdentifierTypeCode>
				</CareProvider>
			</AttendingClinicians>
			<HealthCareFacility>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
					<Address></Address>
				</Organization>
			</HealthCareFacility>
			<DischargeLocation>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</DischargeLocation>
			<HealthFunds>
				<HealthFund>
					<HealthFund>
						<Code>P</Code>
						<Description>Self pay</Description>
					</HealthFund>
					<HealthFundPlan>
						<Code>P01</Code>
						<Description>Self Pay</Description>
					</HealthFundPlan>
					<EnteredAt>
						<Code>MEXX</Code>
						<Description>MEXX</Description>
					</EnteredAt>
					
				</HealthFund>
			</HealthFunds>
			<EnteredBy>
				<Description>api</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<FromTime>2021-08-04T13:20:00Z</FromTime>
			
		</Encounter>
	</Encounters>
	<Allergies>
		<Allergy>
			<Allergy>
				<Code>476</Code>
				<Description>Penicillins</Description>
			</Allergy>
			<Reaction>
				<Code>MEXX003</Code>
				<Description>Rash - generalised</Description>
			</Reaction>
			<Severity>
				<Code>371923003</Code>
				<Description>Mild to moderate</Description>
			</Severity>
			<Status>A</Status>
			<EnteredBy>
				<Code>Rami Riman</Code>
				<Description>Rami Riman</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-10-11T09:11:00Z</EnteredOn>
			
		</Allergy>
	</Allergies>
	<SocialHistories>
		<SocialHistory>
			<UpdatedOn>2020-10-11T09:29:28Z</UpdatedOn>
			<SocialHabit>
				<Code>003</Code>
				<Description>Smoking</Description>
				<SDACodingStandard>2.16.840.1.113883.3.86.4</SDACodingStandard>
			</SocialHabit>
			<SocialHabitQty>
				<Code>05</Code>
				<Description>20 - 30 cigarettes / day</Description>
			</SocialHabitQty>
			<Status>I</Status>
			<EnteredBy>
				<Code>isc$rriman</Code>
				<Description>Rami Riman</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
			</EnteredAt>
			<EnteredOn>2020-10-11T09:29:28Z</EnteredOn>
			<ToTime>2005-10-11T00:00:00Z</ToTime>
			
		</SocialHistory>
	</SocialHistories>
	<FamilyHistories>
		<FamilyHistory>
			<FamilyMember>
				<Code>007</Code>
				<Description>Brother</Description>
			</FamilyMember>
			<Diagnosis>
				<Code>53741008</Code>
				<Description>Coronary arteriosclerosis (disorder)</Description>
				<SDACodingStandard>SNOMED</SDACodingStandard>
			</Diagnosis>
			<Status>A</Status>
			<EnteredBy>
				<Code>isc$rriman</Code>
				<Description>Rami Riman</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
			</EnteredAt>
			<EnteredOn>2020-10-11T09:28:53Z</EnteredOn>
			<ToTime>2020-10-11T09:28:53Z</ToTime>
			
		</FamilyHistory>
	</FamilyHistories>
	<Diagnoses>
		<Diagnosis>
			<EncounterNumber>IP0000006256</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<DiagnosingClinician>
				<Code>Dr Alia Yakdi</Code>
				<Description>Dr Alia Yakdi</Description>
			</DiagnosingClinician>
			<Diagnosis>
				<Code>M05.861</Code>
				<Description>Other rheumatoid arthritis with rheumatoid factor of right knee</Description>
			</Diagnosis>
			<DiagnosisType>
				<Description>Primary</Description>
			</DiagnosisType>
			<IdentificationTime>2020-10-11T16:02:00Z</IdentificationTime>
			<Status>
				<Code>A</Code>
				<Description>active</Description>
			</Status>
			<EnteredBy>
				<Code>Dr Alia Yakdi</Code>
				<Description>Dr Alia Yakdi</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
			</EnteredAt>
			<EnteredOn>2020-10-11T16:03:00Z</EnteredOn>
			
		</Diagnosis>
		<Diagnosis>
			<EncounterNumber>OP0000283905</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<DiagnosingClinician>
				<Code>Orthopedic doctor</Code>
				<Description>Orthopedic doctor</Description>
			</DiagnosingClinician>
			<Diagnosis>
				<Code>M17.9</Code>
				<Description>Osteoarthritis of knee, unspecified</Description>
			</Diagnosis>
			<DiagnosisType>
				<Description>Primary</Description>
			</DiagnosisType>
			<IdentificationTime>2020-10-12T18:37:00Z</IdentificationTime>
			<Status>
				<Code>A</Code>
				<Description>active</Description>
			</Status>
			<EnteredBy>
				<Code>Orthopedic doctor</Code>
				<Description>Orthopedic doctor</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
			</EnteredAt>
			<EnteredOn>2020-10-12T18:38:00Z</EnteredOn>
			
		</Diagnosis>
		<Diagnosis>
			<EncounterNumber>OP0000283912</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<DiagnosingClinician>
				<Code>Dr Alia Yakdi</Code>
				<Description>Dr Alia Yakdi</Description>
			</DiagnosingClinician>
			<Diagnosis>
				<Code>J20.9</Code>
				<Description>Acute bronchitis, unspecified</Description>
			</Diagnosis>
			<DiagnosisType>
				<Description>Primary</Description>
			</DiagnosisType>
			<IdentificationTime>2020-10-25T11:28:00Z</IdentificationTime>
			<Status>
				<Code>A</Code>
				<Description>active</Description>
			</Status>
			<EnteredBy>
				<Code>Dr Alia Yakdi</Code>
				<Description>Dr Alia Yakdi</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
			</EnteredAt>
			<EnteredOn>2020-10-25T11:29:00Z</EnteredOn>
			
		</Diagnosis>
		<Diagnosis>
			<EncounterNumber>EM0000025194</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<DiagnosingClinician>
				<Code>Dr Emergency</Code>
				<Description>Dr Emergency</Description>
			</DiagnosingClinician>
			<Diagnosis>
				<Code>I21.01</Code>
				<Description>ST elevation (STEMI) myocardial infarction involving left main coronary artery</Description>
			</Diagnosis>
			<DiagnosisType>
				<Description>Primary</Description>
			</DiagnosisType>
			<IdentificationTime>2020-11-10T17:14:00Z</IdentificationTime>
			<Status>
				<Code>A</Code>
				<Description>active</Description>
			</Status>
			<EnteredBy>
				<Code>Dr Emergency</Code>
				<Description>Dr Emergency</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
			</EnteredAt>
			<EnteredOn>2020-11-10T17:14:00Z</EnteredOn>
			
		</Diagnosis>
		<Diagnosis>
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<DiagnosingClinician>
				<Code>Dr Cardiology</Code>
				<Description>Dr Cardiology</Description>
			</DiagnosingClinician>
			<Diagnosis>
				<Code>I21.02</Code>
				<Description>ST elevation (STEMI) myocardial infarction involving left anterior descending coronary artery</Description>
			</Diagnosis>
			<DiagnosisType>
				<Code>A</Code>
				<Description>admitting</Description>
			</DiagnosisType>
			<IdentificationTime>2020-11-11T22:34:00Z</IdentificationTime>
			<Status>
				<Code>A</Code>
				<Description>active</Description>
			</Status>
			<EnteredBy>
				<Code>Dr Cardiology</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
			</EnteredAt>
			<EnteredOn>2020-11-11T22:34:00Z</EnteredOn>
			
		</Diagnosis>
		<Diagnosis>
			<EncounterNumber>OP0000283934</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<DiagnosingClinician>
				<Code>Dr Cardiology</Code>
				<Description>Dr Cardiology</Description>
			</DiagnosingClinician>
			<Diagnosis>
				<Code>I21.02</Code>
				<Description>ST elevation (STEMI) myocardial infarction involving left anterior descending coronary artery</Description>
			</Diagnosis>
			<DiagnosisType>
				<Description>Primary</Description>
			</DiagnosisType>
			<IdentificationTime>2020-12-06T13:23:00Z</IdentificationTime>
			<Status>
				<Code>A</Code>
				<Description>active</Description>
			</Status>
			<EnteredBy>
				<Code>Dr Cardiology</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
			</EnteredAt>
			<EnteredOn>2020-12-06T13:24:00Z</EnteredOn>
			
		</Diagnosis>
		<Diagnosis>
			<EncounterNumber>OP0000283942</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<DiagnosingClinician>
				<Code>Dr Cardiology</Code>
				<Description>Dr Cardiology</Description>
			</DiagnosingClinician>
			<Diagnosis>
				<Code>I10</Code>
				<Description>Essential (primary) hypertension</Description>
			</Diagnosis>
			<DiagnosisType>
				<Description>Primary</Description>
			</DiagnosisType>
			<IdentificationTime>2020-12-14T15:31:00Z</IdentificationTime>
			<Status>
				<Code>A</Code>
				<Description>active</Description>
			</Status>
			<EnteredBy>
				<Code>Dr Cardiology</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
			</EnteredAt>
			<EnteredOn>2020-12-14T15:32:00Z</EnteredOn>
			
		</Diagnosis>
		<Diagnosis>
			<EncounterNumber>EM0000025197</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<DiagnosingClinician>
				<Code>Rami Riman</Code>
				<Description>Rami Riman</Description>
			</DiagnosingClinician>
			<Diagnosis>
				<Code>M84.359A</Code>
				<Description>Stress fracture, hip, unspecified, initial encounter for fracture</Description>
			</Diagnosis>
			<DiagnosisType>
				<Description>Primary</Description>
			</DiagnosisType>
			<IdentificationTime>2021-02-22T14:36:00Z</IdentificationTime>
			<Status>
				<Code>A</Code>
				<Description>active</Description>
			</Status>
			<EnteredBy>
				<Code>Rami Riman</Code>
				<Description>Rami Riman</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
			</EnteredAt>
			<EnteredOn>2021-02-22T14:37:00Z</EnteredOn>
			
		</Diagnosis>
		<Diagnosis>
			<EncounterNumber>IP0000006263</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<DiagnosingClinician>
				<Code>IP Admin</Code>
				<Description>IP Admin</Description>
			</DiagnosingClinician>
			<Diagnosis>
				<Code>M84.359A</Code>
				<Description>Stress fracture, hip, unspecified, initial encounter for fracture</Description>
			</Diagnosis>
			<DiagnosisType>
				<Code>A</Code>
				<Description>admitting</Description>
			</DiagnosisType>
			<Status>
				<Code>A</Code>
				<Description>active</Description>
			</Status>
			<EnteredBy>
				<Code>IP Admin</Code>
				<Description>IP Admin</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			
		</Diagnosis>
	</Diagnoses>

	<Problems>
		<Problem>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ProblemDetails>Hypertensive disorder</ProblemDetails>
			<Problem>
				<Code>38341003</Code>
				<Description>HTN - Hypertension</Description>
				<SDACodingStandard>2.16.840.1.113883.3.86.4</SDACodingStandard>
			</Problem>
			<Clinician>
				<Code>MEDEMO4</Code>
				<Description>A Yakdi</Description>
			</Clinician>
			<Status>
				<Code>55561003</Code>
				<Description>Active</Description>
				<SDACodingStandard>2.16.840.1.113883.3.86.4</SDACodingStandard>
			</Status>
			<Comments>well controlled on Ace inhibitors </Comments>
			<EnteredBy>
				<Code>api</Code>
				<Description>Rami Riman</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-10-11T09:18:00Z</EnteredOn>
			<FromTime>1995-10-11T00:00:00Z</FromTime>
			
		</Problem>
		<Problem>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ProblemDetails>Diabetes mellitus</ProblemDetails>
			<Problem>
				<Code>73211009</Code>
				<Description>DM - Diabetes mellitus</Description>
				<SDACodingStandard>2.16.840.1.113883.3.86.4</SDACodingStandard>
			</Problem>
			<Clinician>
				<Code>MEDEMO4</Code>
				<Description>A Yakdi</Description>
			</Clinician>
			<Status>
				<Code>55561003</Code>
				<Description>Active</Description>
				<SDACodingStandard>2.16.840.1.113883.3.86.4</SDACodingStandard>
			</Status>
			<Comments>well controlled on oral medications</Comments>
			<EnteredBy>
				<Code>api</Code>
				<Description>Rami Riman</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-10-11T09:19:00Z</EnteredOn>
			<FromTime>1990-10-11T00:00:00Z</FromTime>
			
		</Problem>
		<Problem>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ProblemDetails>Knee pain</ProblemDetails>
			<Problem>
				<Code>30989003</Code>
				<Description>Knee pain</Description>
				<SDACodingStandard>2.16.840.1.113883.3.86.4</SDACodingStandard>
			</Problem>
			<Status>
				<Code>55561003</Code>
				<Description>Active</Description>
				<SDACodingStandard>2.16.840.1.113883.3.86.4</SDACodingStandard>
			</Status>
			<Category>
				<Description>Mild to moderate</Description>
			</Category>
			<Comments>not radiating, increases during the day and elevated at rest </Comments>
			<EnteredBy>
				<Code>api</Code>
				<Description>Dr Alia Yakdi</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-10-11T15:59:00Z</EnteredOn>
			<FromTime>2020-10-08T00:00:00Z</FromTime>
			
		</Problem>
		<Problem>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ProblemDetails>Edema of lower extremity</ProblemDetails>
			<Problem>
				<Code>102572006</Code>
				<Description>Edema of lower extremity</Description>
				<SDACodingStandard>2.16.840.1.113883.3.86.4</SDACodingStandard>
			</Problem>
			<Status>
				<Code>55561003</Code>
				<Description>Active</Description>
				<SDACodingStandard>2.16.840.1.113883.3.86.4</SDACodingStandard>
			</Status>
			<EnteredBy>
				<Code>api</Code>
				<Description>Dr Alia Yakdi</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-10-19T10:07:00Z</EnteredOn>
			
		</Problem>
		<Problem>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ProblemDetails>Chest pain</ProblemDetails>
			<Problem>
				<Code>29857009</Code>
				<Description>Chest pain</Description>
				<SDACodingStandard>2.16.840.1.113883.3.86.4</SDACodingStandard>
			</Problem>
			<Clinician>
				<Code>MEDEMO3139</Code>
				<Description>A Biswas</Description>
			</Clinician>
			<Status>
				<Code>55561003</Code>
				<Description>Active</Description>
				<SDACodingStandard>2.16.840.1.113883.3.86.4</SDACodingStandard>
			</Status>
			<Category>
				<Description>Mild to moderate</Description>
			</Category>
			<Comments>Radiating to the right arm Pain is tightening no  Numbness of upper extremities  no Dizziness</Comments>
			<EnteredBy>
				<Code>api</Code>
				<Description>Dr Emergency</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-10T17:12:00Z</EnteredOn>
			<FromTime>2020-11-10T00:00:00Z</FromTime>
			
		</Problem>
		<Problem>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ProblemDetails>Retention of urine</ProblemDetails>
			<Problem>
				<Code>267064002</Code>
				<Description>Retention of urine</Description>
				<SDACodingStandard>2.16.840.1.113883.3.86.4</SDACodingStandard>
			</Problem>
			<Clinician>
				<Code>MEDEMO1431</Code>
				<Description>A Jain</Description>
			</Clinician>
			<Status>
				<Code>55561003</Code>
				<Description>Active</Description>
				<SDACodingStandard>2.16.840.1.113883.3.86.4</SDACodingStandard>
			</Status>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-12T17:28:00Z</EnteredOn>
			<FromTime>2020-11-12T17:28:00Z</FromTime>
			
		</Problem>
		<Problem>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ProblemDetails>Injury of hip region</ProblemDetails>
			<Problem>
				<Code>125600009</Code>
				<Description>Hip injury</Description>
				<SDACodingStandard>2.16.840.1.113883.3.86.4</SDACodingStandard>
			</Problem>
			<Status>
				<Code>55561003</Code>
				<Description>Active</Description>
				<SDACodingStandard>2.16.840.1.113883.3.86.4</SDACodingStandard>
			</Status>
			<EnteredBy>
				<Code>api</Code>
				<Description>Rami Riman</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2021-02-22T14:35:00Z</EnteredOn>
			<FromTime>2021-02-22T00:00:00Z</FromTime>
			
		</Problem>
		<Problem>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ProblemDetails>Knee pain</ProblemDetails>
			<Problem>
				<Code>30989003</Code>
				<Description>Knee joint pain</Description>
				<SDACodingStandard>2.16.840.1.113883.3.86.4</SDACodingStandard>
			</Problem>
			<Clinician>
				<Code>MEDEMO4106</Code>
				<Description>P Arnolds</Description>
			</Clinician>
			<Status>
				<Code>55561003</Code>
				<Description>Active</Description>
				<SDACodingStandard>2.16.840.1.113883.3.86.4</SDACodingStandard>
			</Status>
			<EnteredBy>
				<Code>api</Code>
				<Description>Orthopedic doctor</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2021-06-28T15:19:00Z</EnteredOn>
			
		</Problem>
	</Problems>
	<Procedures>
		<Procedure>
			<EncounterNumber>IP0000006260</EncounterNumber>
			<Procedure>
				<Code>PROCR1453</Code>
				<Description>TRANSCATHETER PLACEMENT OF AN INTRACORONARY STENT(S), PERCUTANEOUS, WITH OR WITHOUT OTHER THERAPEUTIC INTERVENTION, ANY METHOD, EACH ADDITIONAL VESSEL</Description>
			</Procedure>
			<Clinician>
				<Code>MEDEMO4068</Code>
				<Description>H Martin</Description>
			</Clinician>
			<ProcedureTime>2020-11-12T09:16:00Z</ProcedureTime>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			
		</Procedure>
		<Procedure>
			<EncounterNumber>IP0000006263</EncounterNumber>
			<Procedure>
				<Code>SURGERY106</Code>
				<Description>ARTHROPLASTY, ACETABULAR AND PROXIMAL FEMORAL PROSTHETIC REPLACEMENT (TOTAL HIP ARTHROPLASTY), WITH OR WITHOUT AUTOGRAFT OR ALLOGRAFT</Description>
			</Procedure>
			<Clinician>
				<Code>MEDEMO4106</Code>
				<Description>P Arnolds</Description>
			</Clinician>
			<ProcedureTime>2021-02-22T15:48:00Z</ProcedureTime>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			
		</Procedure>
	</Procedures>
	<LabOrders>
		<LabOrder>
			<PlacerId>862710/191</PlacerId>
			<OrderItem>
				<Code>LBI336</Code>
				<Description>LIVER FUNCTION TEST</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPATH</Code>
				<Description>Pathology</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4</Code>
				<Description>A Yakdi</Description>
				<Name>
					<FamilyName>Yakdi</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Alia</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Specimen>BLS</Specimen>
			<SpecimenCollectedTime>2020-10-11T16:43:12Z</SpecimenCollectedTime>
			<SpecimenReceivedTime>2020-10-11T16:44:05Z</SpecimenReceivedTime>
			<Status>E</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30L1108</Code>
				<Description>LABORATORY </Description>
			</ReceivingLocation>
			<GroupId>2000000012</GroupId>
			<ActionCode>S</ActionCode>
			<EnteredBy>
				<Code>isc$rriman</Code>
				<Description>Rami Riman</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30W1383</Code>
				<Description>SURGICAL </Description>
			</EnteredAt>
			<EnteredOn>2020-10-11T16:46:13Z</EnteredOn>
			<FromTime>2020-10-11T16:25:00Z</FromTime>
			<Result>
				<ResultType>LAB</ResultType>
				<ResultItems>
					<LabResultItem>
						<EnteredOn>2020-10-11T16:46:07Z</EnteredOn>
						<TestItemCode>
							<Code>1163</Code>
							<Description>ALT (Alanine AminoTransferase)</Description>
							<IsNumeric>false</IsNumeric>
						</TestItemCode>
						<ResultValue>54</ResultValue>
						<ResultValueUnits>IU/L</ResultValueUnits>
						<ResultNormalRange>0-55</ResultNormalRange>
						<TestItemStatus>Authorised</TestItemStatus>
						
					</LabResultItem>
					<LabResultItem>
						<EnteredOn>2020-10-11T16:46:07Z</EnteredOn>
						<TestItemCode>
							<Code>1167</Code>
							<Description>Albumin (ALB)</Description>
							<IsNumeric>false</IsNumeric>
						</TestItemCode>
						<ResultValue>38</ResultValue>
						<ResultValueUnits>g/L</ResultValueUnits>
						<ResultNormalRange>34-48</ResultNormalRange>
						<TestItemStatus>Authorised</TestItemStatus>
						
					</LabResultItem>
					<LabResultItem>
						<EnteredOn>2020-10-11T16:46:07Z</EnteredOn>
						<TestItemCode>
							<Code>1161</Code>
							<Description>Alkaline Phosphatase(ALP)</Description>
							<IsNumeric>false</IsNumeric>
						</TestItemCode>
						<ResultValue>111</ResultValue>
						<ResultValueUnits>U/L</ResultValueUnits>
						<ResultNormalRange>40-150</ResultNormalRange>
						<TestItemStatus>Authorised</TestItemStatus>
						
					</LabResultItem>
					<LabResultItem>
						<EnteredOn>2020-10-11T16:46:07Z</EnteredOn>
						<TestItemCode>
							<Code>1187</Code>
							<Description>AST (Aspartate Aminotransferase)</Description>
							<IsNumeric>false</IsNumeric>
						</TestItemCode>
						<ResultValue>32</ResultValue>
						<ResultValueUnits>IU/L</ResultValueUnits>
						<ResultNormalRange>5-34</ResultNormalRange>
						<TestItemStatus>Authorised</TestItemStatus>
						
					</LabResultItem>
					<LabResultItem>
						<EnteredOn>2020-10-11T16:46:07Z</EnteredOn>
						<TestItemCode>
							<Code>1160</Code>
							<Description>Direct Bilirubin</Description>
							<IsNumeric>false</IsNumeric>
						</TestItemCode>
						<ResultValue>0.10</ResultValue>
						<ResultValueUnits>umol/L</ResultValueUnits>
						<ResultNormalRange>0.00-8.80</ResultNormalRange>
						<TestItemStatus>Authorised</TestItemStatus>
						
					</LabResultItem>
					<LabResultItem>
						<EnteredOn>2020-10-11T16:46:07Z</EnteredOn>
						<TestItemCode>
							<Code>1342</Code>
							<Description>Protein (Total)</Description>
							<IsNumeric>false</IsNumeric>
						</TestItemCode>
						<ResultValue>66</ResultValue>
						<ResultValueUnits>g/L</ResultValueUnits>
						<ResultNormalRange>64-83</ResultNormalRange>
						<TestItemStatus>Authorised</TestItemStatus>
						
					</LabResultItem>
					<LabResultItem>
						<EnteredOn>2020-10-11T16:46:07Z</EnteredOn>
						<TestItemCode>
							<Code>1159</Code>
							<Description>Total Bilirubin</Description>
							<IsNumeric>false</IsNumeric>
						</TestItemCode>
						<ResultValue>5.00</ResultValue>
						<ResultValueUnits>umol/L</ResultValueUnits>
						<ResultNormalRange>3.40-20.50</ResultNormalRange>
						<TestItemStatus>Authorised</TestItemStatus>
						
					</LabResultItem>
				</ResultItems>
				<VerifiedBy>
					<Code>isc$rriman</Code>
					<Description>Rami Riman</Description>
				</VerifiedBy>
				<ResultTime>2020-10-11T16:25:00Z</ResultTime>
				<AuthorizationTime>2020-10-11T16:46:13Z</AuthorizationTime>
				<EnteredAt>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</EnteredAt>
				<EnteredOn>2020-10-11T16:46:07Z</EnteredOn>
				
			</Result>
			
			<EncounterNumber>IP0000006256</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>OrderQuestion</Name>
					<Value>MEMEPHCOMM^Phlebotomy Comments^</Value>
				</NVPair>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</LabOrder>
		<LabOrder>
			<PlacerId>862710/182</PlacerId>
			<OrderItem>
				<Code>LBI991</Code>
				<Description>ELECTROLYTE PANEL</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPATH</Code>
				<Description>Pathology</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4</Code>
				<Description>A Yakdi</Description>
				<Name>
					<FamilyName>Yakdi</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Alia</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Specimen>BLS</Specimen>
			<SpecimenCollectedTime>2020-10-11T16:43:12Z</SpecimenCollectedTime>
			<SpecimenReceivedTime>2020-10-11T16:44:05Z</SpecimenReceivedTime>
			<Status>E</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30L1108</Code>
				<Description>LABORATORY </Description>
			</ReceivingLocation>
			<GroupId>2000000012</GroupId>
			<ActionCode>S</ActionCode>
			<EnteredBy>
				<Code>isc$rriman</Code>
				<Description>Rami Riman</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30W1383</Code>
				<Description>SURGICAL </Description>
			</EnteredAt>
			<EnteredOn>2020-10-11T16:46:13Z</EnteredOn>
			<FromTime>2020-10-11T16:25:00Z</FromTime>
			<Result>
				<ResultType>LAB</ResultType>
				<ResultItems>
					<LabResultItem>
						<EnteredOn>2020-10-11T16:46:07Z</EnteredOn>
						<TestItemCode>
							<Code>1579</Code>
							<Description>Bicarbonate (HCO3 -)</Description>
							<IsNumeric>false</IsNumeric>
						</TestItemCode>
						<ResultValue>22</ResultValue>
						<ResultValueUnits>mmol/L</ResultValueUnits>
						<ResultNormalRange>23-31</ResultNormalRange>
						<ResultInterpretation>L</ResultInterpretation>
						<TestItemStatus>Authorised</TestItemStatus>
						
					</LabResultItem>
					<LabResultItem>
						<EnteredOn>2020-10-11T16:46:07Z</EnteredOn>
						<TestItemCode>
							<Code>1245</Code>
							<Description>Chloride (Cl)</Description>
							<IsNumeric>false</IsNumeric>
						</TestItemCode>
						<ResultValue>110</ResultValue>
						<ResultValueUnits>mmol/L</ResultValueUnits>
						<ResultNormalRange>98-107</ResultNormalRange>
						<ResultInterpretation>H</ResultInterpretation>
						<TestItemStatus>Authorised</TestItemStatus>
						
					</LabResultItem>
					<LabResultItem>
						<EnteredOn>2020-10-11T16:46:07Z</EnteredOn>
						<TestItemCode>
							<Code>1152</Code>
							<Description>Potassium (K)</Description>
							<IsNumeric>false</IsNumeric>
						</TestItemCode>
						<ResultValue>4.3</ResultValue>
						<ResultValueUnits>mmol/L</ResultValueUnits>
						<ResultNormalRange>3.5-5.1</ResultNormalRange>
						<TestItemStatus>Authorised</TestItemStatus>
						
					</LabResultItem>
					<LabResultItem>
						<EnteredOn>2020-10-11T16:46:07Z</EnteredOn>
						<TestItemCode>
							<Code>1150</Code>
							<Description>Sodium (Na)</Description>
							<IsNumeric>false</IsNumeric>
						</TestItemCode>
						<ResultValue>140.0</ResultValue>
						<ResultValueUnits>mmol/L</ResultValueUnits>
						<ResultNormalRange>136.0-145.0</ResultNormalRange>
						<TestItemStatus>Authorised</TestItemStatus>
						
					</LabResultItem>
				</ResultItems>
				<VerifiedBy>
					<Code>isc$rriman</Code>
					<Description>Rami Riman</Description>
				</VerifiedBy>
				<ResultTime>2020-10-11T16:25:00Z</ResultTime>
				<AuthorizationTime>2020-10-11T16:46:13Z</AuthorizationTime>
				<EnteredAt>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</EnteredAt>
				<EnteredOn>2020-10-11T16:46:07Z</EnteredOn>
				
			</Result>
			
			<EncounterNumber>IP0000006256</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>OrderQuestion</Name>
					<Value>MEMEPHCOMM^Phlebotomy Comments^</Value>
				</NVPair>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</LabOrder>
		<LabOrder>
			<PlacerId>862710/173</PlacerId>
			<OrderItem>
				<Code>LHA024</Code>
				<Description>FBC - (FULL BLOOD COUNT)</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPATH</Code>
				<Description>Pathology</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4</Code>
				<Description>A Yakdi</Description>
				<Name>
					<FamilyName>Yakdi</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Alia</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Specimen>BLW</Specimen>
			<SpecimenCollectedTime>2020-10-11T16:43:12Z</SpecimenCollectedTime>
			<SpecimenReceivedTime>2020-10-11T16:43:54Z</SpecimenReceivedTime>
			<Status>E</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30L1108</Code>
				<Description>LABORATORY </Description>
			</ReceivingLocation>
			<GroupId>2000000012</GroupId>
			<ActionCode>S</ActionCode>
			<EnteredBy>
				<Code>isc$rriman</Code>
				<Description>Rami Riman</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30W1383</Code>
				<Description>SURGICAL </Description>
			</EnteredAt>
			<EnteredOn>2020-10-11T16:46:10Z</EnteredOn>
			<FromTime>2020-10-11T16:25:00Z</FromTime>
			<Result>
				<ResultType>LAB</ResultType>
				<ResultItems>
					<LabResultItem>
						<EnteredOn>2020-10-11T16:46:06Z</EnteredOn>
						<TestItemCode>
							<Code>WBC</Code>
							<Description>White Cell Count</Description>
							<IsNumeric>false</IsNumeric>
						</TestItemCode>
						<ResultValue>8.0</ResultValue>
						<ResultValueUnits>K/uL</ResultValueUnits>
						<ResultNormalRange>4.0-11.0</ResultNormalRange>
						<TestItemStatus>Authorised</TestItemStatus>
						
					</LabResultItem>
					<LabResultItem>
						<EnteredOn>2020-10-11T16:46:06Z</EnteredOn>
						<TestItemCode>
							<Code>RBC</Code>
							<Description>Red Cell Count</Description>
							<IsNumeric>false</IsNumeric>
						</TestItemCode>
						<ResultValue>5.00</ResultValue>
						<ResultValueUnits>M/uL</ResultValueUnits>
						<ResultNormalRange>4.50-5.90</ResultNormalRange>
						<TestItemStatus>Authorised</TestItemStatus>
						
					</LabResultItem>
					<LabResultItem>
						<EnteredOn>2020-10-11T16:46:06Z</EnteredOn>
						<TestItemCode>
							<Code>HB</Code>
							<Description>Haemoglobin</Description>
							<IsNumeric>false</IsNumeric>
						</TestItemCode>
						<ResultValue>13.0</ResultValue>
						<ResultValueUnits>g/dL</ResultValueUnits>
						<ResultNormalRange>13.0-17.5</ResultNormalRange>
						<TestItemStatus>Authorised</TestItemStatus>
						
					</LabResultItem>
					<LabResultItem>
						<EnteredOn>2020-10-11T16:46:06Z</EnteredOn>
						<TestItemCode>
							<Code>1263</Code>
							<Description>HCT/PCV</Description>
							<IsNumeric>false</IsNumeric>
						</TestItemCode>
						<ResultValue>37</ResultValue>
						<ResultValueUnits>%</ResultValueUnits>
						<ResultNormalRange>39-52</ResultNormalRange>
						<ResultInterpretation>L</ResultInterpretation>
						<TestItemStatus>Authorised</TestItemStatus>
						
					</LabResultItem>
					<LabResultItem>
						<EnteredOn>2020-10-11T16:46:06Z</EnteredOn>
						<TestItemCode>
							<Code>MCV</Code>
							<Description>MCV</Description>
							<IsNumeric>false</IsNumeric>
						</TestItemCode>
						<ResultValue>77.0</ResultValue>
						<ResultValueUnits>fL</ResultValueUnits>
						<ResultNormalRange>80.0-100.0</ResultNormalRange>
						<ResultInterpretation>L</ResultInterpretation>
						<TestItemStatus>Authorised</TestItemStatus>
						
					</LabResultItem>
					<LabResultItem>
						<EnteredOn>2020-10-11T16:46:06Z</EnteredOn>
						<TestItemCode>
							<Code>MCH</Code>
							<Description>MCH</Description>
							<IsNumeric>false</IsNumeric>
						</TestItemCode>
						<ResultValue>25.0</ResultValue>
						<ResultValueUnits>pg</ResultValueUnits>
						<ResultNormalRange>26.0-34.0</ResultNormalRange>
						<ResultInterpretation>L</ResultInterpretation>
						<TestItemStatus>Authorised</TestItemStatus>
						
					</LabResultItem>
					<LabResultItem>
						<EnteredOn>2020-10-11T16:46:06Z</EnteredOn>
						<TestItemCode>
							<Code>MCHC</Code>
							<Description>MCHC</Description>
							<IsNumeric>false</IsNumeric>
						</TestItemCode>
						<ResultValue>33</ResultValue>
						<ResultValueUnits>g/dL</ResultValueUnits>
						<ResultNormalRange>31-37</ResultNormalRange>
						<TestItemStatus>Authorised</TestItemStatus>
						
					</LabResultItem>
					<LabResultItem>
						<EnteredOn>2020-10-11T16:46:06Z</EnteredOn>
						<TestItemCode>
							<Code>2030</Code>
							<Description>RDW</Description>
							<IsNumeric>false</IsNumeric>
						</TestItemCode>
						<ResultValue>13</ResultValue>
						<ResultValueUnits>%</ResultValueUnits>
						<ResultNormalRange>11.5-17</ResultNormalRange>
						<TestItemStatus>Authorised</TestItemStatus>
						
					</LabResultItem>
					<LabResultItem>
						<EnteredOn>2020-10-11T16:46:06Z</EnteredOn>
						<TestItemCode>
							<Code>PLT</Code>
							<Description>Platelet Count</Description>
							<IsNumeric>false</IsNumeric>
						</TestItemCode>
						<ResultValue>200</ResultValue>
						<ResultValueUnits>K/uL</ResultValueUnits>
						<ResultNormalRange>150-450</ResultNormalRange>
						<TestItemStatus>Authorised</TestItemStatus>
						
					</LabResultItem>
				</ResultItems>
				<VerifiedBy>
					<Code>isc$rriman</Code>
					<Description>Rami Riman</Description>
				</VerifiedBy>
				<ResultTime>2020-10-11T16:25:00Z</ResultTime>
				<AuthorizationTime>2020-10-11T16:46:09Z</AuthorizationTime>
				<EnteredAt>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</EnteredAt>
				<EnteredOn>2020-10-11T16:46:06Z</EnteredOn>
				
			</Result>
			
			<EncounterNumber>IP0000006256</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>OrderQuestion</Name>
					<Value>MEMEPHCOMM^Phlebotomy Comments^</Value>
				</NVPair>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</LabOrder>
		<LabOrder>
			<PlacerId>862710/50</PlacerId>
			<OrderItem>
				<Code>LBI336</Code>
				<Description>LIVER FUNCTION TEST</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPATH</Code>
				<Description>Pathology</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4</Code>
				<Description>A Yakdi</Description>
				<Name>
					<FamilyName>Yakdi</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Alia</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>I</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30L1108</Code>
				<Description>LABORATORY </Description>
			</ReceivingLocation>
			<ActionCode>S</ActionCode>
			<EnteredBy>
				<Code>DrFam</Code>
				<Description>Dr Alia Yakdi</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30W1383</Code>
				<Description>SURGICAL </Description>
			</EnteredAt>
			<EnteredOn>2020-10-11T16:05:31Z</EnteredOn>
			<FromTime>2020-10-11T16:04:00Z</FromTime>
			
			<EncounterNumber>IP0000006256</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</LabOrder>
		<LabOrder>
			<PlacerId>862710/42</PlacerId>
			<OrderItem>
				<Code>LBI991</Code>
				<Description>ELECTROLYTE PANEL</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPATH</Code>
				<Description>Pathology</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4</Code>
				<Description>A Yakdi</Description>
				<Name>
					<FamilyName>Yakdi</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Alia</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>I</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30L1108</Code>
				<Description>LABORATORY </Description>
			</ReceivingLocation>
			<ActionCode>S</ActionCode>
			<EnteredBy>
				<Code>DrFam</Code>
				<Description>Dr Alia Yakdi</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30W1383</Code>
				<Description>SURGICAL </Description>
			</EnteredAt>
			<EnteredOn>2020-10-11T16:05:12Z</EnteredOn>
			<FromTime>2020-10-11T16:04:00Z</FromTime>
			
			<EncounterNumber>IP0000006256</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</LabOrder>
		<LabOrder>
			<PlacerId>862710/26</PlacerId>
			<OrderItem>
				<Code>LHA024</Code>
				<Description>FBC - (FULL BLOOD COUNT)</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPATH</Code>
				<Description>Pathology</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4</Code>
				<Description>A Yakdi</Description>
				<Name>
					<FamilyName>Yakdi</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Alia</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>I</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30L1108</Code>
				<Description>LABORATORY </Description>
			</ReceivingLocation>
			<ActionCode>S</ActionCode>
			<EnteredBy>
				<Code>DrFam</Code>
				<Description>Dr Alia Yakdi</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30W1383</Code>
				<Description>SURGICAL </Description>
			</EnteredAt>
			<EnteredOn>2020-10-11T16:04:49Z</EnteredOn>
			<FromTime>2020-10-11T16:04:00Z</FromTime>
			
			<EncounterNumber>IP0000006256</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</LabOrder>
		<LabOrder>
			<PlacerId>862735/42</PlacerId>
			<OrderItem>
				<Code>LBI336</Code>
				<Description>LIVER FUNCTION TEST</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPATH</Code>
				<Description>Pathology</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4106</Code>
				<Description>P Arnolds</Description>
				<Name>
					<FamilyName>Arnolds</FamilyName>
					<GivenName>Paul</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Specimen>BLS</Specimen>
			<SpecimenCollectedTime>2020-10-12T18:38:00Z</SpecimenCollectedTime>
			<Status>V</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30L1108</Code>
				<Description>LABORATORY </Description>
			</ReceivingLocation>
			<GroupId>2000000015</GroupId>
			<ActionCode>S</ActionCode>
			<EnteredBy>
				<Code>DrOrtho</Code>
				<Description>Orthopedic doctor</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30E1418</Code>
				<Description>ORTHOPAEDICS </Description>
			</EnteredAt>
			<EnteredOn>2020-10-12T18:43:17Z</EnteredOn>
			<FromTime>2020-10-12T18:38:00Z</FromTime>
			
			<EncounterNumber>OP0000283905</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</LabOrder>
		<LabOrder>
			<PlacerId>862735/34</PlacerId>
			<OrderItem>
				<Code>LBI991</Code>
				<Description>ELECTROLYTE PANEL</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPATH</Code>
				<Description>Pathology</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4106</Code>
				<Description>P Arnolds</Description>
				<Name>
					<FamilyName>Arnolds</FamilyName>
					<GivenName>Paul</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Specimen>BLS</Specimen>
			<SpecimenCollectedTime>2020-10-12T18:38:00Z</SpecimenCollectedTime>
			<Status>V</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30L1108</Code>
				<Description>LABORATORY </Description>
			</ReceivingLocation>
			<GroupId>2000000015</GroupId>
			<ActionCode>S</ActionCode>
			<EnteredBy>
				<Code>DrOrtho</Code>
				<Description>Orthopedic doctor</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30E1418</Code>
				<Description>ORTHOPAEDICS </Description>
			</EnteredAt>
			<EnteredOn>2020-10-12T18:43:17Z</EnteredOn>
			<FromTime>2020-10-12T18:38:00Z</FromTime>
			
			<EncounterNumber>OP0000283905</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</LabOrder>
		<LabOrder>
			<PlacerId>862735/26</PlacerId>
			<OrderItem>
				<Code>LBI991</Code>
				<Description>ELECTROLYTE PANEL</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPATH</Code>
				<Description>Pathology</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4106</Code>
				<Description>P Arnolds</Description>
				<Name>
					<FamilyName>Arnolds</FamilyName>
					<GivenName>Paul</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Specimen>BLS</Specimen>
			<SpecimenCollectedTime>2020-10-12T16:46:17Z</SpecimenCollectedTime>
			<SpecimenReceivedTime>2020-10-12T16:50:11Z</SpecimenReceivedTime>
			<Status>E</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30L1108</Code>
				<Description>LABORATORY </Description>
			</ReceivingLocation>
			<GroupId>2000000014</GroupId>
			<ActionCode>S</ActionCode>
			<EnteredBy>
				<Code>isc$rriman</Code>
				<Description>Rami Riman</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30E1418</Code>
				<Description>ORTHOPAEDICS </Description>
			</EnteredAt>
			<EnteredOn>2020-10-12T16:50:32Z</EnteredOn>
			<FromTime>2020-10-12T16:44:00Z</FromTime>
			<Result>
				<ResultType>LAB</ResultType>
				<ResultItems>
					<LabResultItem>
						<EnteredOn>2020-10-12T16:50:31Z</EnteredOn>
						<TestItemCode>
							<Code>1579</Code>
							<Description>Bicarbonate (HCO3 -)</Description>
							<IsNumeric>false</IsNumeric>
						</TestItemCode>
						<ResultValue>30</ResultValue>
						<ResultValueUnits>mmol/L</ResultValueUnits>
						<ResultNormalRange>23-31</ResultNormalRange>
						<TestItemStatus>Authorised</TestItemStatus>
						
					</LabResultItem>
					<LabResultItem>
						<EnteredOn>2020-10-12T16:50:31Z</EnteredOn>
						<TestItemCode>
							<Code>1245</Code>
							<Description>Chloride (Cl)</Description>
							<IsNumeric>false</IsNumeric>
						</TestItemCode>
						<ResultValue>105</ResultValue>
						<ResultValueUnits>mmol/L</ResultValueUnits>
						<ResultNormalRange>98-107</ResultNormalRange>
						<TestItemStatus>Authorised</TestItemStatus>
						
					</LabResultItem>
					<LabResultItem>
						<EnteredOn>2020-10-12T16:50:31Z</EnteredOn>
						<TestItemCode>
							<Code>1152</Code>
							<Description>Potassium (K)</Description>
							<IsNumeric>false</IsNumeric>
						</TestItemCode>
						<ResultValue>3.3</ResultValue>
						<ResultValueUnits>mmol/L</ResultValueUnits>
						<ResultNormalRange>3.5-5.1</ResultNormalRange>
						<ResultInterpretation>L</ResultInterpretation>
						<TestItemStatus>Authorised</TestItemStatus>
						
					</LabResultItem>
					<LabResultItem>
						<EnteredOn>2020-10-12T16:50:31Z</EnteredOn>
						<TestItemCode>
							<Code>1150</Code>
							<Description>Sodium (Na)</Description>
							<IsNumeric>false</IsNumeric>
						</TestItemCode>
						<ResultValue>139.0</ResultValue>
						<ResultValueUnits>mmol/L</ResultValueUnits>
						<ResultNormalRange>136.0-145.0</ResultNormalRange>
						<TestItemStatus>Authorised</TestItemStatus>
						
					</LabResultItem>
				</ResultItems>
				<VerifiedBy>
					<Code>isc$rriman</Code>
					<Description>Rami Riman</Description>
				</VerifiedBy>
				<ResultTime>2020-10-12T16:44:00Z</ResultTime>
				<AuthorizationTime>2020-10-12T16:50:32Z</AuthorizationTime>
				<EnteredAt>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</EnteredAt>
				<EnteredOn>2020-10-12T16:50:31Z</EnteredOn>
				
			</Result>
			
			<EncounterNumber>OP0000283905</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>OrderQuestion</Name>
					<Value>MEMEPHCOMM^Phlebotomy Comments^</Value>
				</NVPair>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</LabOrder>
		<LabOrder>
			<PlacerId>862796/64</PlacerId>
			<OrderItem>
				<Code>LMI067</Code>
				<Description>URINE ANALYSIS (ROUTINE)</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPATH</Code>
				<Description>Pathology</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4</Code>
				<Description>A Yakdi</Description>
				<Name>
					<FamilyName>Yakdi</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Alia</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Specimen>URRNDM</Specimen>
			<SpecimenCollectedTime>2020-10-25T11:46:40Z</SpecimenCollectedTime>
			<SpecimenReceivedTime>2020-10-25T11:47:54Z</SpecimenReceivedTime>
			<Status>IP</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30L1108</Code>
				<Description>LABORATORY </Description>
			</ReceivingLocation>
			<GroupId>2000000026</GroupId>
			<ActionCode>S</ActionCode>
			<EnteredBy>
				<Code>lab</Code>
				<Description>Lab</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30E1396</Code>
				<Description>FAMILY MEDICINE </Description>
			</EnteredAt>
			<EnteredOn>2020-10-25T11:47:56Z</EnteredOn>
			<FromTime>2020-10-25T11:29:00Z</FromTime>
			
			<EncounterNumber>OP0000283912</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>OrderQuestion</Name>
					<Value>MEMEPHCOMM^Phlebotomy Comments^</Value>
				</NVPair>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</LabOrder>
		<LabOrder>
			<PlacerId>862796/56</PlacerId>
			<OrderItem>
				<Code>LHA024</Code>
				<Description>FBC - (FULL BLOOD COUNT)</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPATH</Code>
				<Description>Pathology</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4</Code>
				<Description>A Yakdi</Description>
				<Name>
					<FamilyName>Yakdi</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Alia</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Specimen>BLW</Specimen>
			<SpecimenCollectedTime>2020-10-25T11:46:39Z</SpecimenCollectedTime>
			<SpecimenReceivedTime>2020-10-25T11:47:54Z</SpecimenReceivedTime>
			<Status>IP</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30L1108</Code>
				<Description>LABORATORY </Description>
			</ReceivingLocation>
			<GroupId>2000000026</GroupId>
			<ActionCode>S</ActionCode>
			<EnteredBy>
				<Code>lab</Code>
				<Description>Lab</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30E1396</Code>
				<Description>FAMILY MEDICINE </Description>
			</EnteredAt>
			<EnteredOn>2020-10-25T11:47:56Z</EnteredOn>
			<FromTime>2020-10-25T11:29:00Z</FromTime>
			
			<EncounterNumber>OP0000283912</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>OrderQuestion</Name>
					<Value>MEMEPHCOMM^Phlebotomy Comments^</Value>
				</NVPair>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</LabOrder>
		<LabOrder>
			<PlacerId>862796/48</PlacerId>
			<OrderItem>
				<Code>LBI991</Code>
				<Description>ELECTROLYTE PANEL</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPATH</Code>
				<Description>Pathology</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4</Code>
				<Description>A Yakdi</Description>
				<Name>
					<FamilyName>Yakdi</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Alia</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Specimen>BLS</Specimen>
			<SpecimenCollectedTime>2020-10-25T11:46:39Z</SpecimenCollectedTime>
			<SpecimenReceivedTime>2020-10-25T11:47:54Z</SpecimenReceivedTime>
			<Status>IP</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30L1108</Code>
				<Description>LABORATORY </Description>
			</ReceivingLocation>
			<GroupId>2000000026</GroupId>
			<ActionCode>S</ActionCode>
			<EnteredBy>
				<Code>lab</Code>
				<Description>Lab</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30E1396</Code>
				<Description>FAMILY MEDICINE </Description>
			</EnteredAt>
			<EnteredOn>2020-10-25T11:47:55Z</EnteredOn>
			<FromTime>2020-10-25T11:29:00Z</FromTime>
			
			<EncounterNumber>OP0000283912</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>OrderQuestion</Name>
					<Value>MEMEPHCOMM^Phlebotomy Comments^</Value>
				</NVPair>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</LabOrder>
		<LabOrder>
			<PlacerId>862890/104</PlacerId>
			<OrderItem>
				<Code>LHA024</Code>
				<Description>FBC - (FULL BLOOD COUNT)</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPATH</Code>
				<Description>Pathology</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO3139</Code>
				<Description>A Biswas</Description>
				<Name>
					<FamilyName>Biswas</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Alvin</GivenName>
				</Name>
				<CareProviderType>
					<Code>002</Code>
					<Description>Specialist Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Specimen>BLW</Specimen>
			<SpecimenCollectedTime>2020-11-10T17:22:19Z</SpecimenCollectedTime>
			<SpecimenReceivedTime>2020-11-10T17:25:41Z</SpecimenReceivedTime>
			<Status>IP</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30L1108</Code>
				<Description>LABORATORY </Description>
			</ReceivingLocation>
			<GroupId>2000000036</GroupId>
			<ActionCode>S</ActionCode>
			<EnteredBy>
				<Code>lab</Code>
				<Description>Lab</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30EM1439</Code>
				<Description>ACCIDENT - EMERGENCY </Description>
			</EnteredAt>
			<EnteredOn>2020-11-10T17:25:42Z</EnteredOn>
			<FromTime>2020-11-10T17:14:00Z</FromTime>
			
			<EncounterNumber>EM0000025194</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>OrderQuestion</Name>
					<Value>MEMEPHCOMM^Phlebotomy Comments^</Value>
				</NVPair>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</LabOrder>
		<LabOrder>
			<PlacerId>862890/96</PlacerId>
			<OrderItem>
				<Code>LHA051</Code>
				<Description>PTT (ACTIVATED PARTIAL THROMOPLASTIN TIME)</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPATH</Code>
				<Description>Pathology</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO3139</Code>
				<Description>A Biswas</Description>
				<Name>
					<FamilyName>Biswas</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Alvin</GivenName>
				</Name>
				<CareProviderType>
					<Code>002</Code>
					<Description>Specialist Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Specimen>BLPL</Specimen>
			<SpecimenCollectedTime>2020-11-10T17:22:21Z</SpecimenCollectedTime>
			<SpecimenReceivedTime>2020-11-10T17:25:41Z</SpecimenReceivedTime>
			<Status>IP</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30L1108</Code>
				<Description>LABORATORY </Description>
			</ReceivingLocation>
			<GroupId>2000000036</GroupId>
			<ActionCode>S</ActionCode>
			<EnteredBy>
				<Code>lab</Code>
				<Description>Lab</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30EM1439</Code>
				<Description>ACCIDENT - EMERGENCY </Description>
			</EnteredAt>
			<EnteredOn>2020-11-10T17:25:42Z</EnteredOn>
			<FromTime>2020-11-10T17:14:00Z</FromTime>
			
			<EncounterNumber>EM0000025194</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>OrderQuestion</Name>
					<Value>MEXXH2004^ Is the patient receiving anticoagulants?^</Value>
				</NVPair>
				<NVPair>
					<Name>OrderQuestion</Name>
					<Value>MEMEPHCOMM^Phlebotomy Comments^</Value>
				</NVPair>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</LabOrder>
		<LabOrder>
			<PlacerId>862890/88</PlacerId>
			<OrderItem>
				<Code>LHA050</Code>
				<Description>
					<![CDATA[PT (PROTROMBIN TIME &amp; INR)]]]]><![CDATA[>
				</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPATH</Code>
				<Description>Pathology</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO3139</Code>
				<Description>A Biswas</Description>
				<Name>
					<FamilyName>Biswas</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Alvin</GivenName>
				</Name>
				<CareProviderType>
					<Code>002</Code>
					<Description>Specialist Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Specimen>BLPL</Specimen>
			<SpecimenCollectedTime>2020-11-10T17:22:21Z</SpecimenCollectedTime>
			<SpecimenReceivedTime>2020-11-10T17:25:41Z</SpecimenReceivedTime>
			<Status>IP</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30L1108</Code>
				<Description>LABORATORY </Description>
			</ReceivingLocation>
			<GroupId>2000000036</GroupId>
			<ActionCode>S</ActionCode>
			<EnteredBy>
				<Code>lab</Code>
				<Description>Lab</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30EM1439</Code>
				<Description>ACCIDENT - EMERGENCY </Description>
			</EnteredAt>
			<EnteredOn>2020-11-10T17:25:42Z</EnteredOn>
			<FromTime>2020-11-10T17:14:00Z</FromTime>
			
			<EncounterNumber>EM0000025194</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>OrderQuestion</Name>
					<Value>MEXXH2004^ Is the patient receiving anticoagulants?^</Value>
				</NVPair>
				<NVPair>
					<Name>OrderQuestion</Name>
					<Value>MEMEPHCOMM^Phlebotomy Comments^</Value>
				</NVPair>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</LabOrder>
		<LabOrder>
			<PlacerId>862890/70</PlacerId>
			<OrderItem>
				<Code>LBI075</Code>
				<Description>CK-MB (MASS)</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPATH</Code>
				<Description>Pathology</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO3139</Code>
				<Description>A Biswas</Description>
				<Name>
					<FamilyName>Biswas</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Alvin</GivenName>
				</Name>
				<CareProviderType>
					<Code>002</Code>
					<Description>Specialist Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Specimen>BLPL</Specimen>
			<SpecimenCollectedTime>2020-11-10T17:22:20Z</SpecimenCollectedTime>
			<SpecimenReceivedTime>2020-11-10T17:25:41Z</SpecimenReceivedTime>
			<Status>IP</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30L1108</Code>
				<Description>LABORATORY </Description>
			</ReceivingLocation>
			<GroupId>2000000036</GroupId>
			<ActionCode>S</ActionCode>
			<EnteredBy>
				<Code>lab</Code>
				<Description>Lab</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30EM1439</Code>
				<Description>ACCIDENT - EMERGENCY </Description>
			</EnteredAt>
			<EnteredOn>2020-11-10T17:25:42Z</EnteredOn>
			<FromTime>2020-11-10T17:14:00Z</FromTime>
			
			<EncounterNumber>EM0000025194</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>OrderQuestion</Name>
					<Value>MEMEPHCOMM^Phlebotomy Comments^</Value>
				</NVPair>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</LabOrder>
		<LabOrder>
			<PlacerId>862890/62</PlacerId>
			<OrderItem>
				<Code>LBI080</Code>
				<Description>CREATINE KINASE (CK)</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPATH</Code>
				<Description>Pathology</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO3139</Code>
				<Description>A Biswas</Description>
				<Name>
					<FamilyName>Biswas</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Alvin</GivenName>
				</Name>
				<CareProviderType>
					<Code>002</Code>
					<Description>Specialist Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Specimen>BLS</Specimen>
			<SpecimenCollectedTime>2020-11-10T17:22:20Z</SpecimenCollectedTime>
			<SpecimenReceivedTime>2020-11-10T17:25:41Z</SpecimenReceivedTime>
			<Status>IP</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30L1108</Code>
				<Description>LABORATORY </Description>
			</ReceivingLocation>
			<GroupId>2000000036</GroupId>
			<ActionCode>S</ActionCode>
			<EnteredBy>
				<Code>lab</Code>
				<Description>Lab</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30EM1439</Code>
				<Description>ACCIDENT - EMERGENCY </Description>
			</EnteredAt>
			<EnteredOn>2020-11-10T17:25:42Z</EnteredOn>
			<FromTime>2020-11-10T17:14:00Z</FromTime>
			
			<EncounterNumber>EM0000025194</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>OrderQuestion</Name>
					<Value>MEMEPHCOMM^Phlebotomy Comments^</Value>
				</NVPair>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</LabOrder>
		<LabOrder>
			<PlacerId>862890/131</PlacerId>
			<OrderItem>
				<Code>LBI991</Code>
				<Description>ELECTROLYTE PANEL</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPATH</Code>
				<Description>Pathology</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO3139</Code>
				<Description>A Biswas</Description>
				<Name>
					<FamilyName>Biswas</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Alvin</GivenName>
				</Name>
				<CareProviderType>
					<Code>002</Code>
					<Description>Specialist Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Specimen>BLS</Specimen>
			<SpecimenCollectedTime>2020-11-10T17:22:20Z</SpecimenCollectedTime>
			<SpecimenReceivedTime>2020-11-10T17:25:41Z</SpecimenReceivedTime>
			<Status>E</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30L1108</Code>
				<Description>LABORATORY </Description>
			</ReceivingLocation>
			<GroupId>2000000036</GroupId>
			<ActionCode>S</ActionCode>
			<EnteredBy>
				<Code>lab</Code>
				<Description>Lab</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30EM1439</Code>
				<Description>ACCIDENT - EMERGENCY </Description>
			</EnteredAt>
			<EnteredOn>2020-11-10T17:27:09Z</EnteredOn>
			<FromTime>2020-11-10T17:14:00Z</FromTime>
			<Result>
				<ResultType>LAB</ResultType>
				<ResultItems>
					<LabResultItem>
						<EnteredOn>2020-11-10T17:27:09Z</EnteredOn>
						<TestItemCode>
							<Code>1579</Code>
							<Description>Bicarbonate (HCO3 -)</Description>
							<IsNumeric>false</IsNumeric>
						</TestItemCode>
						<ResultValue>25</ResultValue>
						<ResultValueUnits>mmol/L</ResultValueUnits>
						<ResultNormalRange>23-31</ResultNormalRange>
						<TestItemStatus>Authorised</TestItemStatus>
						
					</LabResultItem>
					<LabResultItem>
						<EnteredOn>2020-11-10T17:27:09Z</EnteredOn>
						<TestItemCode>
							<Code>1245</Code>
							<Description>Chloride (Cl)</Description>
							<IsNumeric>false</IsNumeric>
						</TestItemCode>
						<ResultValue>110</ResultValue>
						<ResultValueUnits>mmol/L</ResultValueUnits>
						<ResultNormalRange>98-107</ResultNormalRange>
						<ResultInterpretation>H</ResultInterpretation>
						<TestItemStatus>Authorised</TestItemStatus>
						
					</LabResultItem>
					<LabResultItem>
						<EnteredOn>2020-11-10T17:27:09Z</EnteredOn>
						<TestItemCode>
							<Code>1152</Code>
							<Description>Potassium (K)</Description>
							<IsNumeric>false</IsNumeric>
						</TestItemCode>
						<ResultValue>3.0</ResultValue>
						<ResultValueUnits>mmol/L</ResultValueUnits>
						<ResultNormalRange>3.5-5.1</ResultNormalRange>
						<ResultInterpretation>L</ResultInterpretation>
						<TestItemStatus>Authorised</TestItemStatus>
						
					</LabResultItem>
					<LabResultItem>
						<EnteredOn>2020-11-10T17:27:09Z</EnteredOn>
						<TestItemCode>
							<Code>1150</Code>
							<Description>Sodium (Na)</Description>
							<IsNumeric>false</IsNumeric>
						</TestItemCode>
						<ResultValue>140.0</ResultValue>
						<ResultValueUnits>mmol/L</ResultValueUnits>
						<ResultNormalRange>136.0-145.0</ResultNormalRange>
						<TestItemStatus>Authorised</TestItemStatus>
						
					</LabResultItem>
				</ResultItems>
				<VerifiedBy>
					<Code>lab</Code>
					<Description>Lab</Description>
				</VerifiedBy>
				<ResultTime>2020-11-10T17:14:00Z</ResultTime>
				<AuthorizationTime>2020-11-10T17:27:09Z</AuthorizationTime>
				<EnteredAt>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</EnteredAt>
				<EnteredOn>2020-11-10T17:27:09Z</EnteredOn>
				
			</Result>
			
			<EncounterNumber>EM0000025194</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>OrderQuestion</Name>
					<Value>MEMEPHCOMM^Phlebotomy Comments^</Value>
				</NVPair>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</LabOrder>
		<LabOrder>
			<PlacerId>862890/122</PlacerId>
			<OrderItem>
				<Code>LBI081</Code>
				<Description>CREATININE (CR)</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPATH</Code>
				<Description>Pathology</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO3139</Code>
				<Description>A Biswas</Description>
				<Name>
					<FamilyName>Biswas</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Alvin</GivenName>
				</Name>
				<CareProviderType>
					<Code>002</Code>
					<Description>Specialist Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Specimen>BLS</Specimen>
			<SpecimenCollectedTime>2020-11-10T17:22:20Z</SpecimenCollectedTime>
			<SpecimenReceivedTime>2020-11-10T17:25:41Z</SpecimenReceivedTime>
			<Status>IP</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30L1108</Code>
				<Description>LABORATORY </Description>
			</ReceivingLocation>
			<GroupId>2000000036</GroupId>
			<ActionCode>S</ActionCode>
			<EnteredBy>
				<Code>lab</Code>
				<Description>Lab</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30EM1439</Code>
				<Description>ACCIDENT - EMERGENCY </Description>
			</EnteredAt>
			<EnteredOn>2020-11-10T17:25:42Z</EnteredOn>
			<FromTime>2020-11-10T17:14:00Z</FromTime>
			
			<EncounterNumber>EM0000025194</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>OrderQuestion</Name>
					<Value>MEMEPHCOMM^Phlebotomy Comments^</Value>
				</NVPair>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</LabOrder>
		<LabOrder>
			<PlacerId>862890/113</PlacerId>
			<OrderItem>
				<Code>LBI127</Code>
				<Description>GLUCOSE RANDOM (RBS)</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPATH</Code>
				<Description>Pathology</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO3139</Code>
				<Description>A Biswas</Description>
				<Name>
					<FamilyName>Biswas</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Alvin</GivenName>
				</Name>
				<CareProviderType>
					<Code>002</Code>
					<Description>Specialist Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Specimen>BLS</Specimen>
			<SpecimenCollectedTime>2020-11-10T17:22:20Z</SpecimenCollectedTime>
			<SpecimenReceivedTime>2020-11-10T17:25:41Z</SpecimenReceivedTime>
			<Status>IP</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30L1108</Code>
				<Description>LABORATORY </Description>
			</ReceivingLocation>
			<GroupId>2000000036</GroupId>
			<ActionCode>S</ActionCode>
			<EnteredBy>
				<Code>lab</Code>
				<Description>Lab</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30EM1439</Code>
				<Description>ACCIDENT - EMERGENCY </Description>
			</EnteredAt>
			<EnteredOn>2020-11-10T17:25:42Z</EnteredOn>
			<FromTime>2020-11-10T17:14:00Z</FromTime>
			
			<EncounterNumber>EM0000025194</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>OrderQuestion</Name>
					<Value>MEMEPHCOMM^Phlebotomy Comments^</Value>
				</NVPair>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</LabOrder>
		<LabOrder>
			<PlacerId>862912/76</PlacerId>
			<OrderItem>
				<Code>LMI067</Code>
				<Description>URINE ANALYSIS (ROUTINE)</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPATH</Code>
				<Description>Pathology</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4068</Code>
				<Description>H Martin</Description>
				<Name>
					<FamilyName>Martin</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Helen</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Specimen>URRNDM</Specimen>
			<SpecimenCollectedTime>2020-11-12T02:36:05Z</SpecimenCollectedTime>
			<SpecimenReceivedTime>2020-11-12T02:36:48Z</SpecimenReceivedTime>
			<Status>E</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30L1108</Code>
				<Description>LABORATORY </Description>
			</ReceivingLocation>
			<GroupId>2000000039</GroupId>
			<ActionCode>S</ActionCode>
			<EnteredBy>
				<Code>lab</Code>
				<Description>Lab</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30W1378</Code>
				<Description>ICU </Description>
			</EnteredAt>
			<EnteredOn>2020-11-12T02:39:11Z</EnteredOn>
			<FromTime>2020-11-11T22:42:00Z</FromTime>
			<Result>
				<ResultType>LAB</ResultType>
				<ResultItems>
					<LabResultItem>
						<EnteredOn>2020-11-12T02:39:09Z</EnteredOn>
						<TestItemCode>
							<Code>2076</Code>
							<Description>Specimen</Description>
							<IsNumeric>false</IsNumeric>
						</TestItemCode>
						<ResultValue>Initial</ResultValue>
						<TestItemStatus>Authorised</TestItemStatus>
						
					</LabResultItem>
					<LabResultItem>
						<EnteredOn>2020-11-12T02:39:09Z</EnteredOn>
						<TestItemCode>
							<Code>ACOLOUR</Code>
							<Description>
								ACOLOUR
							</Description>
							<IsNumeric>false</IsNumeric>
						</TestItemCode>
						<ResultValue>Amber</ResultValue>
						<TestItemStatus>Authorised</TestItemStatus>
						
					</LabResultItem>
					<LabResultItem>
						<EnteredOn>2020-11-12T02:39:09Z</EnteredOn>
						<TestItemCode>
							<Code>APPEARANCEUA</Code>
							<Description>
								APPEARANCE
							</Description>
							<IsNumeric>false</IsNumeric>
						</TestItemCode>
						<ResultValue>Clear</ResultValue>
						<TestItemStatus>Authorised</TestItemStatus>
						
					</LabResultItem>
					<LabResultItem>
						<EnteredOn>2020-11-12T02:39:09Z</EnteredOn>
						<TestItemCode>
							<Code>ALEUCO</Code>
							<Description>Leucocytes (UA)</Description>
							<IsNumeric>false</IsNumeric>
						</TestItemCode>
						<ResultValue>0</ResultValue>
						<ResultValueUnits>cell/HPF</ResultValueUnits>
						<ResultNormalRange>0 - 5</ResultNormalRange>
						<TestItemStatus>Authorised</TestItemStatus>
						
					</LabResultItem>
					<LabResultItem>
						<EnteredOn>2020-11-12T02:39:09Z</EnteredOn>
						<TestItemCode>
							<Code>ARBC</Code>
							<Description>Red Cells (UA)</Description>
							<IsNumeric>false</IsNumeric>
						</TestItemCode>
						<ResultValue>0</ResultValue>
						<ResultValueUnits>cell/HPF</ResultValueUnits>
						<ResultNormalRange>
							<![CDATA[<3]]]]><![CDATA[>
						</ResultNormalRange>
						<TestItemStatus>Authorised</TestItemStatus>
						
					</LabResultItem>
					<LabResultItem>
						<EnteredOn>2020-11-12T02:39:09Z</EnteredOn>
						<TestItemCode>
							<Code>2792</Code>
							<Description>
								Epithelial Cells
							</Description>
							<IsNumeric>false</IsNumeric>
						</TestItemCode>
						<ResultValue>0</ResultValue>
						<ResultNormalRange>0 - 5</ResultNormalRange>
						<TestItemStatus>Authorised</TestItemStatus>
						
					</LabResultItem>
					<LabResultItem>
						<EnteredOn>2020-11-12T02:39:09Z</EnteredOn>
						<TestItemCode>
							<Code>AYC</Code>
							<Description>Yeast Cells (UA)</Description>
							<IsNumeric>false</IsNumeric>
						</TestItemCode>
						<ResultValue>NIL</ResultValue>
						<ResultNormalRange>NIL</ResultNormalRange>
						<TestItemStatus>Authorised</TestItemStatus>
						
					</LabResultItem>
					<LabResultItem>
						<EnteredOn>2020-11-12T02:39:09Z</EnteredOn>
						<TestItemCode>
							<Code>2066</Code>
							<Description>Bacteria</Description>
							<IsNumeric>false</IsNumeric>
						</TestItemCode>
						<ResultValue>NIL</ResultValue>
						<ResultValueUnits>cells/hpf</ResultValueUnits>
						<ResultNormalRange>NIL</ResultNormalRange>
						<TestItemStatus>Authorised</TestItemStatus>
						
					</LabResultItem>
					<LabResultItem>
						<EnteredOn>2020-11-12T02:39:09Z</EnteredOn>
						<TestItemCode>
							<Code>MUCA</Code>
							<Description>Casts</Description>
							<IsNumeric>false</IsNumeric>
						</TestItemCode>
						<ResultValue>NIL</ResultValue>
						<ResultValueUnits>cell/HPF</ResultValueUnits>
						<ResultNormalRange>0 - 2 hyaline</ResultNormalRange>
						<TestItemStatus>Authorised</TestItemStatus>
						
					</LabResultItem>
					<LabResultItem>
						<EnteredOn>2020-11-12T02:39:09Z</EnteredOn>
						<TestItemCode>
							<Code>MCY</Code>
							<Description>Crystals</Description>
							<IsNumeric>false</IsNumeric>
						</TestItemCode>
						<ResultValue>NIL</ResultValue>
						<ResultValueUnits>/HPF</ResultValueUnits>
						<ResultNormalRange>NIL</ResultNormalRange>
						<TestItemStatus>Authorised</TestItemStatus>
						
					</LabResultItem>
					<LabResultItem>
						<EnteredOn>2020-11-12T02:39:09Z</EnteredOn>
						<TestItemCode>
							<Code>2096</Code>
							<Description>Mucus Threads</Description>
							<IsNumeric>false</IsNumeric>
						</TestItemCode>
						<ResultValue>NIL</ResultValue>
						<ResultValueUnits>/HPF</ResultValueUnits>
						<TestItemStatus>Authorised</TestItemStatus>
						
					</LabResultItem>
					<LabResultItem>
						<EnteredOn>2020-11-12T02:39:09Z</EnteredOn>
						<TestItemCode>
							<Code>1995</Code>
							<Description>Protein</Description>
							<IsNumeric>false</IsNumeric>
						</TestItemCode>
						<ResultValue>Negative</ResultValue>
						<ResultNormalRange>Negative</ResultNormalRange>
						<TestItemStatus>Authorised</TestItemStatus>
						
					</LabResultItem>
					<LabResultItem>
						<EnteredOn>2020-11-12T02:39:09Z</EnteredOn>
						<TestItemCode>
							<Code>AGLUC</Code>
							<Description>Glucose (UA)</Description>
							<IsNumeric>false</IsNumeric>
						</TestItemCode>
						<ResultValue>Positive (1+)</ResultValue>
						<ResultNormalRange>Negative</ResultNormalRange>
						<ResultInterpretation>H</ResultInterpretation>
						<TestItemStatus>Authorised</TestItemStatus>
						
					</LabResultItem>
					<LabResultItem>
						<EnteredOn>2020-11-12T02:39:09Z</EnteredOn>
						<TestItemCode>
							<Code>1051</Code>
							<Description>Blood (RBC)</Description>
							<IsNumeric>false</IsNumeric>
						</TestItemCode>
						<ResultValue>Negative</ResultValue>
						<ResultNormalRange>Negative</ResultNormalRange>
						<TestItemStatus>Authorised</TestItemStatus>
						
					</LabResultItem>
					<LabResultItem>
						<EnteredOn>2020-11-12T02:39:09Z</EnteredOn>
						<TestItemCode>
							<Code>BLDHGL</Code>
							<Description>Blood (Hemoglobin)</Description>
							<IsNumeric>false</IsNumeric>
						</TestItemCode>
						<ResultValue>Negative</ResultValue>
						<ResultNormalRange>Negative</ResultNormalRange>
						<TestItemStatus>Authorised</TestItemStatus>
						
					</LabResultItem>
					<LabResultItem>
						<EnteredOn>2020-11-12T02:39:09Z</EnteredOn>
						<TestItemCode>
							<Code>ALEUCOEST</Code>
							<Description>Leucocyte Esterase</Description>
							<IsNumeric>false</IsNumeric>
						</TestItemCode>
						<ResultValue>Negative</ResultValue>
						<ResultNormalRange>Negative</ResultNormalRange>
						<TestItemStatus>Authorised</TestItemStatus>
						
					</LabResultItem>
					<LabResultItem>
						<EnteredOn>2020-11-12T02:39:09Z</EnteredOn>
						<TestItemCode>
							<Code>1801</Code>
							<Description>Urobilinogen (Urine)</Description>
							<IsNumeric>false</IsNumeric>
						</TestItemCode>
						<ResultValue>Negative</ResultValue>
						<ResultNormalRange>Negative</ResultNormalRange>
						<TestItemStatus>Authorised</TestItemStatus>
						
					</LabResultItem>
					<LabResultItem>
						<EnteredOn>2020-11-12T02:39:09Z</EnteredOn>
						<TestItemCode>
							<Code>ABIL</Code>
							<Description>Bilirubin (UA)</Description>
							<IsNumeric>false</IsNumeric>
						</TestItemCode>
						<ResultValue>Negative</ResultValue>
						<ResultNormalRange>Negative</ResultNormalRange>
						<TestItemStatus>Authorised</TestItemStatus>
						
					</LabResultItem>
					<LabResultItem>
						<EnteredOn>2020-11-12T02:39:09Z</EnteredOn>
						<TestItemCode>
							<Code>1096</Code>
							<Description>Ketone</Description>
							<IsNumeric>false</IsNumeric>
						</TestItemCode>
						<ResultValue>Negative</ResultValue>
						<ResultNormalRange>Negative</ResultNormalRange>
						<TestItemStatus>Authorised</TestItemStatus>
						
					</LabResultItem>
					<LabResultItem>
						<EnteredOn>2020-11-12T02:39:09Z</EnteredOn>
						<TestItemCode>
							<Code>ANITR</Code>
							<Description>
								ANITR
							</Description>
							<IsNumeric>false</IsNumeric>
						</TestItemCode>
						<ResultValue>Negative</ResultValue>
						<ResultNormalRange>Negative</ResultNormalRange>
						<TestItemStatus>Authorised</TestItemStatus>
						
					</LabResultItem>
					<LabResultItem>
						<EnteredOn>2020-11-12T02:39:09Z</EnteredOn>
						<TestItemCode>
							<Code>MUSG</Code>
							<Description>Specific Gravity</Description>
							<IsNumeric>false</IsNumeric>
						</TestItemCode>
						<ResultValue>1</ResultValue>
						<ResultNormalRange>1.003-1.03</ResultNormalRange>
						<ResultInterpretation>L</ResultInterpretation>
						<TestItemStatus>Authorised</TestItemStatus>
						
					</LabResultItem>
				</ResultItems>
				<VerifiedBy>
					<Code>lab</Code>
					<Description>Lab</Description>
				</VerifiedBy>
				<ResultTime>2020-11-11T22:42:00Z</ResultTime>
				<AuthorizationTime>2020-11-12T02:39:11Z</AuthorizationTime>
				<EnteredAt>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</EnteredAt>
				<EnteredOn>2020-11-12T02:39:09Z</EnteredOn>
				
			</Result>
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>OrderQuestion</Name>
					<Value>MEMEPHCOMM^Phlebotomy Comments^</Value>
				</NVPair>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</LabOrder>
		<LabOrder>
			<PlacerId>862912/26</PlacerId>
			<OrderItem>
				<Code>LBI081</Code>
				<Description>CREATININE (CR)</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPATH</Code>
				<Description>Pathology</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4068</Code>
				<Description>H Martin</Description>
				<Name>
					<FamilyName>Martin</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Helen</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Specimen>BLS</Specimen>
			<SpecimenCollectedTime>2020-11-12T02:36:04Z</SpecimenCollectedTime>
			<SpecimenReceivedTime>2020-11-12T02:36:48Z</SpecimenReceivedTime>
			<Status>E</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30L1108</Code>
				<Description>LABORATORY </Description>
			</ReceivingLocation>
			<GroupId>2000000039</GroupId>
			<ActionCode>S</ActionCode>
			<EnteredBy>
				<Code>lab</Code>
				<Description>Lab</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30W1378</Code>
				<Description>ICU </Description>
			</EnteredAt>
			<EnteredOn>2020-11-12T02:39:11Z</EnteredOn>
			<FromTime>2020-11-11T22:42:00Z</FromTime>
			<Result>
				<ResultType>LAB</ResultType>
				<ResultItems>
					<LabResultItem>
						<EnteredOn>2020-11-12T02:39:09Z</EnteredOn>
						<TestItemCode>
							<Code>1156</Code>
							<Description>Creatinine (CRE)</Description>
							<IsNumeric>false</IsNumeric>
						</TestItemCode>
						<ResultValue>125.0</ResultValue>
						<ResultValueUnits>umol/L</ResultValueUnits>
						<ResultNormalRange>63.6-110.5</ResultNormalRange>
						<ResultInterpretation>H</ResultInterpretation>
						<TestItemStatus>Authorised</TestItemStatus>
						
					</LabResultItem>
				</ResultItems>
				<VerifiedBy>
					<Code>lab</Code>
					<Description>Lab</Description>
				</VerifiedBy>
				<ResultTime>2020-11-11T22:42:00Z</ResultTime>
				<AuthorizationTime>2020-11-12T02:39:11Z</AuthorizationTime>
				<EnteredAt>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</EnteredAt>
				<EnteredOn>2020-11-12T02:39:09Z</EnteredOn>
				
			</Result>
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>OrderQuestion</Name>
					<Value>MEMEPHCOMM^Phlebotomy Comments^</Value>
				</NVPair>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</LabOrder>
		<LabOrder>
			<PlacerId>862912/18</PlacerId>
			<OrderItem>
				<Code>LHA024</Code>
				<Description>FBC - (FULL BLOOD COUNT)</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPATH</Code>
				<Description>Pathology</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4068</Code>
				<Description>H Martin</Description>
				<Name>
					<FamilyName>Martin</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Helen</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Specimen>BLW</Specimen>
			<SpecimenCollectedTime>2020-11-12T02:36:03Z</SpecimenCollectedTime>
			<SpecimenReceivedTime>2020-11-12T02:36:48Z</SpecimenReceivedTime>
			<Status>E</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30L1108</Code>
				<Description>LABORATORY </Description>
			</ReceivingLocation>
			<GroupId>2000000039</GroupId>
			<ActionCode>S</ActionCode>
			<EnteredBy>
				<Code>lab</Code>
				<Description>Lab</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30W1378</Code>
				<Description>ICU </Description>
			</EnteredAt>
			<EnteredOn>2020-11-12T02:39:11Z</EnteredOn>
			<FromTime>2020-11-11T22:42:00Z</FromTime>
			<Result>
				<ResultType>LAB</ResultType>
				<ResultItems>
					<LabResultItem>
						<EnteredOn>2020-11-12T02:39:09Z</EnteredOn>
						<TestItemCode>
							<Code>WBC</Code>
							<Description>White Cell Count</Description>
							<IsNumeric>false</IsNumeric>
						</TestItemCode>
						<ResultValue>8.0</ResultValue>
						<ResultValueUnits>K/uL</ResultValueUnits>
						<ResultNormalRange>4.0-11.0</ResultNormalRange>
						<TestItemStatus>Authorised</TestItemStatus>
						
					</LabResultItem>
					<LabResultItem>
						<EnteredOn>2020-11-12T02:39:09Z</EnteredOn>
						<TestItemCode>
							<Code>RBC</Code>
							<Description>Red Cell Count</Description>
							<IsNumeric>false</IsNumeric>
						</TestItemCode>
						<ResultValue>5.00</ResultValue>
						<ResultValueUnits>M/uL</ResultValueUnits>
						<ResultNormalRange>4.50-5.90</ResultNormalRange>
						<TestItemStatus>Authorised</TestItemStatus>
						
					</LabResultItem>
					<LabResultItem>
						<EnteredOn>2020-11-12T02:39:09Z</EnteredOn>
						<TestItemCode>
							<Code>HB</Code>
							<Description>Haemoglobin</Description>
							<IsNumeric>false</IsNumeric>
						</TestItemCode>
						<ResultValue>12.9</ResultValue>
						<ResultValueUnits>g/dL</ResultValueUnits>
						<ResultNormalRange>13.0-17.5</ResultNormalRange>
						<ResultInterpretation>L</ResultInterpretation>
						<TestItemStatus>Authorised</TestItemStatus>
						
					</LabResultItem>
					<LabResultItem>
						<EnteredOn>2020-11-12T02:39:09Z</EnteredOn>
						<TestItemCode>
							<Code>1263</Code>
							<Description>HCT/PCV</Description>
							<IsNumeric>false</IsNumeric>
						</TestItemCode>
						<ResultValue>38</ResultValue>
						<ResultValueUnits>%</ResultValueUnits>
						<ResultNormalRange>39-52</ResultNormalRange>
						<ResultInterpretation>L</ResultInterpretation>
						<TestItemStatus>Authorised</TestItemStatus>
						
					</LabResultItem>
					<LabResultItem>
						<EnteredOn>2020-11-12T02:39:09Z</EnteredOn>
						<TestItemCode>
							<Code>MCV</Code>
							<Description>MCV</Description>
							<IsNumeric>false</IsNumeric>
						</TestItemCode>
						<ResultValue>78.0</ResultValue>
						<ResultValueUnits>fL</ResultValueUnits>
						<ResultNormalRange>80.0-100.0</ResultNormalRange>
						<ResultInterpretation>L</ResultInterpretation>
						<TestItemStatus>Authorised</TestItemStatus>
						
					</LabResultItem>
					<LabResultItem>
						<EnteredOn>2020-11-12T02:39:09Z</EnteredOn>
						<TestItemCode>
							<Code>MCH</Code>
							<Description>MCH</Description>
							<IsNumeric>false</IsNumeric>
						</TestItemCode>
						<ResultValue>28.0</ResultValue>
						<ResultValueUnits>pg</ResultValueUnits>
						<ResultNormalRange>26.0-34.0</ResultNormalRange>
						<TestItemStatus>Authorised</TestItemStatus>
						
					</LabResultItem>
					<LabResultItem>
						<EnteredOn>2020-11-12T02:39:09Z</EnteredOn>
						<TestItemCode>
							<Code>MCHC</Code>
							<Description>MCHC</Description>
							<IsNumeric>false</IsNumeric>
						</TestItemCode>
						<ResultValue>33</ResultValue>
						<ResultValueUnits>g/dL</ResultValueUnits>
						<ResultNormalRange>31-37</ResultNormalRange>
						<TestItemStatus>Authorised</TestItemStatus>
						
					</LabResultItem>
					<LabResultItem>
						<EnteredOn>2020-11-12T02:39:09Z</EnteredOn>
						<TestItemCode>
							<Code>2030</Code>
							<Description>RDW</Description>
							<IsNumeric>false</IsNumeric>
						</TestItemCode>
						<ResultValue>12</ResultValue>
						<ResultValueUnits>%</ResultValueUnits>
						<ResultNormalRange>11.5-17</ResultNormalRange>
						<TestItemStatus>Authorised</TestItemStatus>
						
					</LabResultItem>
					<LabResultItem>
						<EnteredOn>2020-11-12T02:39:09Z</EnteredOn>
						<TestItemCode>
							<Code>PLT</Code>
							<Description>Platelet Count</Description>
							<IsNumeric>false</IsNumeric>
						</TestItemCode>
						<ResultValue>300</ResultValue>
						<ResultValueUnits>K/uL</ResultValueUnits>
						<ResultNormalRange>150-450</ResultNormalRange>
						<TestItemStatus>Authorised</TestItemStatus>
						
					</LabResultItem>
					<LabResultItem>
						<EnteredOn>2020-11-12T02:39:09Z</EnteredOn>
						<TestItemCode>
							<Code>3236</Code>
							<Description>MPV</Description>
							<IsNumeric>false</IsNumeric>
						</TestItemCode>
						<ResultValue>7</ResultValue>
						<ResultValueUnits>fL</ResultValueUnits>
						<ResultNormalRange>6.8-10.4</ResultNormalRange>
						<TestItemStatus>Authorised</TestItemStatus>
						
					</LabResultItem>
					<LabResultItem>
						<EnteredOn>2020-11-12T02:39:09Z</EnteredOn>
						<TestItemCode>
							<Code>NEUTA</Code>
							<Description>Neutrophils</Description>
							<IsNumeric>false</IsNumeric>
						</TestItemCode>
						<ResultValue>2.00</ResultValue>
						<ResultValueUnits>K/uL</ResultValueUnits>
						<ResultNormalRange>1.80-7.70</ResultNormalRange>
						<TestItemStatus>Authorised</TestItemStatus>
						
					</LabResultItem>
					<LabResultItem>
						<EnteredOn>2020-11-12T02:39:09Z</EnteredOn>
						<TestItemCode>
							<Code>LYMPHA</Code>
							<Description>Lymphocytes</Description>
							<IsNumeric>false</IsNumeric>
						</TestItemCode>
						<ResultValue>3.00</ResultValue>
						<ResultValueUnits>K/uL</ResultValueUnits>
						<ResultNormalRange>1.000-4.80</ResultNormalRange>
						<TestItemStatus>Authorised</TestItemStatus>
						
					</LabResultItem>
					<LabResultItem>
						<EnteredOn>2020-11-12T02:39:09Z</EnteredOn>
						<TestItemCode>
							<Code>MONOA</Code>
							<Description>Monocytes</Description>
							<IsNumeric>false</IsNumeric>
						</TestItemCode>
						<ResultValue>0.300</ResultValue>
						<ResultValueUnits>K/uL</ResultValueUnits>
						<ResultNormalRange>0.200-1.000</ResultNormalRange>
						<TestItemStatus>Authorised</TestItemStatus>
						
					</LabResultItem>
					<LabResultItem>
						<EnteredOn>2020-11-12T02:39:09Z</EnteredOn>
						<TestItemCode>
							<Code>EOSINA</Code>
							<Description>Eosinophils</Description>
							<IsNumeric>false</IsNumeric>
						</TestItemCode>
						<ResultValue>0.020</ResultValue>
						<ResultValueUnits>K/uL</ResultValueUnits>
						<ResultNormalRange>0.020-0.500</ResultNormalRange>
						<TestItemStatus>Authorised</TestItemStatus>
						
					</LabResultItem>
					<LabResultItem>
						<EnteredOn>2020-11-12T02:39:09Z</EnteredOn>
						<TestItemCode>
							<Code>BASOA</Code>
							<Description>Basophils</Description>
							<IsNumeric>false</IsNumeric>
						</TestItemCode>
						<ResultValue>0.000</ResultValue>
						<ResultValueUnits>K/uL</ResultValueUnits>
						<ResultNormalRange>0.000-1.000</ResultNormalRange>
						<TestItemStatus>Authorised</TestItemStatus>
						
					</LabResultItem>
				</ResultItems>
				<VerifiedBy>
					<Code>lab</Code>
					<Description>Lab</Description>
				</VerifiedBy>
				<ResultTime>2020-11-11T22:42:00Z</ResultTime>
				<AuthorizationTime>2020-11-12T02:39:10Z</AuthorizationTime>
				<EnteredAt>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</EnteredAt>
				<EnteredOn>2020-11-12T02:39:09Z</EnteredOn>
				
			</Result>
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>OrderQuestion</Name>
					<Value>MEMEPHCOMM^Phlebotomy Comments^</Value>
				</NVPair>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</LabOrder>
		<LabOrder>
			<PlacerId>862964/107</PlacerId>
			<OrderItem>
				<Code>LHA051</Code>
				<Description>PTT (ACTIVATED PARTIAL THROMOPLASTIN TIME)</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPATH</Code>
				<Description>Pathology</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4068</Code>
				<Description>H Martin</Description>
				<Name>
					<FamilyName>Martin</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Helen</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Specimen>BLPL</Specimen>
			<SpecimenCollectedTime>2020-12-06T13:24:00Z</SpecimenCollectedTime>
			<Status>V</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30L1108</Code>
				<Description>LABORATORY </Description>
			</ReceivingLocation>
			<GroupId>2000000043</GroupId>
			<ActionCode>S</ActionCode>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</EnteredAt>
			<EnteredOn>2020-12-06T13:28:57Z</EnteredOn>
			<FromTime>2020-12-06T13:24:00Z</FromTime>
			
			<EncounterNumber>OP0000283934</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>OrderQuestion</Name>
					<Value>MEXXH2004^ Is the patient receiving anticoagulants?^ No</Value>
				</NVPair>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</LabOrder>
		<LabOrder>
			<PlacerId>862964/99</PlacerId>
			<OrderItem>
				<Code>LHA050</Code>
				<Description>
					<![CDATA[PT (PROTROMBIN TIME &amp; INR)]]]]><![CDATA[>
				</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPATH</Code>
				<Description>Pathology</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4068</Code>
				<Description>H Martin</Description>
				<Name>
					<FamilyName>Martin</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Helen</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Specimen>BLPL</Specimen>
			<SpecimenCollectedTime>2020-12-06T13:24:00Z</SpecimenCollectedTime>
			<Status>V</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30L1108</Code>
				<Description>LABORATORY </Description>
			</ReceivingLocation>
			<GroupId>2000000043</GroupId>
			<ActionCode>S</ActionCode>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</EnteredAt>
			<EnteredOn>2020-12-06T13:28:59Z</EnteredOn>
			<FromTime>2020-12-06T13:24:00Z</FromTime>
			
			<EncounterNumber>OP0000283934</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>OrderQuestion</Name>
					<Value>MEXXH2004^ Is the patient receiving anticoagulants?^ No</Value>
				</NVPair>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</LabOrder>
		<LabOrder>
			<PlacerId>862964/81</PlacerId>
			<OrderItem>
				<Code>LBI075</Code>
				<Description>CK-MB (MASS)</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPATH</Code>
				<Description>Pathology</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4068</Code>
				<Description>H Martin</Description>
				<Name>
					<FamilyName>Martin</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Helen</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Specimen>BLPL</Specimen>
			<SpecimenCollectedTime>2020-12-06T13:24:00Z</SpecimenCollectedTime>
			<Status>V</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30L1108</Code>
				<Description>LABORATORY </Description>
			</ReceivingLocation>
			<GroupId>2000000043</GroupId>
			<ActionCode>S</ActionCode>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</EnteredAt>
			<EnteredOn>2020-12-06T13:28:59Z</EnteredOn>
			<FromTime>2020-12-06T13:24:00Z</FromTime>
			
			<EncounterNumber>OP0000283934</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</LabOrder>
		<LabOrder>
			<PlacerId>862964/73</PlacerId>
			<OrderItem>
				<Code>LBI080</Code>
				<Description>CREATINE KINASE (CK)</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPATH</Code>
				<Description>Pathology</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4068</Code>
				<Description>H Martin</Description>
				<Name>
					<FamilyName>Martin</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Helen</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Specimen>BLS</Specimen>
			<SpecimenCollectedTime>2020-12-06T13:24:00Z</SpecimenCollectedTime>
			<Status>V</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30L1108</Code>
				<Description>LABORATORY </Description>
			</ReceivingLocation>
			<GroupId>2000000043</GroupId>
			<ActionCode>S</ActionCode>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</EnteredAt>
			<EnteredOn>2020-12-06T13:28:59Z</EnteredOn>
			<FromTime>2020-12-06T13:24:00Z</FromTime>
			
			<EncounterNumber>OP0000283934</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</LabOrder>
		<LabOrder>
			<PlacerId>862964/143</PlacerId>
			<OrderItem>
				<Code>LBI991</Code>
				<Description>ELECTROLYTE PANEL</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPATH</Code>
				<Description>Pathology</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4068</Code>
				<Description>H Martin</Description>
				<Name>
					<FamilyName>Martin</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Helen</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Specimen>BLS</Specimen>
			<SpecimenCollectedTime>2020-12-06T13:24:00Z</SpecimenCollectedTime>
			<Status>V</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30L1108</Code>
				<Description>LABORATORY </Description>
			</ReceivingLocation>
			<GroupId>2000000043</GroupId>
			<ActionCode>S</ActionCode>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</EnteredAt>
			<EnteredOn>2020-12-06T13:28:58Z</EnteredOn>
			<FromTime>2020-12-06T13:24:00Z</FromTime>
			
			<EncounterNumber>OP0000283934</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</LabOrder>
		<LabOrder>
			<PlacerId>862964/134</PlacerId>
			<OrderItem>
				<Code>LBI081</Code>
				<Description>CREATININE (CR)</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPATH</Code>
				<Description>Pathology</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4068</Code>
				<Description>H Martin</Description>
				<Name>
					<FamilyName>Martin</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Helen</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Specimen>BLS</Specimen>
			<SpecimenCollectedTime>2020-12-06T13:24:00Z</SpecimenCollectedTime>
			<Status>V</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30L1108</Code>
				<Description>LABORATORY </Description>
			</ReceivingLocation>
			<GroupId>2000000043</GroupId>
			<ActionCode>S</ActionCode>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</EnteredAt>
			<EnteredOn>2020-12-06T13:28:58Z</EnteredOn>
			<FromTime>2020-12-06T13:24:00Z</FromTime>
			
			<EncounterNumber>OP0000283934</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</LabOrder>
		<LabOrder>
			<PlacerId>862964/125</PlacerId>
			<OrderItem>
				<Code>LBI127</Code>
				<Description>GLUCOSE RANDOM (RBS)</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPATH</Code>
				<Description>Pathology</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4068</Code>
				<Description>H Martin</Description>
				<Name>
					<FamilyName>Martin</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Helen</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Specimen>BLS</Specimen>
			<SpecimenCollectedTime>2020-12-06T13:24:00Z</SpecimenCollectedTime>
			<Status>V</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30L1108</Code>
				<Description>LABORATORY </Description>
			</ReceivingLocation>
			<GroupId>2000000043</GroupId>
			<ActionCode>S</ActionCode>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</EnteredAt>
			<EnteredOn>2020-12-06T13:28:58Z</EnteredOn>
			<FromTime>2020-12-06T13:24:00Z</FromTime>
			
			<EncounterNumber>OP0000283934</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</LabOrder>
		<LabOrder>
			<PlacerId>862964/116</PlacerId>
			<OrderItem>
				<Code>LHA024</Code>
				<Description>FBC - (FULL BLOOD COUNT)</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPATH</Code>
				<Description>Pathology</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4068</Code>
				<Description>H Martin</Description>
				<Name>
					<FamilyName>Martin</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Helen</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Specimen>BLW</Specimen>
			<SpecimenCollectedTime>2020-12-06T13:24:00Z</SpecimenCollectedTime>
			<Status>V</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30L1108</Code>
				<Description>LABORATORY </Description>
			</ReceivingLocation>
			<GroupId>2000000043</GroupId>
			<ActionCode>S</ActionCode>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</EnteredAt>
			<EnteredOn>2020-12-06T13:28:58Z</EnteredOn>
			<FromTime>2020-12-06T13:24:00Z</FromTime>
			
			<EncounterNumber>OP0000283934</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</LabOrder>
		<LabOrder>
			<PlacerId>863008/108</PlacerId>
			<OrderItem>
				<Code>LHA051</Code>
				<Description>PTT (ACTIVATED PARTIAL THROMOPLASTIN TIME)</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPATH</Code>
				<Description>Pathology</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4068</Code>
				<Description>H Martin</Description>
				<Name>
					<FamilyName>Martin</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Helen</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Specimen>BLPL</Specimen>
			<SpecimenCollectedTime>2020-12-14T15:33:00Z</SpecimenCollectedTime>
			<Status>E</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ConsultationDepartment>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</ConsultationDepartment>
			<ReceivingLocation>
				<Code>MEDEMO30L1108</Code>
				<Description>LABORATORY </Description>
			</ReceivingLocation>
			<GroupId>2000000044</GroupId>
			<ActionCode>S</ActionCode>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</EnteredAt>
			<EnteredOn>2020-12-14T15:56:09Z</EnteredOn>
			<FromTime>2020-12-14T15:33:00Z</FromTime>
			
			<EncounterNumber>OP0000283942</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>OrderQuestion</Name>
					<Value>MEXXH2004^ Is the patient receiving anticoagulants?^ No</Value>
				</NVPair>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</LabOrder>
		<LabOrder>
			<PlacerId>863008/90</PlacerId>
			<OrderItem>
				<Code>LHA050</Code>
				<Description>
					<![CDATA[PT (PROTROMBIN TIME &amp; INR)]]]]><![CDATA[>
				</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPATH</Code>
				<Description>Pathology</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4068</Code>
				<Description>H Martin</Description>
				<Name>
					<FamilyName>Martin</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Helen</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Specimen>BLPL</Specimen>
			<SpecimenCollectedTime>2020-12-14T15:33:00Z</SpecimenCollectedTime>
			<Status>E</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ConsultationDepartment>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</ConsultationDepartment>
			<ReceivingLocation>
				<Code>MEDEMO30L1108</Code>
				<Description>LABORATORY </Description>
			</ReceivingLocation>
			<GroupId>2000000044</GroupId>
			<ActionCode>S</ActionCode>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</EnteredAt>
			<EnteredOn>2020-12-14T15:56:09Z</EnteredOn>
			<FromTime>2020-12-14T15:33:00Z</FromTime>
			
			<EncounterNumber>OP0000283942</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>OrderQuestion</Name>
					<Value>MEXXH2004^ Is the patient receiving anticoagulants?^ No</Value>
				</NVPair>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</LabOrder>
		<LabOrder>
			<PlacerId>863008/82</PlacerId>
			<OrderItem>
				<Code>LBI075</Code>
				<Description>CK-MB (MASS)</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPATH</Code>
				<Description>Pathology</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4068</Code>
				<Description>H Martin</Description>
				<Name>
					<FamilyName>Martin</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Helen</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Specimen>BLPL</Specimen>
			<SpecimenCollectedTime>2020-12-14T15:33:00Z</SpecimenCollectedTime>
			<Status>E</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ConsultationDepartment>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</ConsultationDepartment>
			<ReceivingLocation>
				<Code>MEDEMO30L1108</Code>
				<Description>LABORATORY </Description>
			</ReceivingLocation>
			<GroupId>2000000044</GroupId>
			<ActionCode>S</ActionCode>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</EnteredAt>
			<EnteredOn>2020-12-14T15:56:09Z</EnteredOn>
			<FromTime>2020-12-14T15:33:00Z</FromTime>
			
			<EncounterNumber>OP0000283942</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</LabOrder>
		<LabOrder>
			<PlacerId>863008/74</PlacerId>
			<OrderItem>
				<Code>LBI080</Code>
				<Description>CREATINE KINASE (CK)</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPATH</Code>
				<Description>Pathology</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4068</Code>
				<Description>H Martin</Description>
				<Name>
					<FamilyName>Martin</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Helen</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Specimen>BLS</Specimen>
			<SpecimenCollectedTime>2020-12-14T15:33:00Z</SpecimenCollectedTime>
			<Status>E</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ConsultationDepartment>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</ConsultationDepartment>
			<ReceivingLocation>
				<Code>MEDEMO30L1108</Code>
				<Description>LABORATORY </Description>
			</ReceivingLocation>
			<GroupId>2000000044</GroupId>
			<ActionCode>S</ActionCode>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</EnteredAt>
			<EnteredOn>2020-12-14T15:56:09Z</EnteredOn>
			<FromTime>2020-12-14T15:33:00Z</FromTime>
			
			<EncounterNumber>OP0000283942</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</LabOrder>
		<LabOrder>
			<PlacerId>863008/144</PlacerId>
			<OrderItem>
				<Code>LBI991</Code>
				<Description>ELECTROLYTE PANEL</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPATH</Code>
				<Description>Pathology</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4068</Code>
				<Description>H Martin</Description>
				<Name>
					<FamilyName>Martin</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Helen</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Specimen>BLS</Specimen>
			<SpecimenCollectedTime>2020-12-14T15:33:00Z</SpecimenCollectedTime>
			<Status>E</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ConsultationDepartment>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</ConsultationDepartment>
			<ReceivingLocation>
				<Code>MEDEMO30L1108</Code>
				<Description>LABORATORY </Description>
			</ReceivingLocation>
			<GroupId>2000000044</GroupId>
			<ActionCode>S</ActionCode>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</EnteredAt>
			<EnteredOn>2020-12-14T15:56:09Z</EnteredOn>
			<FromTime>2020-12-14T15:33:00Z</FromTime>
			
			<EncounterNumber>OP0000283942</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</LabOrder>
		<LabOrder>
			<PlacerId>863008/135</PlacerId>
			<OrderItem>
				<Code>LBI081</Code>
				<Description>CREATININE (CR)</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPATH</Code>
				<Description>Pathology</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4068</Code>
				<Description>H Martin</Description>
				<Name>
					<FamilyName>Martin</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Helen</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Specimen>BLS</Specimen>
			<SpecimenCollectedTime>2020-12-14T15:33:00Z</SpecimenCollectedTime>
			<Status>E</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ConsultationDepartment>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</ConsultationDepartment>
			<ReceivingLocation>
				<Code>MEDEMO30L1108</Code>
				<Description>LABORATORY </Description>
			</ReceivingLocation>
			<GroupId>2000000044</GroupId>
			<ActionCode>S</ActionCode>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</EnteredAt>
			<EnteredOn>2020-12-14T15:56:09Z</EnteredOn>
			<FromTime>2020-12-14T15:33:00Z</FromTime>
			
			<EncounterNumber>OP0000283942</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</LabOrder>
		<LabOrder>
			<PlacerId>863008/126</PlacerId>
			<OrderItem>
				<Code>LBI127</Code>
				<Description>GLUCOSE RANDOM (RBS)</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPATH</Code>
				<Description>Pathology</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4068</Code>
				<Description>H Martin</Description>
				<Name>
					<FamilyName>Martin</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Helen</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Specimen>BLS</Specimen>
			<SpecimenCollectedTime>2020-12-14T15:33:00Z</SpecimenCollectedTime>
			<Status>E</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ConsultationDepartment>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</ConsultationDepartment>
			<ReceivingLocation>
				<Code>MEDEMO30L1108</Code>
				<Description>LABORATORY </Description>
			</ReceivingLocation>
			<GroupId>2000000044</GroupId>
			<ActionCode>S</ActionCode>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</EnteredAt>
			<EnteredOn>2020-12-14T15:56:09Z</EnteredOn>
			<FromTime>2020-12-14T15:33:00Z</FromTime>
			
			<EncounterNumber>OP0000283942</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</LabOrder>
		<LabOrder>
			<PlacerId>863008/117</PlacerId>
			<OrderItem>
				<Code>LHA024</Code>
				<Description>FBC - (FULL BLOOD COUNT)</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPATH</Code>
				<Description>Pathology</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4068</Code>
				<Description>H Martin</Description>
				<Name>
					<FamilyName>Martin</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Helen</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Specimen>BLW</Specimen>
			<SpecimenCollectedTime>2020-12-14T15:33:00Z</SpecimenCollectedTime>
			<Status>E</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ConsultationDepartment>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</ConsultationDepartment>
			<ReceivingLocation>
				<Code>MEDEMO30L1108</Code>
				<Description>LABORATORY </Description>
			</ReceivingLocation>
			<GroupId>2000000044</GroupId>
			<ActionCode>S</ActionCode>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</EnteredAt>
			<EnteredOn>2020-12-14T15:56:09Z</EnteredOn>
			<FromTime>2020-12-14T15:33:00Z</FromTime>
			
			<EncounterNumber>OP0000283942</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</LabOrder>
		<LabOrder>
			<PlacerId>863116/89</PlacerId>
			<OrderItem>
				<Code>LHA010</Code>
				<Description>D-DIMER(QUANTITATIVE ELFA)</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPATH</Code>
				<Description>Pathology</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO14</Code>
				<Description>O Allie</Description>
				<Name>
					<FamilyName>Allie</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Olfa</GivenName>
				</Name>
				<CareProviderType>
					<Code>002</Code>
					<Description>Specialist Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Specimen>BLPL</Specimen>
			<SpecimenCollectedTime>2021-02-22T14:51:17Z</SpecimenCollectedTime>
			<SpecimenReceivedTime>2021-02-22T15:09:38Z</SpecimenReceivedTime>
			<Status>IP</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30L1108</Code>
				<Description>LABORATORY </Description>
			</ReceivingLocation>
			<GroupId>2100000010</GroupId>
			<ActionCode>S</ActionCode>
			<EnteredBy>
				<Code>lab</Code>
				<Description>Lab</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30EM1439</Code>
				<Description>ACCIDENT - EMERGENCY </Description>
			</EnteredAt>
			<EnteredOn>2021-02-22T15:09:40Z</EnteredOn>
			<FromTime>2021-02-22T14:37:00Z</FromTime>
			
			<EncounterNumber>EM0000025197</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>OrderQuestion</Name>
					<Value>MEMEPHCOMM^Phlebotomy Comments^</Value>
				</NVPair>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</LabOrder>
		<LabOrder>
			<PlacerId>863116/71</PlacerId>
			<OrderItem>
				<Code>LHA050</Code>
				<Description>
					<![CDATA[PT (PROTROMBIN TIME &amp; INR)]]]]><![CDATA[>
				</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPATH</Code>
				<Description>Pathology</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO14</Code>
				<Description>O Allie</Description>
				<Name>
					<FamilyName>Allie</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Olfa</GivenName>
				</Name>
				<CareProviderType>
					<Code>002</Code>
					<Description>Specialist Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Specimen>BLPL</Specimen>
			<SpecimenCollectedTime>2021-02-22T14:51:17Z</SpecimenCollectedTime>
			<SpecimenReceivedTime>2021-02-22T15:09:38Z</SpecimenReceivedTime>
			<Status>IP</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30L1108</Code>
				<Description>LABORATORY </Description>
			</ReceivingLocation>
			<GroupId>2100000010</GroupId>
			<ActionCode>S</ActionCode>
			<EnteredBy>
				<Code>lab</Code>
				<Description>Lab</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30EM1439</Code>
				<Description>ACCIDENT - EMERGENCY </Description>
			</EnteredAt>
			<EnteredOn>2021-02-22T15:09:40Z</EnteredOn>
			<FromTime>2021-02-22T14:37:00Z</FromTime>
			
			<EncounterNumber>EM0000025197</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>OrderQuestion</Name>
					<Value>MEXXH2004^ Is the patient receiving anticoagulants?^</Value>
				</NVPair>
				<NVPair>
					<Name>OrderQuestion</Name>
					<Value>MEMEPHCOMM^Phlebotomy Comments^</Value>
				</NVPair>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</LabOrder>
		<LabOrder>
			<PlacerId>863116/63</PlacerId>
			<OrderItem>
				<Code>LHA051</Code>
				<Description>PTT (ACTIVATED PARTIAL THROMOPLASTIN TIME)</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPATH</Code>
				<Description>Pathology</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO14</Code>
				<Description>O Allie</Description>
				<Name>
					<FamilyName>Allie</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Olfa</GivenName>
				</Name>
				<CareProviderType>
					<Code>002</Code>
					<Description>Specialist Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Specimen>BLPL</Specimen>
			<SpecimenCollectedTime>2021-02-22T14:51:17Z</SpecimenCollectedTime>
			<SpecimenReceivedTime>2021-02-22T15:09:38Z</SpecimenReceivedTime>
			<Status>IP</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30L1108</Code>
				<Description>LABORATORY </Description>
			</ReceivingLocation>
			<GroupId>2100000010</GroupId>
			<ActionCode>S</ActionCode>
			<EnteredBy>
				<Code>lab</Code>
				<Description>Lab</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30EM1439</Code>
				<Description>ACCIDENT - EMERGENCY </Description>
			</EnteredAt>
			<EnteredOn>2021-02-22T15:09:40Z</EnteredOn>
			<FromTime>2021-02-22T14:37:00Z</FromTime>
			
			<EncounterNumber>EM0000025197</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>OrderQuestion</Name>
					<Value>MEXXH2004^ Is the patient receiving anticoagulants?^</Value>
				</NVPair>
				<NVPair>
					<Name>OrderQuestion</Name>
					<Value>MEMEPHCOMM^Phlebotomy Comments^</Value>
				</NVPair>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</LabOrder>
		<LabOrder>
			<PlacerId>863116/55</PlacerId>
			<OrderItem>
				<Code>LHA024</Code>
				<Description>FBC - (FULL BLOOD COUNT)</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPATH</Code>
				<Description>Pathology</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO14</Code>
				<Description>O Allie</Description>
				<Name>
					<FamilyName>Allie</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Olfa</GivenName>
				</Name>
				<CareProviderType>
					<Code>002</Code>
					<Description>Specialist Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Specimen>BLW</Specimen>
			<SpecimenCollectedTime>2021-02-22T14:51:16Z</SpecimenCollectedTime>
			<SpecimenReceivedTime>2021-02-22T15:09:38Z</SpecimenReceivedTime>
			<Status>IP</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30L1108</Code>
				<Description>LABORATORY </Description>
			</ReceivingLocation>
			<GroupId>2100000010</GroupId>
			<ActionCode>S</ActionCode>
			<EnteredBy>
				<Code>lab</Code>
				<Description>Lab</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30EM1439</Code>
				<Description>ACCIDENT - EMERGENCY </Description>
			</EnteredAt>
			<EnteredOn>2021-02-22T15:09:38Z</EnteredOn>
			<FromTime>2021-02-22T14:37:00Z</FromTime>
			
			<EncounterNumber>EM0000025197</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>OrderQuestion</Name>
					<Value>MEMEPHCOMM^Phlebotomy Comments^</Value>
				</NVPair>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</LabOrder>
		<LabOrder>
			<PlacerId>863124/233</PlacerId>
			<OrderItem>
				<Code>LHA024</Code>
				<Description>FBC - (FULL BLOOD COUNT)</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPATH</Code>
				<Description>Pathology</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO14</Code>
				<Description>O Allie</Description>
				<Name>
					<FamilyName>Allie</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Olfa</GivenName>
				</Name>
				<CareProviderType>
					<Code>002</Code>
					<Description>Specialist Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Specimen>BLW</Specimen>
			<SpecimenCollectedTime>2021-09-07T17:31:32Z</SpecimenCollectedTime>
			<SpecimenReceivedTime>2021-09-07T17:32:05Z</SpecimenReceivedTime>
			<Status>E</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30L1108</Code>
				<Description>LABORATORY </Description>
			</ReceivingLocation>
			<GroupId>2100000129</GroupId>
			<ActionCode>S</ActionCode>
			<EnteredBy>
				<Code>isc$rriman</Code>
				<Description>Rami Riman</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30W1378</Code>
				<Description>ICU </Description>
			</EnteredAt>
			<EnteredOn>2021-09-07T17:33:17Z</EnteredOn>
			<FromTime>2021-09-07T17:29:00Z</FromTime>
			<Result>
				<ResultType>LAB</ResultType>
				<ResultItems>
					<LabResultItem>
						<EnteredOn>2021-09-07T17:33:16Z</EnteredOn>
						<TestItemCode>
							<Code>WBC</Code>
							<Description>White Cell Count</Description>
							<IsNumeric>false</IsNumeric>
						</TestItemCode>
						<ResultValue>12.0</ResultValue>
						<ResultValueUnits>K/uL</ResultValueUnits>
						<ResultNormalRange>4.0-11.0</ResultNormalRange>
						<ResultInterpretation>U</ResultInterpretation>
						<TestItemStatus>Authorised</TestItemStatus>
						
					</LabResultItem>
					<LabResultItem>
						<EnteredOn>2021-09-07T17:33:16Z</EnteredOn>
						<TestItemCode>
							<Code>RBC</Code>
							<Description>Red Cell Count</Description>
							<IsNumeric>false</IsNumeric>
						</TestItemCode>
						<ResultValue>6.00</ResultValue>
						<ResultValueUnits>M/uL</ResultValueUnits>
						<ResultNormalRange>4.50-5.90</ResultNormalRange>
						<ResultInterpretation>H</ResultInterpretation>
						<TestItemStatus>Authorised</TestItemStatus>
						
					</LabResultItem>
					<LabResultItem>
						<EnteredOn>2021-09-07T17:33:16Z</EnteredOn>
						<TestItemCode>
							<Code>HB</Code>
							<Description>Haemoglobin</Description>
							<IsNumeric>false</IsNumeric>
						</TestItemCode>
						<ResultValue>15.0</ResultValue>
						<ResultValueUnits>g/dL</ResultValueUnits>
						<ResultNormalRange>13.0-17.5</ResultNormalRange>
						<TestItemStatus>Authorised</TestItemStatus>
						
					</LabResultItem>
					<LabResultItem>
						<EnteredOn>2021-09-07T17:33:16Z</EnteredOn>
						<TestItemCode>
							<Code>1263</Code>
							<Description>HCT/PCV</Description>
							<IsNumeric>false</IsNumeric>
						</TestItemCode>
						<ResultValue>40</ResultValue>
						<ResultValueUnits>%</ResultValueUnits>
						<ResultNormalRange>39-52</ResultNormalRange>
						<TestItemStatus>Authorised</TestItemStatus>
						
					</LabResultItem>
					<LabResultItem>
						<EnteredOn>2021-09-07T17:33:16Z</EnteredOn>
						<TestItemCode>
							<Code>MCV</Code>
							<Description>MCV</Description>
							<IsNumeric>false</IsNumeric>
						</TestItemCode>
						<ResultValue>90.0</ResultValue>
						<ResultValueUnits>fL</ResultValueUnits>
						<ResultNormalRange>80.0-100.0</ResultNormalRange>
						<TestItemStatus>Authorised</TestItemStatus>
						
					</LabResultItem>
					<LabResultItem>
						<EnteredOn>2021-09-07T17:33:16Z</EnteredOn>
						<TestItemCode>
							<Code>MCH</Code>
							<Description>MCH</Description>
							<IsNumeric>false</IsNumeric>
						</TestItemCode>
						<ResultValue>29.0</ResultValue>
						<ResultValueUnits>pg</ResultValueUnits>
						<ResultNormalRange>26.0-34.0</ResultNormalRange>
						<TestItemStatus>Authorised</TestItemStatus>
						
					</LabResultItem>
					<LabResultItem>
						<EnteredOn>2021-09-07T17:33:16Z</EnteredOn>
						<TestItemCode>
							<Code>MCHC</Code>
							<Description>MCHC</Description>
							<IsNumeric>false</IsNumeric>
						</TestItemCode>
						<ResultValue>33</ResultValue>
						<ResultValueUnits>g/dL</ResultValueUnits>
						<ResultNormalRange>31-37</ResultNormalRange>
						<TestItemStatus>Authorised</TestItemStatus>
						
					</LabResultItem>
					<LabResultItem>
						<EnteredOn>2021-09-07T17:33:16Z</EnteredOn>
						<TestItemCode>
							<Code>2030</Code>
							<Description>RDW</Description>
							<IsNumeric>false</IsNumeric>
						</TestItemCode>
						<ResultValue>13</ResultValue>
						<ResultValueUnits>%</ResultValueUnits>
						<ResultNormalRange>11.5-17</ResultNormalRange>
						<TestItemStatus>Authorised</TestItemStatus>
						
					</LabResultItem>
					<LabResultItem>
						<EnteredOn>2021-09-07T17:33:16Z</EnteredOn>
						<TestItemCode>
							<Code>PLT</Code>
							<Description>Platelet Count</Description>
							<IsNumeric>false</IsNumeric>
						</TestItemCode>
						<ResultValue>300</ResultValue>
						<ResultValueUnits>K/uL</ResultValueUnits>
						<ResultNormalRange>150-450</ResultNormalRange>
						<TestItemStatus>Authorised</TestItemStatus>
						
					</LabResultItem>
				</ResultItems>
				<VerifiedBy>
					<Code>isc$rriman</Code>
					<Description>Rami Riman</Description>
				</VerifiedBy>
				<ResultTime>2021-09-07T17:29:00Z</ResultTime>
				<AuthorizationTime>2021-09-07T17:33:17Z</AuthorizationTime>
				<EnteredAt>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</EnteredAt>
				<EnteredOn>2021-09-07T17:33:16Z</EnteredOn>
				
			</Result>
			
			<EncounterNumber>IP0000006263</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>OrderQuestion</Name>
					<Value>MEMEPHCOMM^Phlebotomy Comments^</Value>
				</NVPair>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</LabOrder>
		<LabOrder>
			<PlacerId>863124/224</PlacerId>
			<OrderItem>
				<Code>LBI081</Code>
				<Description>CREATININE (CR)</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPATH</Code>
				<Description>Pathology</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO14</Code>
				<Description>O Allie</Description>
				<Name>
					<FamilyName>Allie</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Olfa</GivenName>
				</Name>
				<CareProviderType>
					<Code>002</Code>
					<Description>Specialist Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Specimen>BLS</Specimen>
			<SpecimenCollectedTime>2021-09-07T17:31:32Z</SpecimenCollectedTime>
			<SpecimenReceivedTime>2021-09-07T17:32:05Z</SpecimenReceivedTime>
			<Status>E</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30L1108</Code>
				<Description>LABORATORY </Description>
			</ReceivingLocation>
			<GroupId>2100000129</GroupId>
			<ActionCode>S</ActionCode>
			<EnteredBy>
				<Code>isc$rriman</Code>
				<Description>Rami Riman</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30W1378</Code>
				<Description>ICU </Description>
			</EnteredAt>
			<EnteredOn>2021-09-07T17:32:30Z</EnteredOn>
			<FromTime>2021-09-07T17:29:00Z</FromTime>
			<Result>
				<ResultType>LAB</ResultType>
				<ResultItems>
			
					<LabResultItem>
						<EnteredOn>2021-09-07T17:32:28Z</EnteredOn>
						<TestItemCode>
							<Code>1156</Code>
							<Description>Creatinine (CRE)</Description>
							<IsNumeric>false</IsNumeric>
						</TestItemCode>
						<ResultValue>80.0</ResultValue>
						<ResultValueUnits>umol/L</ResultValueUnits>
						<ResultNormalRange>63.6-110.5</ResultNormalRange>
						<TestItemStatus>Authorised</TestItemStatus>
						
					</LabResultItem>
				</ResultItems>
				<VerifiedBy>
					<Code>isc$rriman</Code>
					<Description>Rami Riman</Description>
				</VerifiedBy>
				<ResultTime>2021-09-07T17:29:00Z</ResultTime>
				<AuthorizationTime>2021-09-07T17:32:30Z</AuthorizationTime>
				<EnteredAt>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</EnteredAt>
				<EnteredOn>2021-09-07T17:32:28Z</EnteredOn>
				
			</Result>
			
			<EncounterNumber>IP0000006263</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>OrderQuestion</Name>
					<Value>MEMEPHCOMM^Phlebotomy Comments^</Value>
				</NVPair>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</LabOrder>
		<LabOrder>
			<PlacerId>863124/206</PlacerId>
			<OrderItem>
				<Code>LBI991</Code>
				<Description>ELECTROLYTE PANEL</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPATH</Code>
				<Description>Pathology</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4068</Code>
				<Description>H Martin</Description>
				<Name>
					<FamilyName>Martin</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Helen</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Specimen>BLS</Specimen>
			<SpecimenCollectedTime>2021-08-24T13:14:00Z</SpecimenCollectedTime>
			<Status>V</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30L1108</Code>
				<Description>LABORATORY </Description>
			</ReceivingLocation>
			<GroupId>2100000123</GroupId>
			<ActionCode>S</ActionCode>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30W1378</Code>
				<Description>ICU </Description>
			</EnteredAt>
			<EnteredOn>2021-08-24T13:15:10Z</EnteredOn>
			<FromTime>2021-08-24T13:14:00Z</FromTime>
			
			<EncounterNumber>IP0000006263</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</LabOrder>
		<LabOrder>
			<PlacerId>863224/60</PlacerId>
			<OrderItem>
				<Code>LBI137</Code>
				<Description>HBA1C</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPATH</Code>
				<Description>Pathology</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4068</Code>
				<Description>H Martin</Description>
				<Name>
					<FamilyName>Martin</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Helen</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Specimen>BLW</Specimen>
			<SpecimenCollectedTime>2021-04-11T14:07:12Z</SpecimenCollectedTime>
			<SpecimenReceivedTime>2021-04-11T14:09:33Z</SpecimenReceivedTime>
			<Status>E</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ConsultationDepartment>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</ConsultationDepartment>
			<ReceivingLocation>
				<Code>MEDEMO30L1108</Code>
				<Description>LABORATORY </Description>
			</ReceivingLocation>
			<GroupId>2100000063</GroupId>
			<ActionCode>S</ActionCode>
			<EnteredBy>
				<Code>lab</Code>
				<Description>Lab</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</EnteredAt>
			<EnteredOn>2021-04-11T14:09:43Z</EnteredOn>
			<FromTime>2021-04-11T14:05:00Z</FromTime>
			<Result>
				<ResultType>LAB</ResultType>
				<ResultItems>
					<LabResultItem>
						<EnteredOn>2021-04-11T14:09:43Z</EnteredOn>
						<TestItemCode>
							<Code>HBA1C</Code>
							<Description>HBA1C</Description>
							<IsNumeric>false</IsNumeric>
						</TestItemCode>
						<ResultValue>8.0</ResultValue>
						<ResultValueUnits>%</ResultValueUnits>
						<TestItemStatus>Authorised</TestItemStatus>
						
					</LabResultItem>
				</ResultItems>
				<VerifiedBy>
					<Code>lab</Code>
					<Description>Lab</Description>
				</VerifiedBy>
				<ResultTime>2021-04-11T14:05:00Z</ResultTime>
				<AuthorizationTime>2021-04-11T14:09:43Z</AuthorizationTime>
				<EnteredAt>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</EnteredAt>
				<EnteredOn>2021-04-11T14:09:43Z</EnteredOn>
				
			</Result>
			
			<EncounterNumber>OP0000283993</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>OrderQuestion</Name>
					<Value>MEMEPHCOMM^Phlebotomy Comments^</Value>
				</NVPair>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</LabOrder>
	</LabOrders>
	<RadOrders>
		<RadOrder>
			<PlacerId>862710/217</PlacerId>
			<OrderItem>
				<Code>RDL748</Code>
				<Description>KNEE LATERAL</Description>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXRAD</Code>
				<Description>Radiology</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4</Code>
				<Description>A Yakdi</Description>
				<Name>
					<FamilyName>Yakdi</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Alia</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>E</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<AuthorizationTime>2020-10-12T11:58:00Z</AuthorizationTime>
			<ReceivingLocation>
				<Code>MEDEMO30E1430</Code>
				<Description>RADIOLOGY </Description>
			</ReceivingLocation>
			<GroupId>R00046240</GroupId>
			<EnteredBy>
				<Code>isc$rriman</Code>
				<Description>Rami Riman</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30W1383</Code>
				<Description>SURGICAL </Description>
			</EnteredAt>
			<EnteredOn>2020-10-12T12:12:24Z</EnteredOn>
			<FromTime>2020-10-12T11:22:00Z</FromTime>
			<Result>
				<ResultType>IM</ResultType>
				<VerifiedBy>
					<Code>isc$rriman</Code>
					<Description>Rami Riman</Description>
				</VerifiedBy>
				<ResultTime>2020-10-12T12:12:24Z</ResultTime>
				<ResultStatus>V</ResultStatus>
				<EnteredBy>
					<Code>isc$rriman</Code>
					<Description>Rami Riman</Description>
				</EnteredBy>
				<EnteredOn>2020-10-12T12:11:08Z</EnteredOn>
				
			</Result>
			
			<EncounterNumber>IP0000006256</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>OrderQuestion</Name>
					<Value>IFEXR^Indication for Exam^post surgical</Value>
				</NVPair>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</RadOrder>
		<RadOrder>
			<PlacerId>862710/208</PlacerId>
			<OrderItem>
				<Code>RDL092</Code>
				<Description>CHEST PA</Description>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXRAD</Code>
				<Description>Radiology</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4</Code>
				<Description>A Yakdi</Description>
				<Name>
					<FamilyName>Yakdi</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Alia</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>V</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30E1430</Code>
				<Description>RADIOLOGY </Description>
			</ReceivingLocation>
			<GroupId>R00046239</GroupId>
			<EnteredBy>
				<Code>DrFam</Code>
				<Description>Dr Alia Yakdi</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30W1383</Code>
				<Description>SURGICAL </Description>
			</EnteredAt>
			<EnteredOn>2020-10-11T16:30:41Z</EnteredOn>
			<FromTime>2020-10-11T16:25:00Z</FromTime>
			
			<EncounterNumber>IP0000006256</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>OrderQuestion</Name>
					<Value>IFEXR^Indication for Exam^r.o Infection</Value>
				</NVPair>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</RadOrder>
		<RadOrder>
			<PlacerId>862710/68</PlacerId>
			<OrderItem>
				<Code>RDL092</Code>
				<Description>CHEST PA</Description>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXRAD</Code>
				<Description>Radiology</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4</Code>
				<Description>A Yakdi</Description>
				<Name>
					<FamilyName>Yakdi</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Alia</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>I</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30E1430</Code>
				<Description>RADIOLOGY </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>DrFam</Code>
				<Description>Dr Alia Yakdi</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30W1383</Code>
				<Description>SURGICAL </Description>
			</EnteredAt>
			<EnteredOn>2020-10-11T16:06:04Z</EnteredOn>
			<FromTime>2020-10-11T16:04:00Z</FromTime>
			
			<EncounterNumber>IP0000006256</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</RadOrder>
		<RadOrder>
			<PlacerId>862890/186</PlacerId>
			<OrderItem>
				<Code>IPREFMPAROC012</Code>
				<Description>Inpatient Cardiology Referral</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXREF</Code>
				<Description>Referrals</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO3139</Code>
				<Description>A Biswas</Description>
				<Name>
					<FamilyName>Biswas</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Alvin</GivenName>
				</Name>
				<CareProviderType>
					<Code>002</Code>
					<Description>Specialist Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>V</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<Comments>I have reviewed the patient and I would recommend to admit the patient for an urgent cardiac Cath I will do the admission request and I will pass by the emergency department after the results are out</Comments>
			<ConsultationDepartment>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</ConsultationDepartment>
			<ReceivingLocation>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30EM1439</Code>
				<Description>ACCIDENT - EMERGENCY </Description>
			</EnteredAt>
			<EnteredOn>2020-11-10T17:30:38Z</EnteredOn>
			<FromTime>2020-11-10T17:14:00Z</FromTime>
			
			<EncounterNumber>EM0000025194</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>OrderQuestion</Name>
					<Value>RREF^Reason for Referral^urgent chest</Value>
				</NVPair>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</RadOrder>
		<RadOrder>
			<PlacerId>862890/140</PlacerId>
			<OrderItem>
				<Code>RDL087</Code>
				<Description>CHEST AP</Description>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXRAD</Code>
				<Description>Radiology</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO3139</Code>
				<Description>A Biswas</Description>
				<Name>
					<FamilyName>Biswas</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Alvin</GivenName>
				</Name>
				<CareProviderType>
					<Code>002</Code>
					<Description>Specialist Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>V</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30E1430</Code>
				<Description>RADIOLOGY </Description>
			</ReceivingLocation>
			<GroupId>R00046253</GroupId>
			<EnteredBy>
				<Code>DrED</Code>
				<Description>Dr Emergency</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30EM1439</Code>
				<Description>ACCIDENT - EMERGENCY </Description>
			</EnteredAt>
			<EnteredOn>2020-11-10T17:15:53Z</EnteredOn>
			<FromTime>2020-11-10T17:14:00Z</FromTime>
			
			<EncounterNumber>EM0000025194</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>OrderQuestion</Name>
					<Value>IFEXR^Indication for Exam^r.o Infection</Value>
				</NVPair>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</RadOrder>
		<RadOrder>
			<PlacerId>862912/68</PlacerId>
			<OrderItem>
				<Code>IPREFMPAROC108</Code>
				<Description>Inpatient Physiotherapy Referral</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXREF</Code>
				<Description>Referrals</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4068</Code>
				<Description>H Martin</Description>
				<Name>
					<FamilyName>Martin</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Helen</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>V</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30E1424</Code>
				<Description>PHYSIOTHERAPY </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30W1378</Code>
				<Description>ICU </Description>
			</EnteredAt>
			<EnteredOn>2020-11-11T22:56:39Z</EnteredOn>
			<FromTime>2020-11-11T22:42:00Z</FromTime>
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</RadOrder>
		<RadOrder>
			<PlacerId>862964/232</PlacerId>
			<OrderItem>
				<Code>IPREFMPAROC012</Code>
				<Description>Inpatient Cardiology Referral</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXREF</Code>
				<Description>Referrals</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4068</Code>
				<Description>H Martin</Description>
				<Name>
					<FamilyName>Martin</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Helen</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>V</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<TextInstruction>Patient reviewed advise for admission one day for monitoring and referral for physiotherapy for chest physiotherapy. And I can say patient to be reviewed and admitted for monitoring for one day and for physiotherapy referral.</TextInstruction>
			<ConsultationDepartment>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</ConsultationDepartment>
			<ReceivingLocation>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</EnteredAt>
			<EnteredOn>2021-06-30T16:20:03Z</EnteredOn>
			<FromTime>2020-12-06T14:01:00Z</FromTime>
			
			<EncounterNumber>OP0000283934</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>OrderQuestion</Name>
					<Value>RREF^Reason for Referral^test</Value>
				</NVPair>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</RadOrder>
		<RadOrder>
			<PlacerId>862964/152</PlacerId>
			<OrderItem>
				<Code>RDL087</Code>
				<Description>CHEST AP</Description>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXRAD</Code>
				<Description>Radiology</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4068</Code>
				<Description>H Martin</Description>
				<Name>
					<FamilyName>Martin</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Helen</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>V</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30E1430</Code>
				<Description>RADIOLOGY </Description>
			</ReceivingLocation>
			<GroupId>R00046260</GroupId>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</EnteredAt>
			<EnteredOn>2020-12-06T13:28:58Z</EnteredOn>
			<FromTime>2020-12-06T13:24:00Z</FromTime>
			
			<EncounterNumber>OP0000283934</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>OrderQuestion</Name>
					<Value>IFEXR^Indication for Exam^r.o infection</Value>
				</NVPair>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</RadOrder>
		<RadOrder>
			<PlacerId>863008/153</PlacerId>
			<OrderItem>
				<Code>RDL087</Code>
				<Description>CHEST AP</Description>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXRAD</Code>
				<Description>Radiology</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4068</Code>
				<Description>H Martin</Description>
				<Name>
					<FamilyName>Martin</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Helen</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>E</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ConsultationDepartment>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</ConsultationDepartment>
			<ReceivingLocation>
				<Code>MEDEMO30E1430</Code>
				<Description>RADIOLOGY </Description>
			</ReceivingLocation>
			<GroupId>R00046261</GroupId>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</EnteredAt>
			<EnteredOn>2020-12-14T15:56:09Z</EnteredOn>
			<FromTime>2020-12-14T15:33:00Z</FromTime>
			
			<EncounterNumber>OP0000283942</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>OrderQuestion</Name>
					<Value>IFEXR^Indication for Exam^r.o infection</Value>
				</NVPair>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</RadOrder>
		<RadOrder>
			<PlacerId>863116/21</PlacerId>
			<OrderItem>
				<Code>RDL416</Code>
				<Description>COMPUTED TOMOGRAPHIC (CT) COLONOGRAPHY, DIAGNOSTIC, INCLUDING IMAGE POSTPROCESSING, WITH CONTRAST MATERIAL(S) INCLUDING NON-CONTRAST IMAGES, IF PERFORMED</Description>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXRAD</Code>
				<Description>Radiology</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO14</Code>
				<Description>O Allie</Description>
				<Name>
					<FamilyName>Allie</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Olfa</GivenName>
				</Name>
				<CareProviderType>
					<Code>002</Code>
					<Description>Specialist Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>V</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30E1430</Code>
				<Description>RADIOLOGY </Description>
			</ReceivingLocation>
			<GroupId>R00046270</GroupId>
			<EnteredBy>
				<Code>isc$rriman</Code>
				<Description>Rami Riman</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30EM1439</Code>
				<Description>ACCIDENT - EMERGENCY </Description>
			</EnteredAt>
			<EnteredOn>2021-02-22T14:40:26Z</EnteredOn>
			<FromTime>2021-02-22T14:37:00Z</FromTime>
			
			<EncounterNumber>EM0000025197</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>OrderQuestion</Name>
					<Value>IFECT^Indication for exam^trauma</Value>
				</NVPair>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</RadOrder>
	</RadOrders>
	<OtherOrders>
		<OtherOrder>
			<PlacerId>862709/17</PlacerId>
			<OrderItem>
				<Code>DRCONSFV</Code>
				<Description>SPECIALIST CONSULTATION</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXCNS</Code>
				<Description>Consultations</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4</Code>
				<Description>A Yakdi</Description>
				<Name>
					<FamilyName>Yakdi</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Alia</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>S</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ConsultationDepartment>
				<Code>MEDEMO30E1396</Code>
				<Description>FAMILY MEDICINE </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</ConsultationDepartment>
			<ReceivingLocation>
				<Code>MEDEMO30E1396</Code>
				<Description>FAMILY MEDICINE </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>isc$rriman</Code>
				<Description>Rami Riman</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30E1396</Code>
				<Description>FAMILY MEDICINE </Description>
			</EnteredAt>
			<EnteredOn>2020-10-09T14:38:01Z</EnteredOn>
			<FromTime>2020-10-09T08:00:00Z</FromTime>
			
			<EncounterNumber>OP0000283902</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>862710/235</PlacerId>
			<OrderItem>
				<Code>FOLLOWUPNC</Code>
				<Description>FOLLOW-UP VISIT - NON CHARGEABLE</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXCNS</Code>
				<Description>Consultations</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4106</Code>
				<Description>P Arnolds</Description>
				<Name>
					<FamilyName>Arnolds</FamilyName>
					<GivenName>Paul</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>V</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ConsultationDepartment>
				<Code>MEDEMO30E1418</Code>
				<Description>ORTHOPAEDICS </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</ConsultationDepartment>
			<ReceivingLocation>
				<Code>MEDEMO30E1418</Code>
				<Description>ORTHOPAEDICS </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>AdOPD</Code>
				<Description>Admin OPD</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30W1383</Code>
				<Description>SURGICAL </Description>
			</EnteredAt>
			<EnteredOn>2020-10-12T16:35:56Z</EnteredOn>
			<FromTime>2020-10-12T11:45:00Z</FromTime>
			
			<EncounterNumber>IP0000006256</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>862710/18</PlacerId>
			<OrderItem>
				<Code>NIC590a</Code>
				<Description>Monitor urinary elimination</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXNRPO</Code>
				<Description>Nursing Orders</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4</Code>
				<Description>A Yakdi</Description>
				<Name>
					<FamilyName>Yakdi</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Alia</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Frequency>
				<Code>Q2H</Code>
				<Description>Every 2 Hours</Description>
				<Factor>12</Factor>
			</Frequency>
			<Status>V</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<TextInstruction>Frequency, consistency, odour, volume, and colour as appropriate</TextInstruction>
			<ReceivingLocation>
				<Code>MEDEMO30W1383</Code>
				<Description>SURGICAL </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>isc$rriman</Code>
				<Description>Rami Riman</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30W1383</Code>
				<Description>SURGICAL </Description>
			</EnteredAt>
			<EnteredOn>2020-10-11T09:53:35Z</EnteredOn>
			<FromTime>2020-10-11T09:53:00Z</FromTime>
			<ToTime>2020-10-18T09:52:59Z</ToTime>
			
			<EncounterNumber>IP0000006256</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>862710/34</PlacerId>
			<OrderItem>
				<Code>TCHROM001</Code>
				<Description>PRIVATE ROOM</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXACC</Code>
				<Description>Accomodation</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<EnteringOrganization>
				<Code>MEDEMO30W1383</Code>
				<Description>SURGICAL </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>V</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30W1383</Code>
				<Description>SURGICAL </Description>
			</ReceivingLocation>
			<EnteredAt>
				<Code>MEDEMO30W1383</Code>
				<Description>SURGICAL </Description>
			</EnteredAt>
			<FromTime>2020-10-10T08:00:00Z</FromTime>
			
			<EncounterNumber>IP0000006256</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>862710/226</PlacerId>
			<OrderItem>
				<Code>TCHROM001</Code>
				<Description>PRIVATE ROOM</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXACC</Code>
				<Description>Accomodation</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<EnteringOrganization>
				<Code>MEDEMO30W1383</Code>
				<Description>SURGICAL </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>V</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30W1383</Code>
				<Description>SURGICAL </Description>
			</ReceivingLocation>
			<EnteredAt>
				<Code>MEDEMO30W1383</Code>
				<Description>SURGICAL </Description>
			</EnteredAt>
			<FromTime>2020-10-11T08:00:00Z</FromTime>
			
			<EncounterNumber>IP0000006256</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>862735/76</PlacerId>
			<OrderItem>
				<Code>PEWtMg</Code>
				<Description>Weight Management Education</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPE</Code>
				<Description>Patient Education</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4106</Code>
				<Description>P Arnolds</Description>
				<Name>
					<FamilyName>Arnolds</FamilyName>
					<GivenName>Paul</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>V</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30O1441</Code>
				<Description>ADMINISTRATION </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>DrOrtho</Code>
				<Description>Orthopedic doctor</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30E1418</Code>
				<Description>ORTHOPAEDICS </Description>
			</EnteredAt>
			<EnteredOn>2020-10-12T18:43:17Z</EnteredOn>
			<FromTime>2020-10-12T18:38:00Z</FromTime>
			
			<EncounterNumber>OP0000283905</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>862735/18</PlacerId>
			<OrderItem>
				<Code>FOLLOWUPNC</Code>
				<Description>FOLLOW-UP VISIT - NON CHARGEABLE</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXCNS</Code>
				<Description>Consultations</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4106</Code>
				<Description>P Arnolds</Description>
				<Name>
					<FamilyName>Arnolds</FamilyName>
					<GivenName>Paul</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>S</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ConsultationDepartment>
				<Code>MEDEMO30E1418</Code>
				<Description>ORTHOPAEDICS </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</ConsultationDepartment>
			<ReceivingLocation>
				<Code>MEDEMO30E1418</Code>
				<Description>ORTHOPAEDICS </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>AdOPD</Code>
				<Description>Admin OPD</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30E1418</Code>
				<Description>ORTHOPAEDICS </Description>
			</EnteredAt>
			<EnteredOn>2020-10-12T16:36:15Z</EnteredOn>
			<FromTime>2020-10-12T11:45:00Z</FromTime>
			
			<EncounterNumber>OP0000283905</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>862762/15</PlacerId>
			<OrderItem>
				<Code>DRCONSFL</Code>
				<Description>FOLLOWUP VISIT SPECIALIST</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXCNS</Code>
				<Description>Consultations</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4106</Code>
				<Description>P Arnolds</Description>
				<Name>
					<FamilyName>Arnolds</FamilyName>
					<GivenName>Paul</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>S</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ConsultationDepartment>
				<Code>MEDEMO30E1418</Code>
				<Description>ORTHOPAEDICS </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</ConsultationDepartment>
			<ReceivingLocation>
				<Code>MEDEMO30E1418</Code>
				<Description>ORTHOPAEDICS </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>AdOPD</Code>
				<Description>Admin OPD</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30E1418</Code>
				<Description>ORTHOPAEDICS </Description>
			</EnteredAt>
			<EnteredOn>2020-10-19T22:29:34Z</EnteredOn>
			<FromTime>2020-10-19T10:45:00Z</FromTime>
			
			<EncounterNumber>OP0000283906</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>862796/179</PlacerId>
			<OrderItem>
				<Code>PEDM</Code>
				<Description>DM Patient Education</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPE</Code>
				<Description>Patient Education</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4</Code>
				<Description>A Yakdi</Description>
				<Name>
					<FamilyName>Yakdi</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Alia</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>V</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ConsultationDepartment>
				<Code>MEDEMO30E1396</Code>
				<Description>FAMILY MEDICINE </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</ConsultationDepartment>
			<ReceivingLocation>
				<Code>MEDEMO30O1441</Code>
				<Description>ADMINISTRATION </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>DrFam</Code>
				<Description>Dr Alia Yakdi</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30E1396</Code>
				<Description>FAMILY MEDICINE </Description>
			</EnteredAt>
			<EnteredOn>2020-10-26T12:43:08Z</EnteredOn>
			<FromTime>2020-10-26T12:42:00Z</FromTime>
			
			<EncounterNumber>OP0000283912</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>862796/160</PlacerId>
			<OrderItem>
				<Code>PEPACEMAKER</Code>
				<Description>Pace Maker Patient Education</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPE</Code>
				<Description>Patient Education</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO14</Code>
				<Description>O Allie</Description>
				<Name>
					<FamilyName>Allie</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Olfa</GivenName>
				</Name>
				<CareProviderType>
					<Code>002</Code>
					<Description>Specialist Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>V</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30O1441</Code>
				<Description>ADMINISTRATION </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>isc$rriman</Code>
				<Description>Rami Riman</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30E1396</Code>
				<Description>FAMILY MEDICINE </Description>
			</EnteredAt>
			<EnteredOn>2020-10-26T12:25:37Z</EnteredOn>
			<FromTime>2020-10-26T12:24:00Z</FromTime>
			
			<EncounterNumber>OP0000283912</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>862796/151</PlacerId>
			<OrderItem>
				<Code>PEWtMg</Code>
				<Description>Weight Management Education</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPE</Code>
				<Description>Patient Education</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO14</Code>
				<Description>O Allie</Description>
				<Name>
					<FamilyName>Allie</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Olfa</GivenName>
				</Name>
				<CareProviderType>
					<Code>002</Code>
					<Description>Specialist Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>V</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30O1441</Code>
				<Description>ADMINISTRATION </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>isc$rriman</Code>
				<Description>Rami Riman</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30E1396</Code>
				<Description>FAMILY MEDICINE </Description>
			</EnteredAt>
			<EnteredOn>2020-10-26T12:25:37Z</EnteredOn>
			<FromTime>2020-10-26T12:24:00Z</FromTime>
			
			<EncounterNumber>OP0000283912</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>862796/142</PlacerId>
			<OrderItem>
				<Code>PEDM</Code>
				<Description>DM Patient Education</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPE</Code>
				<Description>Patient Education</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO14</Code>
				<Description>O Allie</Description>
				<Name>
					<FamilyName>Allie</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Olfa</GivenName>
				</Name>
				<CareProviderType>
					<Code>002</Code>
					<Description>Specialist Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>V</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30O1441</Code>
				<Description>ADMINISTRATION </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>isc$rriman</Code>
				<Description>Rami Riman</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30E1396</Code>
				<Description>FAMILY MEDICINE </Description>
			</EnteredAt>
			<EnteredOn>2020-10-26T12:25:37Z</EnteredOn>
			<FromTime>2020-10-26T12:24:00Z</FromTime>
			
			<EncounterNumber>OP0000283912</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>862796/124</PlacerId>
			<OrderItem>
				<Code>PEDM</Code>
				<Description>DM Patient Education</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPE</Code>
				<Description>Patient Education</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO14</Code>
				<Description>O Allie</Description>
				<Name>
					<FamilyName>Allie</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Olfa</GivenName>
				</Name>
				<CareProviderType>
					<Code>002</Code>
					<Description>Specialist Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>V</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30O1441</Code>
				<Description>ADMINISTRATION </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>isc$rriman</Code>
				<Description>Rami Riman</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30E1396</Code>
				<Description>FAMILY MEDICINE </Description>
			</EnteredAt>
			<EnteredOn>2020-10-26T12:21:47Z</EnteredOn>
			<FromTime>2020-10-26T12:21:00Z</FromTime>
			
			<EncounterNumber>OP0000283912</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>862796/115</PlacerId>
			<OrderItem>
				<Code>PEDM</Code>
				<Description>DM Patient Education</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPE</Code>
				<Description>Patient Education</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO14</Code>
				<Description>O Allie</Description>
				<Name>
					<FamilyName>Allie</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Olfa</GivenName>
				</Name>
				<CareProviderType>
					<Code>002</Code>
					<Description>Specialist Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>V</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30O1441</Code>
				<Description>ADMINISTRATION </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>isc$rriman</Code>
				<Description>Rami Riman</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30E1396</Code>
				<Description>FAMILY MEDICINE </Description>
			</EnteredAt>
			<EnteredOn>2020-10-26T12:20:21Z</EnteredOn>
			<FromTime>2020-10-26T12:19:00Z</FromTime>
			
			<EncounterNumber>OP0000283912</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>862796/106</PlacerId>
			<OrderItem>
				<Code>PEDM</Code>
				<Description>DM Patient Education</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPE</Code>
				<Description>Patient Education</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO14</Code>
				<Description>O Allie</Description>
				<Name>
					<FamilyName>Allie</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Olfa</GivenName>
				</Name>
				<CareProviderType>
					<Code>002</Code>
					<Description>Specialist Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>V</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30O1441</Code>
				<Description>ADMINISTRATION </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>isc$rriman</Code>
				<Description>Rami Riman</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30E1396</Code>
				<Description>FAMILY MEDICINE </Description>
			</EnteredAt>
			<EnteredOn>2020-10-26T12:01:43Z</EnteredOn>
			<FromTime>2020-10-26T12:01:00Z</FromTime>
			
			<EncounterNumber>OP0000283912</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>862796/98</PlacerId>
			<OrderItem>
				<Code>PEWtMg</Code>
				<Description>Weight Management Education</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPE</Code>
				<Description>Patient Education</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO14</Code>
				<Description>O Allie</Description>
				<Name>
					<FamilyName>Allie</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Olfa</GivenName>
				</Name>
				<CareProviderType>
					<Code>002</Code>
					<Description>Specialist Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>V</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30O1441</Code>
				<Description>ADMINISTRATION </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>isc$rriman</Code>
				<Description>Rami Riman</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30E1396</Code>
				<Description>FAMILY MEDICINE </Description>
			</EnteredAt>
			<EnteredOn>2020-10-26T11:04:38Z</EnteredOn>
			<FromTime>2020-10-26T11:03:00Z</FromTime>
			
			<EncounterNumber>OP0000283912</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>862796/80</PlacerId>
			<OrderItem>
				<Code>PEDM</Code>
				<Description>DM Patient Education</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPE</Code>
				<Description>Patient Education</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO14</Code>
				<Description>O Allie</Description>
				<Name>
					<FamilyName>Allie</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Olfa</GivenName>
				</Name>
				<CareProviderType>
					<Code>002</Code>
					<Description>Specialist Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>V</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30O1441</Code>
				<Description>ADMINISTRATION </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>isc$rriman</Code>
				<Description>Rami Riman</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30E1396</Code>
				<Description>FAMILY MEDICINE </Description>
			</EnteredAt>
			<EnteredOn>2020-10-26T11:00:42Z</EnteredOn>
			<FromTime>2020-10-26T10:58:00Z</FromTime>
			
			<EncounterNumber>OP0000283912</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>862796/72</PlacerId>
			<OrderItem>
				<Code>PEDM</Code>
				<Description>DM Patient Education</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPE</Code>
				<Description>Patient Education</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4</Code>
				<Description>A Yakdi</Description>
				<Name>
					<FamilyName>Yakdi</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Alia</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>V</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30O1441</Code>
				<Description>ADMINISTRATION </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>DrFam</Code>
				<Description>Dr Alia Yakdi</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30E1396</Code>
				<Description>FAMILY MEDICINE </Description>
			</EnteredAt>
			<EnteredOn>2020-10-25T11:37:54Z</EnteredOn>
			<FromTime>2020-10-25T11:29:00Z</FromTime>
			
			<EncounterNumber>OP0000283912</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>862796/14</PlacerId>
			<OrderItem>
				<Code>DRCONSFV</Code>
				<Description>SPECIALIST CONSULTATION</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXCNS</Code>
				<Description>Consultations</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4</Code>
				<Description>A Yakdi</Description>
				<Name>
					<FamilyName>Yakdi</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Alia</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>E</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ConsultationDepartment>
				<Code>MEDEMO30E1396</Code>
				<Description>FAMILY MEDICINE </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</ConsultationDepartment>
			<ReceivingLocation>
				<Code>MEDEMO30E1396</Code>
				<Description>FAMILY MEDICINE </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>AdOPD</Code>
				<Description>Admin OPD</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30E1396</Code>
				<Description>FAMILY MEDICINE </Description>
			</EnteredAt>
			<EnteredOn>2020-10-25T11:39:49Z</EnteredOn>
			<FromTime>2020-10-25T10:00:00Z</FromTime>
			
			<EncounterNumber>OP0000283912</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>862866/13</PlacerId>
			<OrderItem>
				<Code>DRCONSEFV</Code>
				<Description>EMERGENCY CONSULTATION</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXCNS</Code>
				<Description>Consultations</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<EnteringOrganization>
				<Code>MEDEMO30EM1439</Code>
				<Description>ACCIDENT - EMERGENCY </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>V</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30EM1439</Code>
				<Description>ACCIDENT - EMERGENCY </Description>
			</ReceivingLocation>
			<EnteredAt>
				<Code>MEDEMO30EM1439</Code>
				<Description>ACCIDENT - EMERGENCY </Description>
			</EnteredAt>
			<EnteredOn>2020-11-10T11:12:52Z</EnteredOn>
			<FromTime>2020-11-10T11:12:00Z</FromTime>
			
			<EncounterNumber>EM0000025181</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>862867/19</PlacerId>
			<OrderItem>
				<Code>DRCONSEFV</Code>
				<Description>EMERGENCY CONSULTATION</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXCNS</Code>
				<Description>Consultations</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<EnteringOrganization>
				<Code>MEDEMO30EM1439</Code>
				<Description>ACCIDENT - EMERGENCY </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>V</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30EM1439</Code>
				<Description>ACCIDENT - EMERGENCY </Description>
			</ReceivingLocation>
			<EnteredAt>
				<Code>MEDEMO30EM1439</Code>
				<Description>ACCIDENT - EMERGENCY </Description>
			</EnteredAt>
			<EnteredOn>2020-11-10T11:20:48Z</EnteredOn>
			<FromTime>2020-11-10T11:20:00Z</FromTime>
			
			<EncounterNumber>EM0000025182</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>862890/54</PlacerId>
			<OrderItem>
				<Code>PROCR0552</Code>
				<Description>TROPONIN I (I-STAT)</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXNRPO</Code>
				<Description>Nursing Orders</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO3139</Code>
				<Description>A Biswas</Description>
				<Name>
					<FamilyName>Biswas</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Alvin</GivenName>
				</Name>
				<CareProviderType>
					<Code>002</Code>
					<Description>Specialist Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>V</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30EM1439</Code>
				<Description>ACCIDENT - EMERGENCY </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>DrED</Code>
				<Description>Dr Emergency</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30EM1439</Code>
				<Description>ACCIDENT - EMERGENCY </Description>
			</EnteredAt>
			<EnteredOn>2020-11-10T17:15:54Z</EnteredOn>
			<FromTime>2020-11-10T17:14:00Z</FromTime>
			
			<EncounterNumber>EM0000025194</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>862890/46</PlacerId>
			<OrderItem>
				<Code>PROCR0052</Code>
				<Description>B P MONITORING ( 24 HOURS)</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXNRPO</Code>
				<Description>Nursing Orders</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO3139</Code>
				<Description>A Biswas</Description>
				<Name>
					<FamilyName>Biswas</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Alvin</GivenName>
				</Name>
				<CareProviderType>
					<Code>002</Code>
					<Description>Specialist Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>V</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<Comments>Check blood pressure on both arms and advise the doctor if more than 15mmHg difference. </Comments>
			<ReceivingLocation>
				<Code>MEDEMO30EM1439</Code>
				<Description>ACCIDENT - EMERGENCY </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>DrED</Code>
				<Description>Dr Emergency</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30EM1439</Code>
				<Description>ACCIDENT - EMERGENCY </Description>
			</EnteredAt>
			<EnteredOn>2020-11-10T17:15:54Z</EnteredOn>
			<FromTime>2020-11-10T17:14:00Z</FromTime>
			
			<EncounterNumber>EM0000025194</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>862890/38</PlacerId>
			<OrderItem>
				<Code>PROCR1478</Code>
				<Description>NONINVASIVE EAR OR PULSE OXIMETRY FOR OXYGEN SATURATION, BY CONTINUOUS OVERNIGHT MONITORING</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXNRPO</Code>
				<Description>Nursing Orders</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO3139</Code>
				<Description>A Biswas</Description>
				<Name>
					<FamilyName>Biswas</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Alvin</GivenName>
				</Name>
				<CareProviderType>
					<Code>002</Code>
					<Description>Specialist Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>V</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30EM1439</Code>
				<Description>ACCIDENT - EMERGENCY </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>DrED</Code>
				<Description>Dr Emergency</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30EM1439</Code>
				<Description>ACCIDENT - EMERGENCY </Description>
			</EnteredAt>
			<EnteredOn>2020-11-10T17:15:54Z</EnteredOn>
			<FromTime>2020-11-10T17:14:00Z</FromTime>
			
			<EncounterNumber>EM0000025194</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>862890/177</PlacerId>
			<OrderItem>
				<Code>PEHA</Code>
				<Description>Heart Attack Education</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPE</Code>
				<Description>Patient Education</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO3139</Code>
				<Description>A Biswas</Description>
				<Name>
					<FamilyName>Biswas</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Alvin</GivenName>
				</Name>
				<CareProviderType>
					<Code>002</Code>
					<Description>Specialist Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>V</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30O1441</Code>
				<Description>ADMINISTRATION </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>DrED</Code>
				<Description>Dr Emergency</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30EM1439</Code>
				<Description>ACCIDENT - EMERGENCY </Description>
			</EnteredAt>
			<EnteredOn>2020-11-10T17:15:54Z</EnteredOn>
			<FromTime>2020-11-10T17:14:00Z</FromTime>
			
			<EncounterNumber>EM0000025194</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>862890/20</PlacerId>
			<OrderItem>
				<Code>PROCR0214</Code>
				<Description>ECG</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXNRPO</Code>
				<Description>Nursing Orders</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO3139</Code>
				<Description>A Biswas</Description>
				<Name>
					<FamilyName>Biswas</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Alvin</GivenName>
				</Name>
				<CareProviderType>
					<Code>002</Code>
					<Description>Specialist Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>V</Status>
			<Priority>
				<Code>ONE</Code>
				<Description>Once Only</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>DrED</Code>
				<Description>Dr Emergency</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30EM1439</Code>
				<Description>ACCIDENT - EMERGENCY </Description>
			</EnteredAt>
			<EnteredOn>2020-11-10T17:15:54Z</EnteredOn>
			<FromTime>2020-11-10T17:14:00Z</FromTime>
			
			<EncounterNumber>EM0000025194</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>862890/12</PlacerId>
			<OrderItem>
				<Code>DRCONSEFV</Code>
				<Description>EMERGENCY CONSULTATION</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXCNS</Code>
				<Description>Consultations</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<EnteringOrganization>
				<Code>MEDEMO30EM1439</Code>
				<Description>ACCIDENT - EMERGENCY </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>V</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30EM1439</Code>
				<Description>ACCIDENT - EMERGENCY </Description>
			</ReceivingLocation>
			<EnteredAt>
				<Code>MEDEMO30EM1439</Code>
				<Description>ACCIDENT - EMERGENCY </Description>
			</EnteredAt>
			<EnteredOn>2020-11-10T17:05:51Z</EnteredOn>
			<FromTime>2020-11-10T17:05:00Z</FromTime>
			
			<EncounterNumber>EM0000025194</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>862911/20</PlacerId>
			<OrderItem>
				<Code>SERVICE01-04</Code>
				<Description>TELE-CONSULTATION </Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXCNS</Code>
				<Description>Consultations</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4</Code>
				<Description>A Yakdi</Description>
				<Name>
					<FamilyName>Yakdi</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Alia</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>V</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ConsultationDepartment>
				<Code>MEDEMO30E1396</Code>
				<Description>FAMILY MEDICINE </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</ConsultationDepartment>
			<ReceivingLocation>
				<Code>MEDEMO30E1396</Code>
				<Description>FAMILY MEDICINE </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>AdOPD</Code>
				<Description>Admin OPD</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30E1396</Code>
				<Description>FAMILY MEDICINE </Description>
			</EnteredAt>
			<EnteredOn>2020-11-12T10:15:00Z</EnteredOn>
			<FromTime>2020-11-11T08:15:00Z</FromTime>
			
			<EncounterNumber>OP0000283921</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>862911/12</PlacerId>
			<OrderItem>
				<Code>SERVICE01-04</Code>
				<Description>TELE-CONSULTATION </Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXCNS</Code>
				<Description>Consultations</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4</Code>
				<Description>A Yakdi</Description>
				<Name>
					<FamilyName>Yakdi</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Alia</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>S</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ConsultationDepartment>
				<Code>MEDEMO30E1396</Code>
				<Description>FAMILY MEDICINE </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</ConsultationDepartment>
			<ReceivingLocation>
				<Code>MEDEMO30E1396</Code>
				<Description>FAMILY MEDICINE </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>isc$rriman</Code>
				<Description>Rami Riman</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30E1396</Code>
				<Description>FAMILY MEDICINE </Description>
			</EnteredAt>
			<EnteredOn>2020-11-11T18:37:35Z</EnteredOn>
			<FromTime>2020-11-11T17:45:00Z</FromTime>
			
			<EncounterNumber>OP0000283921</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>862912/271</PlacerId>
			<OrderItem>
				<Code>PHYS005</Code>
				<Description>Post Cardiac Surgery Physiotherapy</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXCNS</Code>
				<Description>Consultations</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO3187</Code>
				<Description>A Smith</Description>
				<Name>
					<FamilyName>Smith</FamilyName>
					<NamePrefix>MS</NamePrefix>
					<GivenName>Alexandra</GivenName>
				</Name>
				<CareProviderType>
					<Code>008</Code>
					<Description>Rehabilitation Therapist</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>S</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30OP1438</Code>
				<Description>THEATRE COMPLEX </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>Physio</Code>
				<Description>Physiotherapist</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30OP1438</Code>
				<Description>THEATRE COMPLEX </Description>
			</EnteredAt>
			<EnteredOn>2020-11-12T17:36:07Z</EnteredOn>
			<FromTime>2020-11-19T08:00:00Z</FromTime>
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>862912/262</PlacerId>
			<OrderItem>
				<Code>PHYS005</Code>
				<Description>Post Cardiac Surgery Physiotherapy</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXCNS</Code>
				<Description>Consultations</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO3187</Code>
				<Description>A Smith</Description>
				<Name>
					<FamilyName>Smith</FamilyName>
					<NamePrefix>MS</NamePrefix>
					<GivenName>Alexandra</GivenName>
				</Name>
				<CareProviderType>
					<Code>008</Code>
					<Description>Rehabilitation Therapist</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>S</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30OP1438</Code>
				<Description>THEATRE COMPLEX </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>Physio</Code>
				<Description>Physiotherapist</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30OP1438</Code>
				<Description>THEATRE COMPLEX </Description>
			</EnteredAt>
			<EnteredOn>2020-11-12T17:36:07Z</EnteredOn>
			<FromTime>2020-11-17T09:30:00Z</FromTime>
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>862912/253</PlacerId>
			<OrderItem>
				<Code>PHYS005</Code>
				<Description>Post Cardiac Surgery Physiotherapy</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXCNS</Code>
				<Description>Consultations</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO3187</Code>
				<Description>A Smith</Description>
				<Name>
					<FamilyName>Smith</FamilyName>
					<NamePrefix>MS</NamePrefix>
					<GivenName>Alexandra</GivenName>
				</Name>
				<CareProviderType>
					<Code>008</Code>
					<Description>Rehabilitation Therapist</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>S</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30OP1438</Code>
				<Description>THEATRE COMPLEX </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>Physio</Code>
				<Description>Physiotherapist</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30OP1438</Code>
				<Description>THEATRE COMPLEX </Description>
			</EnteredAt>
			<EnteredOn>2020-11-12T17:36:07Z</EnteredOn>
			<FromTime>2020-11-15T09:30:00Z</FromTime>
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>862912/244</PlacerId>
			<OrderItem>
				<Code>NIC580C</Code>
				<Description>IDC Insertion Record</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXNRPO</Code>
				<Description>Nursing Orders</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO1431</Code>
				<Description>A Jain</Description>
				<Name>
					<FamilyName>Jain</FamilyName>
					<NamePrefix>MS</NamePrefix>
					<GivenName>Anis</GivenName>
				</Name>
				<CareProviderType>
					<Code>009</Code>
					<Description>
						<![CDATA[Nursing &amp; Midwifery]]]]><![CDATA[>
					</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Frequency>
				<Code>ONE</Code>
				<Description>Once Only</Description>
				<Factor>1</Factor>
			</Frequency>
			<Duration>
				<Code>1D</Code>
				<Description>One Day</Description>
				<Factor>1</Factor>
			</Duration>
			<Status>V</Status>
			<Priority>
				<Code>ONE</Code>
				<Description>Once Only</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30OP1438</Code>
				<Description>THEATRE COMPLEX </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>NrICU</Code>
				<Description>Nurse ICU</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30OP1438</Code>
				<Description>THEATRE COMPLEX </Description>
			</EnteredAt>
			<EnteredOn>2020-11-12T17:31:34Z</EnteredOn>
			<FromTime>2020-11-12T17:31:00Z</FromTime>
			<ToTime>2020-11-13T17:31:00Z</ToTime>
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>862912/235</PlacerId>
			<OrderItem>
				<Code>NIC580d</Code>
				<Description>Provide catheter care BD</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXNRPO</Code>
				<Description>Nursing Orders</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO1431</Code>
				<Description>A Jain</Description>
				<Name>
					<FamilyName>Jain</FamilyName>
					<NamePrefix>MS</NamePrefix>
					<GivenName>Anis</GivenName>
				</Name>
				<CareProviderType>
					<Code>009</Code>
					<Description>
						<![CDATA[Nursing &amp; Midwifery]]]]><![CDATA[>
					</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Frequency>
				<Code>BID</Code>
				<Description>Twice Daily</Description>
				<Factor>2</Factor>
			</Frequency>
			<Status>V</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30OP1438</Code>
				<Description>THEATRE COMPLEX </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>NrICU</Code>
				<Description>Nurse ICU</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30OP1438</Code>
				<Description>THEATRE COMPLEX </Description>
			</EnteredAt>
			<EnteredOn>2020-11-12T17:31:34Z</EnteredOn>
			<FromTime>2020-11-12T17:31:00Z</FromTime>
			<ToTime>2020-11-19T17:30:59Z</ToTime>
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>862912/226</PlacerId>
			<OrderItem>
				<Code>NIC580b</Code>
				<Description>Monitor fluid balance</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXNRPO</Code>
				<Description>Nursing Orders</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO1431</Code>
				<Description>A Jain</Description>
				<Name>
					<FamilyName>Jain</FamilyName>
					<NamePrefix>MS</NamePrefix>
					<GivenName>Anis</GivenName>
				</Name>
				<CareProviderType>
					<Code>009</Code>
					<Description>
						<![CDATA[Nursing &amp; Midwifery]]]]><![CDATA[>
					</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Frequency>
				<Code>Q1H</Code>
				<Description>Every 1 Hour</Description>
				<Factor>24</Factor>
			</Frequency>
			<Status>V</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30OP1438</Code>
				<Description>THEATRE COMPLEX </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>NrICU</Code>
				<Description>Nurse ICU</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30OP1438</Code>
				<Description>THEATRE COMPLEX </Description>
			</EnteredAt>
			<EnteredOn>2020-11-12T17:31:34Z</EnteredOn>
			<FromTime>2020-11-12T17:31:00Z</FromTime>
			<ToTime>2020-11-15T17:30:59Z</ToTime>
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>862912/173</PlacerId>
			<OrderItem>
				<Code>SERVICE01-04</Code>
				<Description>TELE-CONSULTATION </Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXCNS</Code>
				<Description>Consultations</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4068</Code>
				<Description>H Martin</Description>
				<Name>
					<FamilyName>Martin</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Helen</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>S</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ConsultationDepartment>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</ConsultationDepartment>
			<ReceivingLocation>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>AdOPD</Code>
				<Description>Admin OPD</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30W1378</Code>
				<Description>ICU </Description>
			</EnteredAt>
			<EnteredOn>2020-11-12T10:14:30Z</EnteredOn>
			<FromTime>2020-11-12T10:00:00Z</FromTime>
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>862912/100</PlacerId>
			<OrderItem>
				<Code>NC056</Code>
				<Description>Check Height and Weight</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXNRPO</Code>
				<Description>Nursing Orders</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4068</Code>
				<Description>H Martin</Description>
				<Name>
					<FamilyName>Martin</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Helen</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Frequency>
				<Code>QAM</Code>
				<Description>Once Daily every Morning</Description>
				<Factor>1</Factor>
			</Frequency>
			<Duration>
				<Code>3D</Code>
				<Description>Three Days</Description>
				<Factor>3</Factor>
			</Duration>
			<Status>V</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30W1378</Code>
				<Description>ICU </Description>
			</EnteredAt>
			<EnteredOn>2020-11-11T22:56:39Z</EnteredOn>
			<FromTime>2020-11-11T22:42:00Z</FromTime>
			<ToTime>2020-11-14T22:42:00Z</ToTime>
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>862912/92</PlacerId>
			<OrderItem>
				<Code>NC013</Code>
				<Description>Apply Antiembolic (TED) Stocking</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXNRPO</Code>
				<Description>Nursing Orders</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4068</Code>
				<Description>H Martin</Description>
				<Name>
					<FamilyName>Martin</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Helen</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>V</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30W1378</Code>
				<Description>ICU </Description>
			</EnteredAt>
			<EnteredOn>2020-11-11T22:56:39Z</EnteredOn>
			<FromTime>2020-11-11T22:42:00Z</FromTime>
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>862912/84</PlacerId>
			<OrderItem>
				<Code>NC008</Code>
				<Description>Apply Alpha Mattress</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXNRPO</Code>
				<Description>Nursing Orders</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4068</Code>
				<Description>H Martin</Description>
				<Name>
					<FamilyName>Martin</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Helen</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>V</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30W1378</Code>
				<Description>ICU </Description>
			</EnteredAt>
			<EnteredOn>2020-11-11T22:56:39Z</EnteredOn>
			<FromTime>2020-11-11T22:42:00Z</FromTime>
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>862912/137</PlacerId>
			<OrderItem>
				<Code>NC275</Code>
				<Description>Pnuematic Compression</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXNRPO</Code>
				<Description>Nursing Orders</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4068</Code>
				<Description>H Martin</Description>
				<Name>
					<FamilyName>Martin</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Helen</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>V</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30W1378</Code>
				<Description>ICU </Description>
			</EnteredAt>
			<EnteredOn>2020-11-11T22:56:39Z</EnteredOn>
			<FromTime>2020-11-11T22:42:00Z</FromTime>
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>862912/128</PlacerId>
			<OrderItem>
				<Code>NC138</Code>
				<Description>Foleys Catheter Insertion</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXNRPO</Code>
				<Description>Nursing Orders</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4068</Code>
				<Description>H Martin</Description>
				<Name>
					<FamilyName>Martin</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Helen</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>V</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30W1378</Code>
				<Description>ICU </Description>
			</EnteredAt>
			<EnteredOn>2020-11-11T22:56:39Z</EnteredOn>
			<FromTime>2020-11-11T22:42:00Z</FromTime>
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>862912/119</PlacerId>
			<OrderItem>
				<Code>NC107</Code>
				<Description>Elevate Head of Bed</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXNRPO</Code>
				<Description>Nursing Orders</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4068</Code>
				<Description>H Martin</Description>
				<Name>
					<FamilyName>Martin</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Helen</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>V</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30W1378</Code>
				<Description>ICU </Description>
			</EnteredAt>
			<EnteredOn>2020-11-11T22:56:39Z</EnteredOn>
			<FromTime>2020-11-11T22:42:00Z</FromTime>
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>862912/280</PlacerId>
			<OrderItem>
				<Code>PROCR1453</Code>
				<Description>TRANSCATHETER PLACEMENT OF AN INTRACORONARY STENT(S), PERCUTANEOUS, WITH OR WITHOUT OTHER THERAPEUTIC INTERVENTION, ANY METHOD, EACH ADDITIONAL VESSEL</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXOT</Code>
				<Description>Operating Theatre / Surgery</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<Status>E</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<EnteredBy>
				<Code>NrOT</Code>
				<Description>Nurse Operating Theater </Description>
			</EnteredBy>
			<EnteredOn>2020-11-16T09:20:33Z</EnteredOn>
			<FromTime>2020-11-12T17:06:00Z</FromTime>
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>862912/191</PlacerId>
			<OrderItem>
				<Code>ROM006</Code>
				<Description>ICU</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXACC</Code>
				<Description>Accomodation</Description>
			</OrderCategory>
			<OrderQuantity>0</OrderQuantity>
			<EnteringOrganization>
				<Code>MEDEMO30W1378</Code>
				<Description>ICU </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>V</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30W1378</Code>
				<Description>ICU </Description>
			</ReceivingLocation>
			<EnteredAt>
				<Code>MEDEMO30W1378</Code>
				<Description>ICU </Description>
			</EnteredAt>
			<FromTime>2020-11-12T22:03:00Z</FromTime>
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>862912/182</PlacerId>
			<OrderItem>
				<Code>ROM006</Code>
				<Description>ICU</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXACC</Code>
				<Description>Accomodation</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<EnteringOrganization>
				<Code>MEDEMO30W1378</Code>
				<Description>ICU </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>V</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30W1378</Code>
				<Description>ICU </Description>
			</ReceivingLocation>
			<EnteredAt>
				<Code>MEDEMO30W1378</Code>
				<Description>ICU </Description>
			</EnteredAt>
			<FromTime>2020-11-11T22:03:00Z</FromTime>
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>862941/17</PlacerId>
			<OrderItem>
				<Code>MEDEMOPHYSIO</Code>
				<Description>Physiotherapy Session </Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXCNS</Code>
				<Description>Consultations</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>S</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ConsultationDepartment>
				<Code>MEDEMO30E1424</Code>
				<Description>PHYSIOTHERAPY </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</ConsultationDepartment>
			<ReceivingLocation>
				<Code>MEDEMO30E1424</Code>
				<Description>PHYSIOTHERAPY </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>AdOPD</Code>
				<Description>Admin OPD</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30E1424</Code>
				<Description>PHYSIOTHERAPY </Description>
			</EnteredAt>
			<EnteredOn>2020-11-12T17:37:11Z</EnteredOn>
			<FromTime>2020-11-15T09:30:00Z</FromTime>
			
			<EncounterNumber>OP0000283928</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>862912/253</PlacerId>
			<OrderItem>
				<Code>PHYS005</Code>
				<Description>Post Cardiac Surgery Physiotherapy</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXCNS</Code>
				<Description>Consultations</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO3187</Code>
				<Description>A Smith</Description>
				<Name>
					<FamilyName>Smith</FamilyName>
					<NamePrefix>MS</NamePrefix>
					<GivenName>Alexandra</GivenName>
				</Name>
				<CareProviderType>
					<Code>008</Code>
					<Description>Rehabilitation Therapist</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>S</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30OP1438</Code>
				<Description>THEATRE COMPLEX </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>Physio</Code>
				<Description>Physiotherapist</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30OP1438</Code>
				<Description>THEATRE COMPLEX </Description>
			</EnteredAt>
			<EnteredOn>2020-11-12T17:36:07Z</EnteredOn>
			<FromTime>2020-11-15T09:30:00Z</FromTime>
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>862942/13</PlacerId>
			<OrderItem>
				<Code>MEDEMOPHYSIO</Code>
				<Description>Physiotherapy Session </Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXCNS</Code>
				<Description>Consultations</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>S</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ConsultationDepartment>
				<Code>MEDEMO30E1424</Code>
				<Description>PHYSIOTHERAPY </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</ConsultationDepartment>
			<ReceivingLocation>
				<Code>MEDEMO30E1424</Code>
				<Description>PHYSIOTHERAPY </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>AdOPD</Code>
				<Description>Admin OPD</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30E1424</Code>
				<Description>PHYSIOTHERAPY </Description>
			</EnteredAt>
			<EnteredOn>2020-11-12T17:37:17Z</EnteredOn>
			<FromTime>2020-11-17T09:30:00Z</FromTime>
			
			<EncounterNumber>OP0000283929</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>862912/262</PlacerId>
			<OrderItem>
				<Code>PHYS005</Code>
				<Description>Post Cardiac Surgery Physiotherapy</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXCNS</Code>
				<Description>Consultations</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO3187</Code>
				<Description>A Smith</Description>
				<Name>
					<FamilyName>Smith</FamilyName>
					<NamePrefix>MS</NamePrefix>
					<GivenName>Alexandra</GivenName>
				</Name>
				<CareProviderType>
					<Code>008</Code>
					<Description>Rehabilitation Therapist</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>S</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30OP1438</Code>
				<Description>THEATRE COMPLEX </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>Physio</Code>
				<Description>Physiotherapist</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30OP1438</Code>
				<Description>THEATRE COMPLEX </Description>
			</EnteredAt>
			<EnteredOn>2020-11-12T17:36:07Z</EnteredOn>
			<FromTime>2020-11-17T09:30:00Z</FromTime>
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>862943/19</PlacerId>
			<OrderItem>
				<Code>MEDEMOPHYSIO</Code>
				<Description>Physiotherapy Session </Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXCNS</Code>
				<Description>Consultations</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>S</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ConsultationDepartment>
				<Code>MEDEMO30E1424</Code>
				<Description>PHYSIOTHERAPY </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</ConsultationDepartment>
			<ReceivingLocation>
				<Code>MEDEMO30E1424</Code>
				<Description>PHYSIOTHERAPY </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>AdOPD</Code>
				<Description>Admin OPD</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30E1424</Code>
				<Description>PHYSIOTHERAPY </Description>
			</EnteredAt>
			<EnteredOn>2020-11-12T17:37:24Z</EnteredOn>
			<FromTime>2020-11-19T08:00:00Z</FromTime>
			
			<EncounterNumber>OP0000283930</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>862912/271</PlacerId>
			<OrderItem>
				<Code>PHYS005</Code>
				<Description>Post Cardiac Surgery Physiotherapy</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXCNS</Code>
				<Description>Consultations</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO3187</Code>
				<Description>A Smith</Description>
				<Name>
					<FamilyName>Smith</FamilyName>
					<NamePrefix>MS</NamePrefix>
					<GivenName>Alexandra</GivenName>
				</Name>
				<CareProviderType>
					<Code>008</Code>
					<Description>Rehabilitation Therapist</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>S</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30OP1438</Code>
				<Description>THEATRE COMPLEX </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>Physio</Code>
				<Description>Physiotherapist</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30OP1438</Code>
				<Description>THEATRE COMPLEX </Description>
			</EnteredAt>
			<EnteredOn>2020-11-12T17:36:07Z</EnteredOn>
			<FromTime>2020-11-19T08:00:00Z</FromTime>
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>862961/17</PlacerId>
			<OrderItem>
				<Code>DRCONSFV</Code>
				<Description>SPECIALIST CONSULTATION</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXCNS</Code>
				<Description>Consultations</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4068</Code>
				<Description>H Martin</Description>
				<Name>
					<FamilyName>Martin</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Helen</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>V</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ConsultationDepartment>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</ConsultationDepartment>
			<ReceivingLocation>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>AdOPD</Code>
				<Description>Admin OPD</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</EnteredAt>
			<EnteredOn>2020-12-06T11:29:30Z</EnteredOn>
			<FromTime>2020-12-07T13:00:00Z</FromTime>
			
			<EncounterNumber>OP0000283931</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>862964/65</PlacerId>
			<OrderItem>
				<Code>PROCR0552</Code>
				<Description>TROPONIN I (I-STAT)</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXNRPO</Code>
				<Description>Nursing Orders</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4068</Code>
				<Description>H Martin</Description>
				<Name>
					<FamilyName>Martin</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Helen</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>V</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</EnteredAt>
			<EnteredOn>2020-12-06T13:28:59Z</EnteredOn>
			<FromTime>2020-12-06T13:24:00Z</FromTime>
			
			<EncounterNumber>OP0000283934</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>862964/57</PlacerId>
			<OrderItem>
				<Code>PROCR0052</Code>
				<Description>B P MONITORING ( 24 HOURS)</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXNRPO</Code>
				<Description>Nursing Orders</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4068</Code>
				<Description>H Martin</Description>
				<Name>
					<FamilyName>Martin</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Helen</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>V</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<Comments>Check blood pressure on both arms and advise the doctor if more than 15mmHg difference. </Comments>
			<ReceivingLocation>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</EnteredAt>
			<EnteredOn>2020-12-06T13:28:59Z</EnteredOn>
			<FromTime>2020-12-06T13:24:00Z</FromTime>
			
			<EncounterNumber>OP0000283934</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>862964/49</PlacerId>
			<OrderItem>
				<Code>PROCR1478</Code>
				<Description>NONINVASIVE EAR OR PULSE OXIMETRY FOR OXYGEN SATURATION, BY CONTINUOUS OVERNIGHT MONITORING</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXNRPO</Code>
				<Description>Nursing Orders</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4068</Code>
				<Description>H Martin</Description>
				<Name>
					<FamilyName>Martin</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Helen</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>V</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</EnteredAt>
			<EnteredOn>2020-12-06T13:28:59Z</EnteredOn>
			<FromTime>2020-12-06T13:24:00Z</FromTime>
			
			<EncounterNumber>OP0000283934</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>862964/31</PlacerId>
			<OrderItem>
				<Code>3000086</Code>
				<Description>Mask Oxygen Adult  with Tubing m/c  70-2003</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXCNSSP</Code>
				<Description>Consumables / Supplies</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4068</Code>
				<Description>H Martin</Description>
				<Name>
					<FamilyName>Martin</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Helen</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>V</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<TextInstruction>2-4 liters/minute by nasal cannula in order to maintain oxygen saturation at more than 94% (may use face mask for patient comfort) </TextInstruction>
			<Comments>2-4 liters/minute by nasal cannula in order to maintain oxygen saturation at more than 94% (may use face mask for patient comfort)</Comments>
			<ReceivingLocation>
				<Code>MEDEMO30O1482</Code>
				<Description>OPD STORE MEDEMO30</Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</EnteredAt>
			<EnteredOn>2020-12-06T13:28:59Z</EnteredOn>
			<FromTime>2020-12-06T13:24:00Z</FromTime>
			
			<EncounterNumber>OP0000283934</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>862964/189</PlacerId>
			<OrderItem>
				<Code>PEHA</Code>
				<Description>Heart Attack Education</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPE</Code>
				<Description>Patient Education</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4068</Code>
				<Description>H Martin</Description>
				<Name>
					<FamilyName>Martin</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Helen</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>V</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30O1441</Code>
				<Description>ADMINISTRATION </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</EnteredAt>
			<EnteredOn>2020-12-06T13:28:59Z</EnteredOn>
			<FromTime>2020-12-06T13:24:00Z</FromTime>
			
			<EncounterNumber>OP0000283934</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>862964/23</PlacerId>
			<OrderItem>
				<Code>PROCR0214</Code>
				<Description>ECG</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXNRPO</Code>
				<Description>Nursing Orders</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4068</Code>
				<Description>H Martin</Description>
				<Name>
					<FamilyName>Martin</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Helen</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>V</Status>
			<Priority>
				<Code>ONE</Code>
				<Description>Once Only</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</EnteredAt>
			<EnteredOn>2020-12-06T13:28:59Z</EnteredOn>
			<FromTime>2020-12-06T13:24:00Z</FromTime>
			
			<EncounterNumber>OP0000283934</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>862964/15</PlacerId>
			<OrderItem>
				<Code>DRCONSFV</Code>
				<Description>SPECIALIST CONSULTATION</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXCNS</Code>
				<Description>Consultations</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4068</Code>
				<Description>H Martin</Description>
				<Name>
					<FamilyName>Martin</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Helen</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>E</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ConsultationDepartment>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</ConsultationDepartment>
			<ReceivingLocation>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</EnteredAt>
			<EnteredOn>2020-12-06T13:31:57Z</EnteredOn>
			<FromTime>2020-12-06T12:00:00Z</FromTime>
			
			<EncounterNumber>OP0000283934</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>863008/215</PlacerId>
			<OrderItem>
				<Code>PEWtMg</Code>
				<Description>Weight Management Education</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPE</Code>
				<Description>Patient Education</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4068</Code>
				<Description>H Martin</Description>
				<Name>
					<FamilyName>Martin</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Helen</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>V</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ConsultationDepartment>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</ConsultationDepartment>
			<ReceivingLocation>
				<Code>MEDEMO30O1441</Code>
				<Description>ADMINISTRATION </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</EnteredAt>
			<EnteredOn>2020-12-17T09:45:20Z</EnteredOn>
			<FromTime>2020-12-17T09:45:00Z</FromTime>
			
			<EncounterNumber>OP0000283942</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>863008/206</PlacerId>
			<OrderItem>
				<Code>PEDM</Code>
				<Description>DM Patient Education</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPE</Code>
				<Description>Patient Education</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4068</Code>
				<Description>H Martin</Description>
				<Name>
					<FamilyName>Martin</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Helen</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>V</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ConsultationDepartment>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</ConsultationDepartment>
			<ReceivingLocation>
				<Code>MEDEMO30O1441</Code>
				<Description>ADMINISTRATION </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</EnteredAt>
			<EnteredOn>2020-12-16T10:29:45Z</EnteredOn>
			<FromTime>2020-12-16T10:29:00Z</FromTime>
			
			<EncounterNumber>OP0000283942</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>863008/66</PlacerId>
			<OrderItem>
				<Code>PROCR0552</Code>
				<Description>TROPONIN I (I-STAT)</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXNRPO</Code>
				<Description>Nursing Orders</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4068</Code>
				<Description>H Martin</Description>
				<Name>
					<FamilyName>Martin</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Helen</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>E</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ConsultationDepartment>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</ConsultationDepartment>
			<ReceivingLocation>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</EnteredAt>
			<EnteredOn>2020-12-14T15:56:08Z</EnteredOn>
			<FromTime>2020-12-14T15:33:00Z</FromTime>
			
			<EncounterNumber>OP0000283942</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>863008/58</PlacerId>
			<OrderItem>
				<Code>PROCR0052</Code>
				<Description>B P MONITORING ( 24 HOURS)</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXNRPO</Code>
				<Description>Nursing Orders</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4068</Code>
				<Description>H Martin</Description>
				<Name>
					<FamilyName>Martin</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Helen</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>E</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<Comments>Check blood pressure on both arms and advise the doctor if more than 15mmHg difference. </Comments>
			<ConsultationDepartment>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</ConsultationDepartment>
			<ReceivingLocation>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</EnteredAt>
			<EnteredOn>2020-12-14T15:56:08Z</EnteredOn>
			<FromTime>2020-12-14T15:33:00Z</FromTime>
			
			<EncounterNumber>OP0000283942</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>863008/40</PlacerId>
			<OrderItem>
				<Code>PROCR1478</Code>
				<Description>NONINVASIVE EAR OR PULSE OXIMETRY FOR OXYGEN SATURATION, BY CONTINUOUS OVERNIGHT MONITORING</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXNRPO</Code>
				<Description>Nursing Orders</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4068</Code>
				<Description>H Martin</Description>
				<Name>
					<FamilyName>Martin</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Helen</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>E</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ConsultationDepartment>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</ConsultationDepartment>
			<ReceivingLocation>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</EnteredAt>
			<EnteredOn>2020-12-14T15:56:08Z</EnteredOn>
			<FromTime>2020-12-14T15:33:00Z</FromTime>
			
			<EncounterNumber>OP0000283942</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>863008/32</PlacerId>
			<OrderItem>
				<Code>3000086</Code>
				<Description>Mask Oxygen Adult  with Tubing m/c  70-2003</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXCNSSP</Code>
				<Description>Consumables / Supplies</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4068</Code>
				<Description>H Martin</Description>
				<Name>
					<FamilyName>Martin</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Helen</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>E</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<TextInstruction>2-4 liters/minute by nasal cannula in order to maintain oxygen saturation at more than 94% (may use face mask for patient comfort) </TextInstruction>
			<Comments>2-4 liters/minute by nasal cannula in order to maintain oxygen saturation at more than 94% (may use face mask for patient comfort)</Comments>
			<ConsultationDepartment>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</ConsultationDepartment>
			<ReceivingLocation>
				<Code>MEDEMO30O1482</Code>
				<Description>OPD STORE MEDEMO30</Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</EnteredAt>
			<EnteredOn>2020-12-14T15:56:07Z</EnteredOn>
			<FromTime>2020-12-14T15:33:00Z</FromTime>
			
			<EncounterNumber>OP0000283942</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>863008/180</PlacerId>
			<OrderItem>
				<Code>PEHA</Code>
				<Description>Heart Attack Education</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPE</Code>
				<Description>Patient Education</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4068</Code>
				<Description>H Martin</Description>
				<Name>
					<FamilyName>Martin</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Helen</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>E</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ConsultationDepartment>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</ConsultationDepartment>
			<ReceivingLocation>
				<Code>MEDEMO30O1441</Code>
				<Description>ADMINISTRATION </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</EnteredAt>
			<EnteredOn>2020-12-14T15:56:09Z</EnteredOn>
			<FromTime>2020-12-14T15:33:00Z</FromTime>
			
			<EncounterNumber>OP0000283942</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>863008/24</PlacerId>
			<OrderItem>
				<Code>PROCR0214</Code>
				<Description>ECG</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXNRPO</Code>
				<Description>Nursing Orders</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4068</Code>
				<Description>H Martin</Description>
				<Name>
					<FamilyName>Martin</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Helen</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>E</Status>
			<Priority>
				<Code>ONE</Code>
				<Description>Once Only</Description>
			</Priority>
			<ConsultationDepartment>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</ConsultationDepartment>
			<ReceivingLocation>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</EnteredAt>
			<EnteredOn>2020-12-14T15:56:07Z</EnteredOn>
			<FromTime>2020-12-14T15:33:00Z</FromTime>
			
			<EncounterNumber>OP0000283942</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>863008/16</PlacerId>
			<OrderItem>
				<Code>DRCONSFV</Code>
				<Description>SPECIALIST CONSULTATION</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXCNS</Code>
				<Description>Consultations</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4068</Code>
				<Description>H Martin</Description>
				<Name>
					<FamilyName>Martin</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Helen</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>E</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ConsultationDepartment>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</ConsultationDepartment>
			<ReceivingLocation>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</EnteredAt>
			<EnteredOn>2020-12-14T15:56:07Z</EnteredOn>
			<FromTime>2020-12-14T14:00:00Z</FromTime>
			
			<EncounterNumber>OP0000283942</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>863014/17</PlacerId>
			<OrderItem>
				<Code>FOLLOWUPNC</Code>
				<Description>FOLLOW-UP VISIT - NON CHARGEABLE</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXCNS</Code>
				<Description>Consultations</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4</Code>
				<Description>A Yakdi</Description>
				<Name>
					<FamilyName>Yakdi</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Alia</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>E</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ConsultationDepartment>
				<Code>MEDEMO30E1396</Code>
				<Description>FAMILY MEDICINE </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</ConsultationDepartment>
			<ReceivingLocation>
				<Code>MEDEMO30E1396</Code>
				<Description>FAMILY MEDICINE </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>isc$rriman</Code>
				<Description>Rami Riman</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30E1396</Code>
				<Description>FAMILY MEDICINE </Description>
			</EnteredAt>
			<EnteredOn>2021-01-07T09:00:48Z</EnteredOn>
			<FromTime>2020-12-15T12:15:00Z</FromTime>
			
			<EncounterNumber>OP0000283946</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>863034/17</PlacerId>
			<OrderItem>
				<Code>DRCONSFV</Code>
				<Description>SPECIALIST CONSULTATION</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXCNS</Code>
				<Description>Consultations</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4</Code>
				<Description>A Yakdi</Description>
				<Name>
					<FamilyName>Yakdi</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Alia</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>E</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ConsultationDepartment>
				<Code>MEDEMO30E1396</Code>
				<Description>FAMILY MEDICINE </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</ConsultationDepartment>
			<ReceivingLocation>
				<Code>MEDEMO30E1396</Code>
				<Description>FAMILY MEDICINE </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>isc$ezafer</Code>
				<Description>Eyad Zafer (IS Implementation)</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30E1396</Code>
				<Description>FAMILY MEDICINE </Description>
			</EnteredAt>
			<EnteredOn>2020-12-28T10:57:06Z</EnteredOn>
			<FromTime>2020-12-28T10:30:00Z</FromTime>
			
			<EncounterNumber>OP0000283951</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>863112/19</PlacerId>
			<OrderItem>
				<Code>DRCONSFL</Code>
				<Description>FOLLOWUP VISIT SPECIALIST</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXCNS</Code>
				<Description>Consultations</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4106</Code>
				<Description>P Arnolds</Description>
				<Name>
					<FamilyName>Arnolds</FamilyName>
					<GivenName>Paul</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>S</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ConsultationDepartment>
				<Code>MEDEMO30E1418</Code>
				<Description>ORTHOPAEDICS </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</ConsultationDepartment>
			<ReceivingLocation>
				<Code>MEDEMO30E1418</Code>
				<Description>ORTHOPAEDICS </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>AdOPD</Code>
				<Description>Admin OPD</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30E1418</Code>
				<Description>ORTHOPAEDICS </Description>
			</EnteredAt>
			<EnteredOn>2021-02-22T13:47:33Z</EnteredOn>
			<FromTime>2021-02-22T12:15:00Z</FromTime>
			
			<EncounterNumber>OP0000283966</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>863116/39</PlacerId>
			<OrderItem>
				<Code>PROCR0214</Code>
				<Description>ECG</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXNRPO</Code>
				<Description>Nursing Orders</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO14</Code>
				<Description>O Allie</Description>
				<Name>
					<FamilyName>Allie</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Olfa</GivenName>
				</Name>
				<CareProviderType>
					<Code>002</Code>
					<Description>Specialist Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Frequency>
				<Code>ONE</Code>
				<Description>Once Only</Description>
				<Factor>1</Factor>
			</Frequency>
			<Status>V</Status>
			<Priority>
				<Code>ONE</Code>
				<Description>Once Only</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>isc$rriman</Code>
				<Description>Rami Riman</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30EM1439</Code>
				<Description>ACCIDENT - EMERGENCY </Description>
			</EnteredAt>
			<EnteredOn>2021-02-22T14:40:26Z</EnteredOn>
			<FromTime>2021-02-22T14:37:00Z</FromTime>
			
			<EncounterNumber>EM0000025197</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>863116/13</PlacerId>
			<OrderItem>
				<Code>DRCONSEFV</Code>
				<Description>EMERGENCY CONSULTATION</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXCNS</Code>
				<Description>Consultations</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<EnteringOrganization>
				<Code>MEDEMO30EM1439</Code>
				<Description>ACCIDENT - EMERGENCY </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>V</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30EM1439</Code>
				<Description>ACCIDENT - EMERGENCY </Description>
			</ReceivingLocation>
			<EnteredAt>
				<Code>MEDEMO30EM1439</Code>
				<Description>ACCIDENT - EMERGENCY </Description>
			</EnteredAt>
			<EnteredOn>2021-02-22T14:22:33Z</EnteredOn>
			<FromTime>2021-02-22T14:22:00Z</FromTime>
			
			<EncounterNumber>EM0000025197</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>

		<OtherOrder>
			<PlacerId>863124/90</PlacerId>
			<OrderItem>
				<Code>NC062</Code>
				<Description>Check Weight</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXNRPO</Code>
				<Description>Nursing Orders</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO1431</Code>
				<Description>A Jain</Description>
				<Name>
					<FamilyName>Jain</FamilyName>
					<NamePrefix>MS</NamePrefix>
					<GivenName>Anis</GivenName>
				</Name>
				<CareProviderType>
					<Code>009</Code>
					<Description>
						<![CDATA[Nursing &amp; Midwifery]]]]><![CDATA[>
					</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Frequency>
				<Code>ONE</Code>
				<Description>Once Only</Description>
				<Factor>1</Factor>
			</Frequency>
			<Status>V</Status>
			<Priority>
				<Code>ONE</Code>
				<Description>Once Only</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30E1418</Code>
				<Description>ORTHOPAEDICS </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>NrICU</Code>
				<Description>Nurse ICU</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30W1378</Code>
				<Description>ICU </Description>
			</EnteredAt>
			<EnteredOn>2021-03-03T13:34:34Z</EnteredOn>
			<FromTime>2021-03-03T17:00:00Z</FromTime>
			<ToTime>2021-03-03T17:00:00Z</ToTime>
			
			<EncounterNumber>IP0000006263</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>863124/82</PlacerId>
			<OrderItem>
				<Code>NC011</Code>
				<Description>Ambulate</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXNRPO</Code>
				<Description>Nursing Orders</Description>
			</OrderCategory>
			<OrderQuantity>3</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO1431</Code>
				<Description>A Jain</Description>
				<Name>
					<FamilyName>Jain</FamilyName>
					<NamePrefix>MS</NamePrefix>
					<GivenName>Anis</GivenName>
				</Name>
				<CareProviderType>
					<Code>009</Code>
					<Description>
						<![CDATA[Nursing &amp; Midwifery]]]]><![CDATA[>
					</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Frequency>
				<Code>QD</Code>
				<Description>Once Daily</Description>
				<Factor>1</Factor>
			</Frequency>
			<Status>V</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30E1418</Code>
				<Description>ORTHOPAEDICS </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>NrICU</Code>
				<Description>Nurse ICU</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30W1378</Code>
				<Description>ICU </Description>
			</EnteredAt>
			<EnteredOn>2021-03-03T13:32:35Z</EnteredOn>
			<FromTime>2021-03-03T14:15:00Z</FromTime>
			<ToTime>2021-03-06T14:14:00Z</ToTime>
			
			<EncounterNumber>IP0000006263</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>863124/66</PlacerId>
			<OrderItem>
				<Code>NC376</Code>
				<Description>Vital Signs</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXNRPO</Code>
				<Description>Nursing Orders</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO1431</Code>
				<Description>A Jain</Description>
				<Name>
					<FamilyName>Jain</FamilyName>
					<NamePrefix>MS</NamePrefix>
					<GivenName>Anis</GivenName>
				</Name>
				<CareProviderType>
					<Code>009</Code>
					<Description>
						<![CDATA[Nursing &amp; Midwifery]]]]><![CDATA[>
					</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Frequency>
				<Code>Q3H</Code>
				<Description>Every 3 Hours</Description>
				<Factor>8</Factor>
			</Frequency>
			<Status>V</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ReceivingLocation>
				<Code>MEDEMO30E1418</Code>
				<Description>ORTHOPAEDICS </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>NrICU</Code>
				<Description>Nurse ICU</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30W1378</Code>
				<Description>ICU </Description>
			</EnteredAt>
			<EnteredOn>2021-03-03T13:32:35Z</EnteredOn>
			<FromTime>2021-03-03T13:29:00Z</FromTime>
			<ToTime>2021-03-05T13:28:00Z</ToTime>
			
			<EncounterNumber>IP0000006263</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>863124/58</PlacerId>
			<OrderItem>
				<Code>SURGERY106</Code>
				<Description>ARTHROPLASTY, ACETABULAR AND PROXIMAL FEMORAL PROSTHETIC REPLACEMENT (TOTAL HIP ARTHROPLASTY), WITH OR WITHOUT AUTOGRAFT OR ALLOGRAFT</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXOT</Code>
				<Description>Operating Theatre / Surgery</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<Status>V</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<FromTime>2021-02-22T15:40:00Z</FromTime>
			
			<EncounterNumber>IP0000006263</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>863160/12</PlacerId>
			<OrderItem>
				<Code>DRCONSFV</Code>
				<Description>SPECIALIST CONSULTATION</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXCNS</Code>
				<Description>Consultations</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4068</Code>
				<Description>H Martin</Description>
				<Name>
					<FamilyName>Martin</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Helen</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>E</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ConsultationDepartment>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</ConsultationDepartment>
			<ReceivingLocation>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</EnteredAt>
			<EnteredOn>2021-03-02T10:12:28Z</EnteredOn>
			<FromTime>2021-03-02T09:00:00Z</FromTime>
			
			<EncounterNumber>OP0000283972</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>863224/10</PlacerId>
			<OrderItem>
				<Code>DRCONSFV</Code>
				<Description>SPECIALIST CONSULTATION</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXCNS</Code>
				<Description>Consultations</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4068</Code>
				<Description>H Martin</Description>
				<Name>
					<FamilyName>Martin</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Helen</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>S</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ConsultationDepartment>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</ConsultationDepartment>
			<ReceivingLocation>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>AdOPD</Code>
				<Description>Admin OPD</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</EnteredAt>
			<EnteredOn>2021-03-10T08:41:52Z</EnteredOn>
			<FromTime>2021-03-10T12:00:00Z</FromTime>
			
			<EncounterNumber>OP0000283993</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>863238/19</PlacerId>
			<OrderItem>
				<Code>DRCONSFV</Code>
				<Description>SPECIALIST CONSULTATION</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXCNS</Code>
				<Description>Consultations</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4068</Code>
				<Description>H Martin</Description>
				<Name>
					<FamilyName>Martin</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Helen</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>S</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ConsultationDepartment>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</ConsultationDepartment>
			<ReceivingLocation>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>isc$rriman</Code>
				<Description>Rami Riman</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</EnteredAt>
			<EnteredOn>2021-03-16T08:45:58Z</EnteredOn>
			<FromTime>2021-03-16T10:00:00Z</FromTime>
			
			<EncounterNumber>OP0000283999</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>863355/15</PlacerId>
			<OrderItem>
				<Code>FOLLOWUPNC</Code>
				<Description>FOLLOW-UP VISIT - NON CHARGEABLE</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXCNS</Code>
				<Description>Consultations</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4068</Code>
				<Description>H Martin</Description>
				<Name>
					<FamilyName>Martin</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Helen</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>S</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ConsultationDepartment>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</ConsultationDepartment>
			<ReceivingLocation>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>AdOPD</Code>
				<Description>Admin OPD</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</EnteredAt>
			<EnteredOn>2021-05-25T08:42:58Z</EnteredOn>
			<FromTime>2021-05-25T11:20:00Z</FromTime>
			
			<EncounterNumber>OP0000284023</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>863656/13</PlacerId>
			<OrderItem>
				<Code>DRCONSFV</Code>
				<Description>SPECIALIST CONSULTATION</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXCNS</Code>
				<Description>Consultations</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4068</Code>
				<Description>H Martin</Description>
				<Name>
					<FamilyName>Martin</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Helen</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>V</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ConsultationDepartment>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</ConsultationDepartment>
			<ReceivingLocation>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>AdOPD</Code>
				<Description>Admin OPD</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</EnteredAt>
			<EnteredOn>2021-08-04T11:36:31Z</EnteredOn>
			<FromTime>2021-08-10T14:40:00Z</FromTime>
			
			<EncounterNumber>OP0000284068</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
		<OtherOrder>
			<PlacerId>863659/11</PlacerId>
			<OrderItem>
				<Code>DRCONSFV</Code>
				<Description>SPECIALIST CONSULTATION</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXCNS</Code>
				<Description>Consultations</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4068</Code>
				<Description>H Martin</Description>
				<Name>
					<FamilyName>Martin</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Helen</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>S</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<ConsultationDepartment>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</ConsultationDepartment>
			<ReceivingLocation>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>AdOPD</Code>
				<Description>Admin OPD</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</EnteredAt>
			<EnteredOn>2021-08-04T11:54:43Z</EnteredOn>
			<FromTime>2021-08-04T13:20:00Z</FromTime>
			
			<EncounterNumber>OP0000284071</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
		</OtherOrder>
	</OtherOrders>
	<Medications>
		<Medication>
			<PlacerId>862710/164</PlacerId>
			<OrderItem>
				<Code>PH1340F1P1</Code>
				<Description>Lisinopril - lisinopril - 20 mg tablet [Bottle(100 tablet)] </Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPH</Code>
				<Description>Pharmacy</Description>
			</OrderCategory>
			<OrderQuantity>10</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4</Code>
				<Description>A Yakdi</Description>
				<Name>
					<FamilyName>Yakdi</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Alia</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Frequency>
				<Code>BID</Code>
				<Description>Twice Daily</Description>
				<Factor>2</Factor>
			</Frequency>
			<Status>V</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<TextInstruction> 1 Tablet - oral - Twice Daily  - For 5 Day(s)</TextInstruction>
			<ReceivingLocation>
				<Code>MEDEMO30D1422</Code>
				<Description>PHARMACY </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>DrFam</Code>
				<Description>Dr Alia Yakdi</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30W1383</Code>
				<Description>SURGICAL </Description>
			</EnteredAt>
			<EnteredOn>2020-10-11T16:30:39Z</EnteredOn>
			<FromTime>2020-10-11T16:25:00Z</FromTime>
			<ToTime>2020-10-16T16:24:00Z</ToTime>
			<DrugProduct>
				<Code>183474</Code>
				<Description>Lisinopril</Description>
				<Form>
					<Code>TA</Code>
					<Description>Tablet</Description>
					<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
				</Form>
				<ATCCode>
					<Code>PH1340F1P1</Code>
					<Description>lisinopril - Lisinopril 20 mg Tablets [Bottle(100 tablet)]</Description>
				</ATCCode>
				<Generic>
					<Code>132</Code>
					<Description>lisinopril</Description>
				</Generic>
			</DrugProduct>
			<StrengthVolume>20</StrengthVolume>
			<StrengthVolumeUnits> mg</StrengthVolumeUnits>
			<DoseQuantity>1</DoseQuantity>
			<DoseUoM>
				<Code>TA</Code>
				<Description>Tablet</Description>
			</DoseUoM>
			<NumberOfRefills>0</NumberOfRefills>
			<DosageForm>
				<Code>TA</Code>
				<Description>Tablet</Description>
			</DosageForm>
			<Route>
				<Code>PO</Code>
				<Description>oral</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</Route>
			<PharmacyStatus>Verified</PharmacyStatus>
			<PrescriptionNumber>I2010110001</PrescriptionNumber>
			
			
			<EncounterNumber>IP0000006256</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>Strength</Name>
					<Value>20 mg</Value>
				</NVPair>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ActionScope>MEDICATIONS</ActionScope>
		</Medication>
		<Medication>
			<PlacerId>DEMO</PlacerId>
			<FillerId>DEMO</FillerId>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
			</EnteringOrganization>
			<Frequency>
				<Code>BID</Code>
				<Description>Twice Daily</Description>
			</Frequency>
			<Status>E</Status>
			<EnteredBy>
				<Code>isc$rriman</Code>
				<Description>Rami Riman</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-10-11T09:28:00Z</EnteredOn>
			<FromTime>2020-10-11T09:28:00Z</FromTime>
			
			<RateUnits>
				<Code>UN</Code>
				<Description>Unit</Description>
			</RateUnits>
			<DoseQuantity>1</DoseQuantity>
			<DoseUoM>
				<Code>TA</Code>
				<Description>Tablet</Description>
			</DoseUoM>
			<MaxDoseQuantity>1</MaxDoseQuantity>
			<Route>
				<Code>PO</Code>
				<Description>oral</Description>
			</Route>
			
			<EncounterNumber>IP0000006256</EncounterNumber>
			<ActionScope>MEDICATIONS</ActionScope>
		</Medication>
		<Medication>
			<PlacerId>DEMO</PlacerId>
			<FillerId>DEMO</FillerId>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
			</EnteringOrganization>
			<Frequency>
				<Code>QD</Code>
				<Description>Once Daily</Description>
			</Frequency>
			<Status>E</Status>
			<EnteredBy>
				<Code>isc$rriman</Code>
				<Description>Rami Riman</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-10-11T09:27:00Z</EnteredOn>
			<FromTime>2020-10-11T09:27:00Z</FromTime>
			
			<RateUnits>
				<Code>UN</Code>
				<Description>Unit</Description>
			</RateUnits>
			<DoseQuantity>1</DoseQuantity>
			<DoseUoM>
				<Code>CE</Code>
				<Description>Capsule,Delayed Release (Enteric Coated)</Description>
			</DoseUoM>
			<MaxDoseQuantity>1</MaxDoseQuantity>
			<Route>
				<Code>PO</Code>
				<Description>oral</Description>
			</Route>
			
			<EncounterNumber>IP0000006256</EncounterNumber>
			<ActionScope>MEDICATIONS</ActionScope>
		</Medication>
		<Medication>
			<PlacerId>DEMO</PlacerId>
			<FillerId>DEMO</FillerId>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
			</EnteringOrganization>
			<Frequency>
				<Code>QD</Code>
				<Description>Once Daily</Description>
			</Frequency>
			<Status>E</Status>
			<EnteredBy>
				<Code>isc$rriman</Code>
				<Description>Rami Riman</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-10-11T09:26:00Z</EnteredOn>
			<FromTime>2020-10-11T09:26:00Z</FromTime>
			
			<RateUnits>
				<Code>UN</Code>
				<Description>Unit</Description>
			</RateUnits>
			<DoseQuantity>1</DoseQuantity>
			<DoseUoM>
				<Code>TA</Code>
				<Description>Tablet</Description>
			</DoseUoM>
			<MaxDoseQuantity>1</MaxDoseQuantity>
			<Route>
				<Code>PO</Code>
				<Description>oral</Description>
			</Route>
			
			<EncounterNumber>IP0000006256</EncounterNumber>
			<ActionScope>MEDICATIONS</ActionScope>
		</Medication>
		<Medication>
			<PlacerId>DEMO</PlacerId>
			<FillerId>DEMO</FillerId>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
			</EnteringOrganization>
			<Frequency>
				<Code>BID</Code>
				<Description>Twice Daily</Description>
			</Frequency>
			<Status>E</Status>
			<EnteredBy>
				<Code>isc$rriman</Code>
				<Description>Rami Riman</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-10-11T09:26:00Z</EnteredOn>
			<FromTime>2020-10-11T09:26:00Z</FromTime>
			<DrugProduct>
				<Code>183474</Code>
				<Description>Tablet</Description>
				<BaseQty>1</BaseQty>
				<Strength>
					<Code>20 mg</Code>
					<Description>20 mg</Description>
				</Strength>
				<Generic>
					<Code>132</Code>
					<Description>lisinopril</Description>
				</Generic>
			</DrugProduct>
			
			<RateUnits>
				<Code>UN</Code>
				<Description>Unit</Description>
			</RateUnits>
			<DoseQuantity>1</DoseQuantity>
			<DoseUoM>
				<Code>TA</Code>
				<Description>Tablet</Description>
			</DoseUoM>
			<MaxDoseQuantity>1</MaxDoseQuantity>
			<DosageForm>
				<Description>Tablet</Description>
			</DosageForm>
			<Route>
				<Code>PO</Code>
				<Description>oral</Description>
			</Route>
			
			<EncounterNumber>IP0000006256</EncounterNumber>
			<ActionScope>MEDICATIONS</ActionScope>
		</Medication>
		<Medication>
			<PlacerId>862796/22</PlacerId>
			<OrderItem>
				<Code>PH6503F1P1</Code>
				<Description>esomeprazole magnesium  - 40 mg tablet, delayed release (enteric coated) </Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPH</Code>
				<Description>Pharmacy</Description>
			</OrderCategory>
			<OrderQuantity>30</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4</Code>
				<Description>A Yakdi</Description>
				<Name>
					<FamilyName>Yakdi</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Alia</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Frequency>
				<Code>QD</Code>
				<Description>Once Daily</Description>
				<Factor>1</Factor>
			</Frequency>
			<Status>V</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<TextInstruction> 1 Tablet, Delayed Release (Enteric Coated) - oral - Once Daily  - For 30 Day(s)</TextInstruction>
			<ReceivingLocation>
				<Code>MEDEMO30D1422</Code>
				<Description>PHARMACY </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>PHOPD</Code>
				<Description>Pharmacy OPD</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30E1396</Code>
				<Description>FAMILY MEDICINE </Description>
			</EnteredAt>
			<EnteredOn>2020-10-25T11:44:24Z</EnteredOn>
			<FromTime>2020-10-25T11:29:00Z</FromTime>
			<ToTime>2020-11-24T11:28:00Z</ToTime>
			<DrugProduct>
				<Code>564960,21607,10090</Code>
				<Description>Nexium (564960,21607,10090)</Description>
				<Form>
					<Code>TE</Code>
					<Description>Tablet, Delayed Release (Enteric Coated)</Description>
					<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
				</Form>
				<ATCCode>
					<Code>PH6503F1P1</Code>
					<Description>esomeprazole magnesium - Nexium 40 mg Enteric Coated Tablets [Blister Pack(7 Tablet, Delayed Release (Enteric Coated))]</Description>
				</ATCCode>
				<Generic>
					<Code>21607</Code>
					<Description>esomeprazole magnesium</Description>
				</Generic>
			</DrugProduct>
			<StrengthVolume>40</StrengthVolume>
			<StrengthVolumeUnits> mg</StrengthVolumeUnits>
			<DoseQuantity>1</DoseQuantity>
			<DoseUoM>
				<Code>TE</Code>
				<Description>Tablet, Delayed Release (Enteric Coated)</Description>
			</DoseUoM>
			<NumberOfRefills>0</NumberOfRefills>
			<DosageForm>
				<Code>TE</Code>
				<Description>Tablet, Delayed Release (Enteric Coated)</Description>
			</DosageForm>
			<Route>
				<Code>PO</Code>
				<Description>oral</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</Route>
			<PharmacyStatus>Verified</PharmacyStatus>
			<PrescriptionNumber>O2010250008</PrescriptionNumber>
			
			
			<EncounterNumber>OP0000283912</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>Strength</Name>
					<Value>40 mg</Value>
				</NVPair>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ActionScope>MEDICATIONS</ActionScope>
		</Medication>
		<Medication>
			<PlacerId>862890/168</PlacerId>
			<OrderItem>
				<Code>PH3199F1P1</Code>
				<Description>Morphine Sulphate - morphine sulfate - 10 mg/mL ampoule (ml) (1 mL) [10 Ampoule(1 ml)] </Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPH</Code>
				<Description>Pharmacy</Description>
			</OrderCategory>
			<OrderQuantity>10</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO3139</Code>
				<Description>A Biswas</Description>
				<Name>
					<FamilyName>Biswas</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Alvin</GivenName>
				</Name>
				<CareProviderType>
					<Code>002</Code>
					<Description>Specialist Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Frequency>
				<Code>STAT</Code>
				<Description>STAT</Description>
				<Factor>1</Factor>
			</Frequency>
			<Status>E</Status>
			<Priority>
				<Code>STAT</Code>
				<Description>STAT</Description>
			</Priority>
			<TextInstruction> 10 mg - intravenous Push - STAT</TextInstruction>
			<Comments>not defined - </Comments>
			<ReceivingLocation>
				<Code>MEDEMO30EM1439</Code>
				<Description>ACCIDENT - EMERGENCY </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>NrED</Code>
				<Description>Nurse ED</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30EM1439</Code>
				<Description>ACCIDENT - EMERGENCY </Description>
			</EnteredAt>
			<EnteredOn>2020-11-10T17:24:04Z</EnteredOn>
			<FromTime>2020-11-10T17:14:00Z</FromTime>
			<ToTime>2020-11-10T17:14:00Z</ToTime>
			<DrugProduct>
				<Code>227416</Code>
				<Description>Morphine Sulphate</Description>
				<Form>
					<Code>HH</Code>
					<Description>Ampoule (mL)</Description>
					<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
				</Form>
				<ATCCode>
					<Code>PH3199F1P1</Code>
					<Description>morphine sulfate - Morphine Sulphate 10 mg/1 mL Injection Ampoules [10 Ampoule(1 ml)]</Description>
				</ATCCode>
				<Generic>
					<Code>1694</Code>
					<Description>morphine sulfate</Description>
				</Generic>
			</DrugProduct>
			<StrengthVolumeUnits>mL</StrengthVolumeUnits>
			<DoseQuantity>10</DoseQuantity>
			<DoseUoM>
				<Code>MG</Code>
				<Description>mg</Description>
			</DoseUoM>
			<NumberOfRefills>0</NumberOfRefills>
			<DosageForm>
				<Code>HH</Code>
				<Description>Ampoule (mL)</Description>
			</DosageForm>
			<Route>
				<Code>IV</Code>
				<Description>intravenous</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</Route>
			<PharmacyStatus>Executed</PharmacyStatus>
			<PrescriptionNumber>E2011100010</PrescriptionNumber>
			
			
			<EncounterNumber>EM0000025194</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>Strength</Name>
					<Value>10 mg/mL</Value>
				</NVPair>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ActionScope>MEDICATIONS</ActionScope>
		</Medication>
		<Medication>
			<PlacerId>862890/159</PlacerId>
			<OrderItem>
				<Code>VMP1820,300 mg,TA</Code>
				<Description>aspirin  - 300 mg tablet </Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPH</Code>
				<Description>Pharmacy</Description>
			</OrderCategory>
			<OrderQuantity>300</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO3139</Code>
				<Description>A Biswas</Description>
				<Name>
					<FamilyName>Biswas</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Alvin</GivenName>
				</Name>
				<CareProviderType>
					<Code>002</Code>
					<Description>Specialist Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Frequency>
				<Code>STAT</Code>
				<Description>STAT</Description>
				<Factor>1</Factor>
			</Frequency>
			<Status>V</Status>
			<Priority>
				<Code>STAT</Code>
				<Description>STAT</Description>
			</Priority>
			<TextInstruction> 300 mg - oral - STAT</TextInstruction>
			<ReceivingLocation>
				<Code>MEDEMO30D1422</Code>
				<Description>PHARMACY </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>DrED</Code>
				<Description>Dr Emergency</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30EM1439</Code>
				<Description>ACCIDENT - EMERGENCY </Description>
			</EnteredAt>
			<EnteredOn>2020-11-10T17:15:53Z</EnteredOn>
			<FromTime>2020-11-10T17:14:00Z</FromTime>
			<ToTime>2020-11-10T17:14:00Z</ToTime>
			<StrengthVolume>300</StrengthVolume>
			<StrengthVolumeUnits> mg</StrengthVolumeUnits>
			<DoseQuantity>300</DoseQuantity>
			<DoseUoM>
				<Code>MG</Code>
				<Description>mg</Description>
			</DoseUoM>
			<NumberOfRefills>0</NumberOfRefills>
			<DosageForm>
				<Code>TA</Code>
				<Description>Tablet</Description>
			</DosageForm>
			<Route>
				<Code>PO</Code>
				<Description>oral</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</Route>
			<PharmacyStatus>Verified</PharmacyStatus>
			<PrescriptionNumber>E2011100009</PrescriptionNumber>
			
			
			<EncounterNumber>EM0000025194</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>Strength</Name>
					<Value>300 mg</Value>
				</NVPair>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ActionScope>MEDICATIONS</ActionScope>
		</Medication>
		<Medication>
			<PlacerId>862912/217</PlacerId>
			<OrderItem>
				<Code>PH5791F1P1</Code>
				<Description>Fentanyl Preservative Free - fentanyl citrate/PF - 50 mcg/mL vial (ml) (2 mL) [Vial(2 ml)] </Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPH</Code>
				<Description>Pharmacy</Description>
			</OrderCategory>
			<OrderQuantity>100</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO1654</Code>
				<Description>D Bird</Description>
				<Name>
					<FamilyName>Bird</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Deidre</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Frequency>
				<Code>ONE</Code>
				<Description>Once Only</Description>
				<Factor>1</Factor>
			</Frequency>
			<Duration>
				<Code>1D</Code>
				<Description>One Day</Description>
				<Factor>1</Factor>
			</Duration>
			<Status>E</Status>
			<Priority>
				<Code>ONE</Code>
				<Description>Once Only</Description>
			</Priority>
			<TextInstruction> 100 mcg - intravenous Push - Once Only</TextInstruction>
			<Comments>titrated intraop see flow chart</Comments>
			<ReceivingLocation>
				<Code>MEDEMO30OP1438</Code>
				<Description>THEATRE COMPLEX </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>DrAnes</Code>
				<Description>Dr Anesthesia</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30OP1438</Code>
				<Description>THEATRE COMPLEX </Description>
			</EnteredAt>
			<EnteredOn>2020-11-12T17:21:13Z</EnteredOn>
			<FromTime>2020-11-12T17:04:00Z</FromTime>
			<ToTime>2020-11-12T17:04:00Z</ToTime>
			<DrugProduct>
				<Code>254593</Code>
				<Description>Fentanyl Preservative Free</Description>
				<Form>
					<Code>HV</Code>
					<Description>vial (mL)</Description>
					<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
				</Form>
				<ATCCode>
					<Code>PH5791F1P1</Code>
					<Description>fentanyl citrate/PF - Fentanyl 100 mcg/2 mL (50 mcg/mL) Preservative Free Injection Vial [Vial(2 ml)]</Description>
				</ATCCode>
				<Generic>
					<Code>25386</Code>
					<Description>fentanyl citrate/PF</Description>
				</Generic>
			</DrugProduct>
			<StrengthVolumeUnits>mL</StrengthVolumeUnits>
			<DoseQuantity>100</DoseQuantity>
			<DoseUoM>
				<Code>MCG</Code>
				<Description>mcg</Description>
			</DoseUoM>
			<NumberOfRefills>0</NumberOfRefills>
			<DosageForm>
				<Code>HV</Code>
				<Description>vial (mL)</Description>
			</DosageForm>
			<Route>
				<Code>IV</Code>
				<Description>intravenous</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</Route>
			<PharmacyStatus>Executed</PharmacyStatus>
			<PrescriptionNumber>I2011120006</PrescriptionNumber>
			
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>Strength</Name>
					<Value>50 mcg/mL</Value>
				</NVPair>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ActionScope>MEDICATIONS</ActionScope>
		</Medication>
		<Medication>
			<PlacerId>862912/208</PlacerId>
			<OrderItem>
				<Code>PH2153F2P1</Code>
				<Description>Diprivan - propofol - 10 mg/mL ampoule (ml) (20 mL) [5 Ampoule(20 ml)] </Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPH</Code>
				<Description>Pharmacy</Description>
			</OrderCategory>
			<OrderQuantity>200</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO1654</Code>
				<Description>D Bird</Description>
				<Name>
					<FamilyName>Bird</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Deidre</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Frequency>
				<Code>ONE</Code>
				<Description>Once Only</Description>
				<Factor>1</Factor>
			</Frequency>
			<Duration>
				<Code>1D</Code>
				<Description>One Day</Description>
				<Factor>1</Factor>
			</Duration>
			<Status>E</Status>
			<Priority>
				<Code>ONE</Code>
				<Description>Once Only</Description>
			</Priority>
			<TextInstruction> 200 mg - OVER 1 min - intravenous Intermittent - Once Only</TextInstruction>
			<ReceivingLocation>
				<Code>MEDEMO30OP1438</Code>
				<Description>THEATRE COMPLEX </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>DrAnes</Code>
				<Description>Dr Anesthesia</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30OP1438</Code>
				<Description>THEATRE COMPLEX </Description>
			</EnteredAt>
			<EnteredOn>2020-11-12T17:20:59Z</EnteredOn>
			<FromTime>2020-11-12T17:04:00Z</FromTime>
			<ToTime>2020-11-12T17:04:00Z</ToTime>
			<DrugProduct>
				<Code>448351</Code>
				<Description>Diprivan</Description>
				<Form>
					<Code>HH</Code>
					<Description>Ampoule (mL)</Description>
					<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
				</Form>
				<ATCCode>
					<Code>PH2153F2P1</Code>
					<Description>propofol - Diprivan 1 % (10 mg/mL) Intravenous Injection Ampoules [5 Ampoule(20 ml)]</Description>
				</ATCCode>
				<Generic>
					<Code>4842</Code>
					<Description>propofol</Description>
				</Generic>
			</DrugProduct>
			<StrengthVolumeUnits>mL</StrengthVolumeUnits>
			<DoseQuantity>200</DoseQuantity>
			<DoseUoM>
				<Code>MG</Code>
				<Description>mg</Description>
			</DoseUoM>
			<NumberOfRefills>0</NumberOfRefills>
			<DosageForm>
				<Code>HH</Code>
				<Description>Ampoule (mL)</Description>
			</DosageForm>
			<Route>
				<Code>IV</Code>
				<Description>intravenous</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</Route>
			<PharmacyStatus>Executed</PharmacyStatus>
			<PrescriptionNumber>I2011120005</PrescriptionNumber>
			
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>Strength</Name>
					<Value>10 mg/mL</Value>
				</NVPair>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ActionScope>MEDICATIONS</ActionScope>
		</Medication>
		<Medication>
			<PlacerId>862912/164</PlacerId>
			<OrderItem>
				<Code>PH705F1P1</Code>
				<Description>insulin regular, human  - 100 unit/mL vial (ml) </Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPH</Code>
				<Description>Pharmacy</Description>
			</OrderCategory>
			<OrderQuantity>1000</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4068</Code>
				<Description>H Martin</Description>
				<Name>
					<FamilyName>Martin</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Helen</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Frequency>
				<Code>Q6H</Code>
				<Description>Every 6 Hours</Description>
				<Factor>4</Factor>
			</Frequency>
			<Status>V</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<TextInstruction> 16 unit - subcutaneous - Every 6 Hours  - For 2 Day(s)</TextInstruction>
			<Comments>
				<![CDATA[LDS BG &lt; 50 Give D5w 20% 50 ml and call MD  BG 50-70 Give D5W 20% 20 ml  BG 70-120 Dont Give any units  BG 121-140 Give 2 Units  BG 141-160 Give 4 Units  BG 161-180 Give 6 Units  BG 181-200 Give 8 Units  BG 201-220 Give 10 Units  BG 221-240 Give 12 Units  BG 241-260 Give 14 Units  BG &gt; 260 give 16 Units and call MD ]]]]><![CDATA[>
			</Comments>
			<ReceivingLocation>
				<Code>MEDEMO30D1422</Code>
				<Description>PHARMACY </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>PHIP</Code>
				<Description>Pharmacy IP</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30W1378</Code>
				<Description>ICU </Description>
			</EnteredAt>
			<EnteredOn>2020-11-12T12:54:57Z</EnteredOn>
			<FromTime>2020-11-11T22:42:00Z</FromTime>
			<ToTime>2020-11-13T22:41:00Z</ToTime>
			<DrugProduct>
				<Code>565209</Code>
				<Description>Actrapid HM</Description>
				<Form>
					<Code>HV</Code>
					<Description>vial (mL)</Description>
					<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
				</Form>
				<ATCCode>
					<Code>PH705F1P1</Code>
					<Description>insulin regular, human - Actrapid HM 100 unit/mL Injection Vial [Vial(10 ml)]</Description>
				</ATCCode>
				<Generic>
					<Code>768</Code>
					<Description>insulin regular, human</Description>
				</Generic>
			</DrugProduct>
			<StrengthVolumeUnits>mL</StrengthVolumeUnits>
			<DoseQuantity>16</DoseQuantity>
			<DoseUoM>
				<Code>UNIT</Code>
				<Description>unit</Description>
			</DoseUoM>
			<NumberOfRefills>0</NumberOfRefills>
			<DosageForm>
				<Code>HV</Code>
				<Description>vial (mL)</Description>
			</DosageForm>
			<Route>
				<Code>SQ</Code>
				<Description>subcutaneous</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</Route>
			<PharmacyStatus>Verified</PharmacyStatus>
			<PrescriptionNumber>I2011110006</PrescriptionNumber>
			
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>Strength</Name>
					<Value>100 unit/mL</Value>
				</NVPair>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ActionScope>MEDICATIONS</ActionScope>
		</Medication>
		<Medication>
			<PlacerId>862912/155</PlacerId>
			<OrderItem>
				<Code>PH1509F4P1</Code>
				<Description>0.9 % sodium chloride  - 0.9 % intravenous solution </Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPH</Code>
				<Description>Pharmacy</Description>
			</OrderCategory>
			<OrderQuantity>4</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4068</Code>
				<Description>H Martin</Description>
				<Name>
					<FamilyName>Martin</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Helen</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>IP</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<TextInstruction> 25 mL/hour - intravenous Continuous - For 2 Day(s)</TextInstruction>
			<ReceivingLocation>
				<Code>MEDEMO30D1422</Code>
				<Description>PHARMACY </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>PHIP</Code>
				<Description>Pharmacy IP</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30W1378</Code>
				<Description>ICU </Description>
			</EnteredAt>
			<EnteredOn>2020-11-12T12:54:57Z</EnteredOn>
			<FromTime>2020-11-11T22:42:00Z</FromTime>
			<ToTime>2020-11-13T22:41:00Z</ToTime>
			<DrugProduct>
				<Code>271473</Code>
				<Description>Sodium Chloride 0.9 %</Description>
				<Form>
					<Code>HM</Code>
					<Description>Intravenous Solution</Description>
					<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
				</Form>
				<ATCCode>
					<Code>PH1509F4P1</Code>
					<Description>0.9 % sodium chloride - Sodium Chloride 0.9 % Intravenous Infusion Bag [Bag(1000 ml)]</Description>
				</ATCCode>
				<Generic>
					<Code>8255</Code>
					<Description>0.9 % sodium chloride</Description>
				</Generic>
			</DrugProduct>
			<StrengthVolume>0.9</StrengthVolume>
			<StrengthVolumeUnits> %</StrengthVolumeUnits>
			<DoseQuantity>1</DoseQuantity>
			<DoseUoM>
				<Code>Bag(1000 ml)</Code>
				<Description>Bag(1000 ml)</Description>
			</DoseUoM>
			<NumberOfRefills>0</NumberOfRefills>
			<DosageForm>
				<Code>HM</Code>
				<Description>Intravenous Solution</Description>
			</DosageForm>
			<Route>
				<Code>IV</Code>
				<Description>intravenous</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</Route>
			<PharmacyStatus>In Progress</PharmacyStatus>
			<PrescriptionNumber>I2011110006</PrescriptionNumber>
			
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>Strength</Name>
					<Value>0.9 %</Value>
				</NVPair>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ActionScope>MEDICATIONS</ActionScope>
		</Medication>
		<Medication>
			<PlacerId>862912/146</PlacerId>
			<OrderItem>
				<Code>ivceft1gSF</Code>
				<Description>Ceftriaxone 1000mg/50mL NS - SF  - Solution For Infusion </Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPH</Code>
				<Description>Pharmacy</Description>
			</OrderCategory>
			<OrderQuantity>1000</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4068</Code>
				<Description>H Martin</Description>
				<Name>
					<FamilyName>Martin</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Helen</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Frequency>
				<Code>ONE</Code>
				<Description>Once Only</Description>
				<Factor>1</Factor>
			</Frequency>
			<Status>E</Status>
			<Priority>
				<Code>ONE</Code>
				<Description>Once Only</Description>
			</Priority>
			<TextInstruction> 1000 mg - OVER 30 min - Injection Intermittent - Once Only  
 ceftriaxone sodium (1000mg) in 0.9 % sodium chloride 0.9 % (50mL</TextInstruction>
			<ReceivingLocation>
				<Code>MEDEMO30D1422</Code>
				<Description>PHARMACY </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>NrICU</Code>
				<Description>Nurse ICU</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30W1378</Code>
				<Description>ICU </Description>
			</EnteredAt>
			<EnteredOn>2020-11-12T16:47:58Z</EnteredOn>
			<FromTime>2020-11-12T16:00:00Z</FromTime>
			<ToTime>2020-11-12T16:00:00Z</ToTime>
			<DoseQuantity>1000</DoseQuantity>
			<DoseUoM>
				<Code>MG</Code>
				<Description>mg</Description>
			</DoseUoM>
			<NumberOfRefills>0</NumberOfRefills>
			<Route>
				<Code>IJ</Code>
				<Description>Injection</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</Route>
			<PharmacyStatus>Executed</PharmacyStatus>
			<PrescriptionNumber>I2011120001</PrescriptionNumber>
			
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ActionScope>MEDICATIONS</ActionScope>
		</Medication>
		<Medication>
			<PlacerId>862912/50</PlacerId>
			<OrderItem>
				<Code>VMP22008,40 mg,HS</Code>
				<Description>pantoprazole sodium  - 40 mg vial (ea) </Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPH</Code>
				<Description>Pharmacy</Description>
			</OrderCategory>
			<OrderQuantity>120</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4068</Code>
				<Description>H Martin</Description>
				<Name>
					<FamilyName>Martin</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Helen</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>V</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<TextInstruction> 40 mg - OVER 15 min - intravenous Intermittent - Every 24 Hour(s) - For 3 Day(s)</TextInstruction>
			<ReceivingLocation>
				<Code>MEDEMO30D1422</Code>
				<Description>PHARMACY </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>NrICU</Code>
				<Description>Nurse ICU</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30W1378</Code>
				<Description>ICU </Description>
			</EnteredAt>
			<EnteredOn>2020-11-11T23:01:44Z</EnteredOn>
			<FromTime>2020-11-11T22:42:00Z</FromTime>
			<ToTime>2020-11-14T22:41:59Z</ToTime>
			<StrengthVolume>40</StrengthVolume>
			<StrengthVolumeUnits> mg</StrengthVolumeUnits>
			<DoseQuantity>40</DoseQuantity>
			<DoseUoM>
				<Code>MG</Code>
				<Description>mg</Description>
			</DoseUoM>
			<NumberOfRefills>0</NumberOfRefills>
			<DosageForm>
				<Code>HS</Code>
				<Description>vial (ea)</Description>
			</DosageForm>
			<Route>
				<Code>IV</Code>
				<Description>intravenous</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</Route>
			<PharmacyStatus>Verified</PharmacyStatus>
			<PrescriptionNumber>I2011110006</PrescriptionNumber>
			
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>Strength</Name>
					<Value>40 mg</Value>
				</NVPair>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ActionScope>MEDICATIONS</ActionScope>
		</Medication>
		<Medication>
			<PlacerId>862912/42</PlacerId>
			<OrderItem>
				<Code>VMP7878,40 mg/0.4 mL,HQ</Code>
				<Description>enoxaparin sodium  - 40 mg/0.4 mL syringe (ml) </Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPH</Code>
				<Description>Pharmacy</Description>
			</OrderCategory>
			<OrderQuantity>120</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4068</Code>
				<Description>H Martin</Description>
				<Name>
					<FamilyName>Martin</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Helen</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>V</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<TextInstruction> 40 mg - subcutaneous - Every 24 Hour(s) - For 3 Day(s)</TextInstruction>
			<ReceivingLocation>
				<Code>MEDEMO30D1422</Code>
				<Description>PHARMACY </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>PHIP</Code>
				<Description>Pharmacy IP</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30W1378</Code>
				<Description>ICU </Description>
			</EnteredAt>
			<EnteredOn>2020-11-12T17:08:10Z</EnteredOn>
			<FromTime>2020-11-11T22:42:00Z</FromTime>
			<ToTime>2020-11-14T22:41:59Z</ToTime>
			<StrengthVolume>0.4</StrengthVolume>
			<StrengthVolumeUnits> mL</StrengthVolumeUnits>
			<DoseQuantity>40</DoseQuantity>
			<DoseUoM>
				<Code>MG</Code>
				<Description>mg</Description>
			</DoseUoM>
			<NumberOfRefills>0</NumberOfRefills>
			<DosageForm>
				<Code>HQ</Code>
				<Description>syringe (mL)</Description>
			</DosageForm>
			<Route>
				<Code>SQ</Code>
				<Description>subcutaneous</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</Route>
			<PharmacyStatus>Verified</PharmacyStatus>
			<PrescriptionNumber>I2011110006</PrescriptionNumber>
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>Strength</Name>
					<Value>40 mg/0.4 mL</Value>
				</NVPair>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ActionScope>MEDICATIONS</ActionScope>
		</Medication>
		<Medication>
			<PlacerId>862912/34</PlacerId>
			<OrderItem>
				<Code>VMP1866,1,000 mg/100 mL (10 mg/mL),HP</Code>
				<Description>paracetamol  - 1,000 mg/100 mL (10 mg/mL) intravenous solution, piggyback (ml) </Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPH</Code>
				<Description>Pharmacy</Description>
			</OrderCategory>
			<OrderQuantity>12000</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4068</Code>
				<Description>H Martin</Description>
				<Name>
					<FamilyName>Martin</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Helen</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>V</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<TextInstruction> 1000 mg - OVER 15 min - intravenous Intermittent - Every 6 Hour(s) - For 3 Day(s)</TextInstruction>
			<ReceivingLocation>
				<Code>MEDEMO30D1422</Code>
				<Description>PHARMACY </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30W1378</Code>
				<Description>ICU </Description>
			</EnteredAt>
			<EnteredOn>2020-11-12T02:49:05Z</EnteredOn>
			<FromTime>2020-11-11T22:42:00Z</FromTime>
			<ToTime>2020-11-14T22:41:59Z</ToTime>
			<StrengthVolume>1</StrengthVolume>
			<StrengthVolumeUnits>, mg/ mL </StrengthVolumeUnits>
			<DoseQuantity>1000</DoseQuantity>
			<DoseUoM>
				<Code>MG</Code>
				<Description>mg</Description>
			</DoseUoM>
			<NumberOfRefills>0</NumberOfRefills>
			<DosageForm>
				<Code>HP</Code>
				<Description>Intravenous Solution, Piggyback (mL)</Description>
			</DosageForm>
			<Route>
				<Code>IV</Code>
				<Description>intravenous</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</Route>
			<PharmacyStatus>Verified</PharmacyStatus>
			<PrescriptionNumber>I2011110006</PrescriptionNumber>
			
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>Strength</Name>
					<Value>1,000 mg/100 mL (10 mg/mL)</Value>
				</NVPair>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ActionScope>MEDICATIONS</ActionScope>
		</Medication>
		<Medication>
			<PlacerId>862964/241</PlacerId>
			<OrderItem>
				<Code>PH1474F1P2</Code>
				<Description>atenolol  - 100 mg tablet </Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPH</Code>
				<Description>Pharmacy</Description>
			</OrderCategory>
			<OrderQuantity>4000</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4068</Code>
				<Description>H Martin</Description>
				<Name>
					<FamilyName>Martin</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Helen</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Frequency>
				<Code>QD</Code>
				<Description>Once Daily</Description>
				<Factor>1</Factor>
			</Frequency>
			<Status>V</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<TextInstruction> Variable - oral - Once Daily  (Variable) - For 60 Day(s)</TextInstruction>
			<ConsultationDepartment>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</ConsultationDepartment>
			<ReceivingLocation>
				<Code>MEDEMO30D1422</Code>
				<Description>PHARMACY </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>isc$aemam</Code>
				<Description>Adham Emam</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</EnteredAt>
			<EnteredOn>2020-12-27T15:40:27Z</EnteredOn>
			<FromTime>2020-12-06T14:05:00Z</FromTime>
			<ToTime>2021-02-04T14:04:00Z</ToTime>
			<DrugProduct>
				<Code>566717</Code>
				<Description>Blokium</Description>
				<Form>
					<Code>TA</Code>
					<Description>Tablet</Description>
					<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
				</Form>
				<ATCCode>
					<Code>PH1474F1P2</Code>
					<Description>atenolol - Blokium 100 mg Tablets [Blister Pack(15 tablet)]</Description>
				</ATCCode>
				<Generic>
					<Code>2104</Code>
					<Description>atenolol</Description>
				</Generic>
			</DrugProduct>
			<StrengthVolume>100</StrengthVolume>
			<StrengthVolumeUnits> mg</StrengthVolumeUnits>
			<DoseQuantity>100</DoseQuantity>
			<DoseUoM>
				<Code>MG</Code>
				<Description>mg</Description>
			</DoseUoM>
			<NumberOfRefills>0</NumberOfRefills>
			<DosageForm>
				<Code>TA</Code>
				<Description>Tablet</Description>
			</DosageForm>
			<Route>
				<Code>PO</Code>
				<Description>oral</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</Route>
			<PharmacyStatus>Verified</PharmacyStatus>
			<PrescriptionNumber>O2012060005</PrescriptionNumber>
			
			<EncounterNumber>OP0000283934</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>Strength</Name>
					<Value>100 mg</Value>
				</NVPair>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ActionScope>MEDICATIONS</ActionScope>
		</Medication>
		<Medication>
			<PlacerId>862964/170</PlacerId>
			<OrderItem>
				<Code>PH3199F1P1</Code>
				<Description>Morphine Sulphate - morphine sulfate - 10 mg/mL ampoule (ml) (1 mL) [10 Ampoule(1 ml)] </Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPH</Code>
				<Description>Pharmacy</Description>
			</OrderCategory>
			<OrderQuantity>10</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4068</Code>
				<Description>H Martin</Description>
				<Name>
					<FamilyName>Martin</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Helen</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Frequency>
				<Code>STAT</Code>
				<Description>STAT</Description>
				<Factor>1</Factor>
			</Frequency>
			<Status>V</Status>
			<Priority>
				<Code>STAT</Code>
				<Description>STAT</Description>
			</Priority>
			<TextInstruction> 10 mg - intravenous Push - STAT</TextInstruction>
			<Comments>not defined - </Comments>
			<ReceivingLocation>
				<Code>MEDEMO30O1482</Code>
				<Description>OPD STORE MEDEMO30</Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</EnteredAt>
			<EnteredOn>2020-12-06T13:28:58Z</EnteredOn>
			<FromTime>2020-12-06T13:24:00Z</FromTime>
			<ToTime>2020-12-06T13:24:00Z</ToTime>
			<DrugProduct>
				<Code>227416</Code>
				<Description>Morphine Sulphate</Description>
				<Form>
					<Code>HH</Code>
					<Description>Ampoule (mL)</Description>
					<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
				</Form>
				<ATCCode>
					<Code>PH3199F1P1</Code>
					<Description>morphine sulfate - Morphine Sulphate 10 mg/1 mL Injection Ampoules [10 Ampoule(1 ml)]</Description>
				</ATCCode>
				<Generic>
					<Code>1694</Code>
					<Description>morphine sulfate</Description>
				</Generic>
			</DrugProduct>
			<StrengthVolumeUnits>mL</StrengthVolumeUnits>
			<DoseQuantity>10</DoseQuantity>
			<DoseUoM>
				<Code>MG</Code>
				<Description>mg</Description>
			</DoseUoM>
			<NumberOfRefills>0</NumberOfRefills>
			<DosageForm>
				<Code>HH</Code>
				<Description>Ampoule (mL)</Description>
			</DosageForm>
			<Route>
				<Code>IV</Code>
				<Description>intravenous</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</Route>
			<PharmacyStatus>Verified</PharmacyStatus>
			<PrescriptionNumber>O2012060003</PrescriptionNumber>
			
			<EncounterNumber>OP0000283934</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>Strength</Name>
					<Value>10 mg/mL</Value>
				</NVPair>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ActionScope>MEDICATIONS</ActionScope>
		</Medication>
		<Medication>
			<PlacerId>862964/161</PlacerId>
			<OrderItem>
				<Code>PH1109F3P1</Code>
				<Description>aspirin  - 300 mg tablet </Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPH</Code>
				<Description>Pharmacy</Description>
			</OrderCategory>
			<OrderQuantity>9000</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4068</Code>
				<Description>H Martin</Description>
				<Name>
					<FamilyName>Martin</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Helen</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Frequency>
				<Code>QD</Code>
				<Description>Once Daily</Description>
				<Factor>1</Factor>
			</Frequency>
			<Status>V</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<TextInstruction> 300 mg - oral - Once Daily  - For 30 Day(s)</TextInstruction>
			<ReceivingLocation>
				<Code>MEDEMO30D1422</Code>
				<Description>PHARMACY </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>PHOPD</Code>
				<Description>Pharmacy OPD</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</EnteredAt>
			<EnteredOn>2020-12-06T13:37:19Z</EnteredOn>
			<FromTime>2020-12-06T13:24:00Z</FromTime>
			<ToTime>2021-01-05T13:23:00Z</ToTime>
			<DrugProduct>
				<Code>566249</Code>
				<Description>Jusprin</Description>
				<Form>
					<Code>TA</Code>
					<Description>Tablet</Description>
					<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
				</Form>
				<ATCCode>
					<Code>PH1109F3P1</Code>
					<Description>aspirin - Jusprin 300 mg Tablets [Blister Pack(30 tablet)]</Description>
				</ATCCode>
				<Generic>
					<Code>1820</Code>
					<Description>aspirin</Description>
				</Generic>
			</DrugProduct>
			<StrengthVolume>300</StrengthVolume>
			<StrengthVolumeUnits> mg</StrengthVolumeUnits>
			<DoseQuantity>300</DoseQuantity>
			<DoseUoM>
				<Code>MG</Code>
				<Description>mg</Description>
			</DoseUoM>
			<NumberOfRefills>0</NumberOfRefills>
			<DosageForm>
				<Code>TA</Code>
				<Description>Tablet</Description>
			</DosageForm>
			<Route>
				<Code>PO</Code>
				<Description>oral</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</Route>
			<PharmacyStatus>Verified</PharmacyStatus>
			<PrescriptionNumber>O2012060004</PrescriptionNumber>
			
			<EncounterNumber>OP0000283934</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>Strength</Name>
					<Value>300 mg</Value>
				</NVPair>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ActionScope>MEDICATIONS</ActionScope>
		</Medication>
		<Medication>
			<PlacerId>863008/199</PlacerId>
			<OrderItem>
				<Code>VMP34126,100 mg,TA</Code>
				<Description>sitagliptin phosphate  - 100 mg tablet </Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPH</Code>
				<Description>Pharmacy</Description>
			</OrderCategory>
			<OrderQuantity>35</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4068</Code>
				<Description>H Martin</Description>
				<Name>
					<FamilyName>Martin</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Helen</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Frequency>
				<Code>QD</Code>
				<Description>Once Daily</Description>
				<Factor>1</Factor>
			</Frequency>
			<Status>E</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<TextInstruction> Variable - oral - Once Daily  (Variable) - For 60 Day(s)</TextInstruction>
			<ConsultationDepartment>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</ConsultationDepartment>
			<ReceivingLocation>
				<Code>MEDEMO30D1422</Code>
				<Description>PHARMACY </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</EnteredAt>
			<EnteredOn>2020-12-14T15:56:10Z</EnteredOn>
			<FromTime>2020-12-14T15:33:00Z</FromTime>
			<ToTime>2021-02-12T15:32:00Z</ToTime>
			<StrengthVolume>100</StrengthVolume>
			<StrengthVolumeUnits> mg</StrengthVolumeUnits>
			<DoseQuantity>1</DoseQuantity>
			<DoseUoM>
				<Code>TA</Code>
				<Description>Tablet</Description>
			</DoseUoM>
			<NumberOfRefills>0</NumberOfRefills>
			<DosageForm>
				<Code>TA</Code>
				<Description>Tablet</Description>
			</DosageForm>
			<Route>
				<Code>PO</Code>
				<Description>oral</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</Route>
			<PharmacyStatus>Executed</PharmacyStatus>
			<PrescriptionNumber>O2012140002</PrescriptionNumber>
			
			
			<EncounterNumber>OP0000283942</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>Strength</Name>
					<Value>100 mg</Value>
				</NVPair>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ActionScope>MEDICATIONS</ActionScope>
		</Medication>
		<Medication>
			<PlacerId>863008/171</PlacerId>
			<OrderItem>
				<Code>PH3199F1P1</Code>
				<Description>Morphine Sulphate - morphine sulfate - 10 mg/mL ampoule (ml) (1 mL) [10 Ampoule(1 ml)] </Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPH</Code>
				<Description>Pharmacy</Description>
			</OrderCategory>
			<OrderQuantity>10</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4068</Code>
				<Description>H Martin</Description>
				<Name>
					<FamilyName>Martin</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Helen</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Frequency>
				<Code>STAT</Code>
				<Description>STAT</Description>
				<Factor>1</Factor>
			</Frequency>
			<Status>E</Status>
			<Priority>
				<Code>STAT</Code>
				<Description>STAT</Description>
			</Priority>
			<TextInstruction> 10 mg - intravenous Push - STAT</TextInstruction>
			<Comments>not defined - </Comments>
			<ConsultationDepartment>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</ConsultationDepartment>
			<ReceivingLocation>
				<Code>MEDEMO30O1482</Code>
				<Description>OPD STORE MEDEMO30</Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</EnteredAt>
			<EnteredOn>2020-12-14T15:56:09Z</EnteredOn>
			<FromTime>2020-12-14T15:33:00Z</FromTime>
			<ToTime>2020-12-14T15:33:00Z</ToTime>
			<DrugProduct>
				<Code>227416</Code>
				<Description>Morphine Sulphate</Description>
				<Form>
					<Code>HH</Code>
					<Description>Ampoule (mL)</Description>
					<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
				</Form>
				<ATCCode>
					<Code>PH3199F1P1</Code>
					<Description>morphine sulfate - Morphine Sulphate 10 mg/1 mL Injection Ampoules [10 Ampoule(1 ml)]</Description>
				</ATCCode>
				<Generic>
					<Code>1694</Code>
					<Description>morphine sulfate</Description>
				</Generic>
			</DrugProduct>
			<StrengthVolumeUnits>mL</StrengthVolumeUnits>
			<DoseQuantity>10</DoseQuantity>
			<DoseUoM>
				<Code>MG</Code>
				<Description>mg</Description>
			</DoseUoM>
			<NumberOfRefills>0</NumberOfRefills>
			<DosageForm>
				<Code>HH</Code>
				<Description>Ampoule (mL)</Description>
			</DosageForm>
			<Route>
				<Code>IV</Code>
				<Description>intravenous</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</Route>
			<PharmacyStatus>Executed</PharmacyStatus>
			<PrescriptionNumber>O2012140001</PrescriptionNumber>
			
			
			<EncounterNumber>OP0000283942</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>Strength</Name>
					<Value>10 mg/mL</Value>
				</NVPair>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ActionScope>MEDICATIONS</ActionScope>
		</Medication>
		<Medication>
			<PlacerId>863008/162</PlacerId>
			<OrderItem>
				<Code>VMP159,400 mcg/spray,AX</Code>
				<Description>nitroglycerin  - 400 mcg/spray spray, non-aerosol (ea) </Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPH</Code>
				<Description>Pharmacy</Description>
			</OrderCategory>
			<OrderQuantity>2</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4068</Code>
				<Description>H Martin</Description>
				<Name>
					<FamilyName>Martin</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Helen</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Frequency>
				<Code>ONE</Code>
				<Description>Once Only</Description>
				<Factor>1</Factor>
			</Frequency>
			<Status>E</Status>
			<Priority>
				<Code>ONE</Code>
				<Description>Once Only</Description>
			</Priority>
			<TextInstruction> 2 Puff - Sublingual - Once Only</TextInstruction>
			<ConsultationDepartment>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</ConsultationDepartment>
			<ReceivingLocation>
				<Code>MEDEMO30D1422</Code>
				<Description>PHARMACY </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</EnteredAt>
			<EnteredOn>2020-12-14T15:56:09Z</EnteredOn>
			<FromTime>2020-12-14T15:33:00Z</FromTime>
			<ToTime>2020-12-14T15:33:00Z</ToTime>
			<StrengthVolumeUnits>spray</StrengthVolumeUnits>
			<DoseQuantity>2</DoseQuantity>
			<DoseUoM>
				<Code>PUFF</Code>
				<Description>Puff</Description>
			</DoseUoM>
			<NumberOfRefills>0</NumberOfRefills>
			<DosageForm>
				<Code>AX</Code>
				<Description>Spray, Non-Aerosol (ea)</Description>
			</DosageForm>
			<Route>
				<Code>SL</Code>
				<Description>Sublingual</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</Route>
			<PharmacyStatus>Executed</PharmacyStatus>
			<PrescriptionNumber>O2012140002</PrescriptionNumber>
			
			
			<EncounterNumber>OP0000283942</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>Strength</Name>
					<Value>400 mcg/spray</Value>
				</NVPair>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ActionScope>MEDICATIONS</ActionScope>
		</Medication>
		<Medication>
			<PlacerId>863116/114</PlacerId>
			<OrderItem>
				<Code>PH3199F1P1</Code>
				<Description>Morphine Sulphate - morphine sulfate - 10 mg/mL ampoule (ml) (1 mL) [10 Ampoule(1 ml)] </Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPH</Code>
				<Description>Pharmacy</Description>
			</OrderCategory>
			<OrderQuantity>10</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO3869</Code>
				<Description>E Zdircea</Description>
				<Name>
					<FamilyName>Zdircea</FamilyName>
					<GivenName>Emad</GivenName>
				</Name>
				<CareProviderType>
					<Code>009</Code>
					<Description>
						<![CDATA[Nursing &amp; Midwifery]]]]><![CDATA[>
					</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Frequency>
				<Code>STAT</Code>
				<Description>STAT</Description>
				<Factor>1</Factor>
			</Frequency>
			<Status>V</Status>
			<Priority>
				<Code>STAT</Code>
				<Description>STAT</Description>
			</Priority>
			<TextInstruction> 10 mg - OVER 10 min - intravenous Intermittent - STAT</TextInstruction>
			<Comments>not defined - </Comments>
			<ReceivingLocation>
				<Code>MEDEMO30EM1439</Code>
				<Description>ACCIDENT - EMERGENCY </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>isc$ylahloh</Code>
				<Description>Yasmeen Lahloh (IS Implementation)</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30EM1439</Code>
				<Description>ACCIDENT - EMERGENCY </Description>
			</EnteredAt>
			<EnteredOn>2021-02-22T15:03:06Z</EnteredOn>
			<FromTime>2021-02-22T15:02:00Z</FromTime>
			<ToTime>2021-02-22T15:02:00Z</ToTime>
			<DrugProduct>
				<Code>227416</Code>
				<Description>Morphine Sulphate</Description>
				<Form>
					<Code>HH</Code>
					<Description>Ampoule (mL)</Description>
					<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
				</Form>
				<ATCCode>
					<Code>PH3199F1P1</Code>
					<Description>morphine sulfate - Morphine Sulphate 10 mg/1 mL Injection Ampoules [10 Ampoule(1 ml)]</Description>
				</ATCCode>
				<Generic>
					<Code>1694</Code>
					<Description>morphine sulfate</Description>
				</Generic>
			</DrugProduct>
			<StrengthVolumeUnits>mL</StrengthVolumeUnits>
			<DoseQuantity>10</DoseQuantity>
			<DoseUoM>
				<Code>MG</Code>
				<Description>mg</Description>
			</DoseUoM>
			<NumberOfRefills>0</NumberOfRefills>
			<DosageForm>
				<Code>HH</Code>
				<Description>Ampoule (mL)</Description>
			</DosageForm>
			<Route>
				<Code>IV</Code>
				<Description>intravenous</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</Route>
			<PharmacyStatus>Verified</PharmacyStatus>
			<PrescriptionNumber>E2102220006</PrescriptionNumber>
			
			
			<EncounterNumber>EM0000025197</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>Strength</Name>
					<Value>10 mg/mL</Value>
				</NVPair>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ActionScope>MEDICATIONS</ActionScope>
		</Medication>
		<Medication>
			<PlacerId>863116/105</PlacerId>
			<OrderItem>
				<Code>IVCEFT2GBSFP</Code>
				<Description>Ceftriaxone 2000 MG/50mL NS - BSFP  - Solution For Infusion </Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPH</Code>
				<Description>Pharmacy</Description>
			</OrderCategory>
			<OrderQuantity>30000</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO14</Code>
				<Description>O Allie</Description>
				<Name>
					<FamilyName>Allie</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Olfa</GivenName>
				</Name>
				<CareProviderType>
					<Code>002</Code>
					<Description>Specialist Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Frequency>
				<Code>Q8H</Code>
				<Description>Every 8 Hours</Description>
				<Factor>3</Factor>
			</Frequency>
			<Status>V</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<TextInstruction> 2000 mg - OVER 1 hrs - intravenous Intermittent - Every 8 Hours  - For 5 Day(s) 
 Rocephin (2000mg) in Sodium Chloride 0.9 % 0.9 % (50mL</TextInstruction>
			<ReceivingLocation>
				<Code>MEDEMO30D1422</Code>
				<Description>PHARMACY </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>isc$rriman</Code>
				<Description>Rami Riman</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30EM1439</Code>
				<Description>ACCIDENT - EMERGENCY </Description>
			</EnteredAt>
			<EnteredOn>2021-02-22T14:40:24Z</EnteredOn>
			<FromTime>2021-02-22T14:37:00Z</FromTime>
			<ToTime>2021-02-27T14:36:59Z</ToTime>
			<DoseQuantity>2000</DoseQuantity>
			<DoseUoM>
				<Code>MG</Code>
				<Description>mg</Description>
			</DoseUoM>
			<NumberOfRefills>0</NumberOfRefills>
			<Route>
				<Code>IV</Code>
				<Description>intravenous</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</Route>
			<PharmacyStatus>Verified</PharmacyStatus>
			<PrescriptionNumber>E2102220004</PrescriptionNumber>
			
			<EncounterNumber>EM0000025197</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ActionScope>MEDICATIONS</ActionScope>
		</Medication>
		<Medication>
			<PlacerId>863116/97</PlacerId>
			<OrderItem>
				<Code>PH3199F1P1</Code>
				<Description>Morphine Sulphate - morphine sulfate - 10 mg/mL ampoule (ml) (1 mL) [10 Ampoule(1 ml)] </Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPH</Code>
				<Description>Pharmacy</Description>
			</OrderCategory>
			<OrderQuantity>10</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO14</Code>
				<Description>O Allie</Description>
				<Name>
					<FamilyName>Allie</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Olfa</GivenName>
				</Name>
				<CareProviderType>
					<Code>002</Code>
					<Description>Specialist Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Frequency>
				<Code>STAT</Code>
				<Description>STAT</Description>
				<Factor>1</Factor>
			</Frequency>
			<Status>E</Status>
			<Priority>
				<Code>STAT</Code>
				<Description>STAT</Description>
			</Priority>
			<TextInstruction> 10 mg - OVER 10 min - intravenous Intermittent - STAT</TextInstruction>
			<Comments>not defined - </Comments>
			<ReceivingLocation>
				<Code>MEDEMO30EM1439</Code>
				<Description>ACCIDENT - EMERGENCY </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>NrED</Code>
				<Description>Nurse ED</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30EM1439</Code>
				<Description>ACCIDENT - EMERGENCY </Description>
			</EnteredAt>
			<EnteredOn>2021-02-22T14:55:58Z</EnteredOn>
			<FromTime>2021-02-22T14:37:00Z</FromTime>
			<ToTime>2021-02-22T14:37:00Z</ToTime>
			<DrugProduct>
				<Code>227416</Code>
				<Description>Morphine Sulphate</Description>
				<Form>
					<Code>HH</Code>
					<Description>Ampoule (mL)</Description>
					<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
				</Form>
				<ATCCode>
					<Code>PH3199F1P1</Code>
					<Description>morphine sulfate - Morphine Sulphate 10 mg/1 mL Injection Ampoules [10 Ampoule(1 ml)]</Description>
				</ATCCode>
				<Generic>
					<Code>1694</Code>
					<Description>morphine sulfate</Description>
				</Generic>
			</DrugProduct>
			<StrengthVolumeUnits>mL</StrengthVolumeUnits>
			<DoseQuantity>10</DoseQuantity>
			<DoseUoM>
				<Code>MG</Code>
				<Description>mg</Description>
			</DoseUoM>
			<NumberOfRefills>0</NumberOfRefills>
			<DosageForm>
				<Code>HH</Code>
				<Description>Ampoule (mL)</Description>
			</DosageForm>
			<Route>
				<Code>IV</Code>
				<Description>intravenous</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</Route>
			<PharmacyStatus>Executed</PharmacyStatus>
			<PrescriptionNumber>E2102220005</PrescriptionNumber>
			
			
			<EncounterNumber>EM0000025197</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>Strength</Name>
					<Value>10 mg/mL</Value>
				</NVPair>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ActionScope>MEDICATIONS</ActionScope>
		</Medication>
		<Medication>
			<PlacerId>863116/47</PlacerId>
			<OrderItem>
				<Code>AMP152810,8255,0.9 %,HH</Code>
				<Description>Sodium Chloride(0.9 % sodium chloride) - 0.9 % sodium chloride - 0.9 % ampoule (ml) </Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPH</Code>
				<Description>Pharmacy</Description>
			</OrderCategory>
			<OrderQuantity>1</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO14</Code>
				<Description>O Allie</Description>
				<Name>
					<FamilyName>Allie</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Olfa</GivenName>
				</Name>
				<CareProviderType>
					<Code>002</Code>
					<Description>Specialist Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>V</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<TextInstruction> 100 mL/hour - intravenous Continuous - For 1 Day(s)</TextInstruction>
			<ReceivingLocation>
				<Code>MEDEMO30D1422</Code>
				<Description>PHARMACY </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>isc$rriman</Code>
				<Description>Rami Riman</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30EM1439</Code>
				<Description>ACCIDENT - EMERGENCY </Description>
			</EnteredAt>
			<EnteredOn>2021-02-22T14:40:26Z</EnteredOn>
			<FromTime>2021-02-22T14:37:00Z</FromTime>
			<ToTime>2021-02-23T14:36:59Z</ToTime>
			<StrengthVolume>0.9</StrengthVolume>
			<StrengthVolumeUnits> %</StrengthVolumeUnits>
			<NumberOfRefills>0</NumberOfRefills>
			<DosageForm>
				<Code>HH</Code>
				<Description>Ampoule (mL)</Description>
			</DosageForm>
			<Route>
				<Code>IV</Code>
				<Description>intravenous</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</Route>
			<PharmacyStatus>Verified</PharmacyStatus>
			<PrescriptionNumber>E2102220004</PrescriptionNumber>
			
			
			<EncounterNumber>EM0000025197</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>Strength</Name>
					<Value>0.9 %</Value>
				</NVPair>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ActionScope>MEDICATIONS</ActionScope>
		</Medication>
		<Medication>
			<PlacerId>863124/242</PlacerId>
			<OrderItem>
				<Code>VMP1866,500 mg,TA</Code>
				<Description>paracetamol  - 500 mg tablet </Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPH</Code>
				<Description>Pharmacy</Description>
			</OrderCategory>
			<OrderQuantity>500</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO1431</Code>
				<Description>A Jain</Description>
				<Name>
					<FamilyName>Jain</FamilyName>
					<NamePrefix>MS</NamePrefix>
					<GivenName>Anis</GivenName>
				</Name>
				<CareProviderType>
					<Code>009</Code>
					<Description>
						<![CDATA[Nursing &amp; Midwifery]]]]><![CDATA[>
					</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<VerifiedBy>
				<Code>MEDEMO4068</Code>
				<Description>H Martin</Description>
				<Name>
					<FamilyName>Martin</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Helen</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
			</VerifiedBy>
			<Frequency>
				<Code>STAT</Code>
				<Description>STAT</Description>
				<Factor>1</Factor>
			</Frequency>
			<Status>V</Status>
			<Priority>
				<Code>STAT</Code>
				<Description>STAT</Description>
			</Priority>
			<TextInstruction> 500 mg - oral - STAT</TextInstruction>
			<ReceivingLocation>
				<Code>MEDEMO30D1422</Code>
				<Description>PHARMACY </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>NrICU</Code>
				<Description>Nurse ICU</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30W1378</Code>
				<Description>ICU </Description>
			</EnteredAt>
			<EnteredOn>2021-09-09T14:48:27Z</EnteredOn>
			<FromTime>2021-09-09T14:47:00Z</FromTime>
			<ToTime>2021-09-09T14:47:00Z</ToTime>
			<StrengthVolume>500</StrengthVolume>
			<StrengthVolumeUnits> mg</StrengthVolumeUnits>
			<DoseQuantity>500</DoseQuantity>
			<DoseUoM>
				<Code>MG</Code>
				<Description>mg</Description>
			</DoseUoM>
			<NumberOfRefills>0</NumberOfRefills>
			<DosageForm>
				<Code>TA</Code>
				<Description>Tablet</Description>
			</DosageForm>
			<Route>
				<Code>PO</Code>
				<Description>oral</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</Route>
			<PharmacyStatus>Verified</PharmacyStatus>
			<PrescriptionNumber>I2109090003</PrescriptionNumber>
			
			<EncounterNumber>IP0000006263</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>Strength</Name>
					<Value>500 mg</Value>
				</NVPair>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ActionScope>MEDICATIONS</ActionScope>
		</Medication>
		<Medication>
			<PlacerId>863124/215</PlacerId>
			<OrderItem>
				<Code>PH3199F1P1</Code>
				<Description>Morphine Sulphate - morphine sulfate - 10 mg/mL ampoule (ml) (1 mL) [10 Ampoule(1 ml)] </Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPH</Code>
				<Description>Pharmacy</Description>
			</OrderCategory>
			<OrderQuantity>10</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4068</Code>
				<Description>H Martin</Description>
				<Name>
					<FamilyName>Martin</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Helen</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Frequency>
				<Code>STAT</Code>
				<Description>STAT</Description>
				<Factor>1</Factor>
			</Frequency>
			<Duration>
				<Code>1D</Code>
				<Description>One Day</Description>
				<Factor>1</Factor>
			</Duration>
			<Status>V</Status>
			<Priority>
				<Code>STAT</Code>
				<Description>STAT</Description>
			</Priority>
			<TextInstruction> 10 mg - intramuscular - STAT</TextInstruction>
			<Comments>not defined - </Comments>
			<ReceivingLocation>
				<Code>MEDEMO30W1378</Code>
				<Description>ICU </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30W1378</Code>
				<Description>ICU </Description>
			</EnteredAt>
			<EnteredOn>2021-08-24T13:27:41Z</EnteredOn>
			<FromTime>2021-08-24T13:27:00Z</FromTime>
			<ToTime>2021-08-24T13:27:00Z</ToTime>
			<DrugProduct>
				<Code>227416</Code>
				<Description>Morphine Sulphate</Description>
				<Form>
					<Code>HH</Code>
					<Description>Ampoule (mL)</Description>
					<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
				</Form>
				<ATCCode>
					<Code>PH3199F1P1</Code>
					<Description>morphine sulfate - Morphine Sulphate 10 mg/1 mL Injection Ampoules [10 Ampoule(1 ml)]</Description>
				</ATCCode>
				<Generic>
					<Code>1694</Code>
					<Description>morphine sulfate</Description>
				</Generic>
			</DrugProduct>
			<StrengthVolumeUnits>mL</StrengthVolumeUnits>
			<DoseQuantity>10</DoseQuantity>
			<DoseUoM>
				<Code>MG</Code>
				<Description>mg</Description>
			</DoseUoM>
			<NumberOfRefills>0</NumberOfRefills>
			<DosageForm>
				<Code>HH</Code>
				<Description>Ampoule (mL)</Description>
			</DosageForm>
			<Route>
				<Code>IM</Code>
				<Description>intramuscular</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</Route>
			<PharmacyStatus>Verified</PharmacyStatus>
			<PrescriptionNumber>I2108240001</PrescriptionNumber>
			
			<EncounterNumber>IP0000006263</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>Strength</Name>
					<Value>10 mg/mL</Value>
				</NVPair>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ActionScope>MEDICATIONS</ActionScope>
		</Medication>
		<Medication>
			<PlacerId>863124/199</PlacerId>
			<OrderItem>
				<Code>VMP4763,750 mg,TI</Code>
				<Description>metformin HCl  - 750 mg tablet, extended release 24 hr (ti) </Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPH</Code>
				<Description>Pharmacy</Description>
			</OrderCategory>
			<OrderQuantity>90000</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO14</Code>
				<Description>O Allie</Description>
				<Name>
					<FamilyName>Allie</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Olfa</GivenName>
				</Name>
				<CareProviderType>
					<Code>002</Code>
					<Description>Specialist Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Frequency>
				<Code>QHS</Code>
				<Description>Once Daily At Bed Time</Description>
				<Factor>1</Factor>
			</Frequency>
			<Status>V</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<TextInstruction> 1500 mg - oral - Once Daily At Bed Time  - For 60 Day(s)</TextInstruction>
			<ReceivingLocation>
				<Code>MEDEMO30D1422</Code>
				<Description>PHARMACY </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>isc$rriman</Code>
				<Description>Rami Riman</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30W1378</Code>
				<Description>ICU </Description>
			</EnteredAt>
			<EnteredOn>2021-08-17T14:15:37Z</EnteredOn>
			<FromTime>2021-08-17T14:15:00Z</FromTime>
			<ToTime>2021-10-16T14:14:59Z</ToTime>
			<StrengthVolume>750</StrengthVolume>
			<StrengthVolumeUnits> mg</StrengthVolumeUnits>
			<DoseQuantity>1500</DoseQuantity>
			<DoseUoM>
				<Code>MG</Code>
				<Description>mg</Description>
			</DoseUoM>
			<NumberOfRefills>0</NumberOfRefills>
			<DosageForm>
				<Code>TI</Code>
				<Description>Tablet, Extended Release 24 hr (TI)</Description>
			</DosageForm>
			<Route>
				<Code>PO</Code>
				<Description>oral</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</Route>
			<PharmacyStatus>Verified</PharmacyStatus>
			<PrescriptionNumber>I2108170006</PrescriptionNumber>
			
			<EncounterNumber>IP0000006263</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>Strength</Name>
					<Value>750 mg</Value>
				</NVPair>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ActionScope>MEDICATIONS</ActionScope>
		</Medication>
		<Medication>
			<PlacerId>863124/180</PlacerId>
			<OrderItem>
				<Code>PH3199F1P1</Code>
				<Description>Morphine Sulphate - morphine sulfate - 10 mg/mL ampoule (ml) (1 mL) [10 Ampoule(1 ml)] </Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPH</Code>
				<Description>Pharmacy</Description>
			</OrderCategory>
			<OrderQuantity>10</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO14</Code>
				<Description>O Allie</Description>
				<Name>
					<FamilyName>Allie</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Olfa</GivenName>
				</Name>
				<CareProviderType>
					<Code>002</Code>
					<Description>Specialist Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Frequency>
				<Code>STAT</Code>
				<Description>STAT</Description>
				<Factor>1</Factor>
			</Frequency>
			<Duration>
				<Code>1D</Code>
				<Description>One Day</Description>
				<Factor>1</Factor>
			</Duration>
			<Status>V</Status>
			<Priority>
				<Code>STAT</Code>
				<Description>STAT</Description>
			</Priority>
			<TextInstruction> 10 mg - intramuscular - STAT</TextInstruction>
			<Comments>not defined - </Comments>
			<ReceivingLocation>
				<Code>MEDEMO30W1378</Code>
				<Description>ICU </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>isc$rriman</Code>
				<Description>Rami Riman</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30W1378</Code>
				<Description>ICU </Description>
			</EnteredAt>
			<EnteredOn>2021-08-17T14:14:52Z</EnteredOn>
			<FromTime>2021-08-17T14:14:00Z</FromTime>
			<ToTime>2021-08-17T14:14:00Z</ToTime>
			<DrugProduct>
				<Code>227416</Code>
				<Description>Morphine Sulphate</Description>
				<Form>
					<Code>HH</Code>
					<Description>Ampoule (mL)</Description>
					<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
				</Form>
				<ATCCode>
					<Code>PH3199F1P1</Code>
					<Description>morphine sulfate - Morphine Sulphate 10 mg/1 mL Injection Ampoules [10 Ampoule(1 ml)]</Description>
				</ATCCode>
				<Generic>
					<Code>1694</Code>
					<Description>morphine sulfate</Description>
				</Generic>
			</DrugProduct>
			<StrengthVolumeUnits>mL</StrengthVolumeUnits>
			<DoseQuantity>10</DoseQuantity>
			<DoseUoM>
				<Code>MG</Code>
				<Description>mg</Description>
			</DoseUoM>
			<NumberOfRefills>0</NumberOfRefills>
			<DosageForm>
				<Code>HH</Code>
				<Description>Ampoule (mL)</Description>
			</DosageForm>
			<Route>
				<Code>IM</Code>
				<Description>intramuscular</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</Route>
			<PharmacyStatus>Verified</PharmacyStatus>
			<PrescriptionNumber>I2108170005</PrescriptionNumber>
			
			<EncounterNumber>IP0000006263</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>Strength</Name>
					<Value>10 mg/mL</Value>
				</NVPair>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ActionScope>MEDICATIONS</ActionScope>
		</Medication>
		<Medication>
			<PlacerId>863124/171</PlacerId>
			<OrderItem>
				<Code>ivmero1000BSFP</Code>
				<Description>Meropenem 1000 mg/50mL NS - BSFP  - Solution For Infusion </Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPH</Code>
				<Description>Pharmacy</Description>
			</OrderCategory>
			<OrderQuantity>10000</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4068</Code>
				<Description>H Martin</Description>
				<Name>
					<FamilyName>Martin</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Helen</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Frequency>
				<Code>Q12H</Code>
				<Description>Every 12 Hour</Description>
				<Factor>2</Factor>
			</Frequency>
			<Status>V</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<TextInstruction> 1000 mg - OVER 90 min - intravenous Intermittent - Every 12 Hour  - For 5 Day(s) 
 Meronem (1000mg) in Sodium Chloride 0.9 % 0.9 % (50mL</TextInstruction>
			<ReceivingLocation>
				<Code>MEDEMO30D1422</Code>
				<Description>PHARMACY </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30W1378</Code>
				<Description>ICU </Description>
			</EnteredAt>
			<EnteredOn>2021-07-27T12:49:36Z</EnteredOn>
			<FromTime>2021-07-27T12:48:00Z</FromTime>
			<ToTime>2021-08-01T12:47:59Z</ToTime>
			<DoseQuantity>1000</DoseQuantity>
			<DoseUoM>
				<Code>MG</Code>
				<Description>mg</Description>
			</DoseUoM>
			<NumberOfRefills>0</NumberOfRefills>
			<Route>
				<Code>IV</Code>
				<Description>intravenous</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</Route>
			<PharmacyStatus>Verified</PharmacyStatus>
			<PrescriptionNumber>I2107270001</PrescriptionNumber>
			
			<EncounterNumber>IP0000006263</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ActionScope>MEDICATIONS</ActionScope>
		</Medication>
		<Medication>
			<PlacerId>863124/162</PlacerId>
			<OrderItem>
				<Code>PH3199F1P1</Code>
				<Description>Morphine Sulphate - morphine sulfate - 10 mg/mL ampoule (ml) (1 mL) [10 Ampoule(1 ml)] </Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPH</Code>
				<Description>Pharmacy</Description>
			</OrderCategory>
			<OrderQuantity>10</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4068</Code>
				<Description>H Martin</Description>
				<Name>
					<FamilyName>Martin</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Helen</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Frequency>
				<Code>STAT</Code>
				<Description>STAT</Description>
				<Factor>1</Factor>
			</Frequency>
			<Duration>
				<Code>1D</Code>
				<Description>One Day</Description>
				<Factor>1</Factor>
			</Duration>
			<Status>E</Status>
			<Priority>
				<Code>STAT</Code>
				<Description>STAT</Description>
			</Priority>
			<TextInstruction> 10 mg - intramuscular - STAT</TextInstruction>
			<Comments>not defined - </Comments>
			<ReceivingLocation>
				<Code>MEDEMO30W1378</Code>
				<Description>ICU </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>NrICU</Code>
				<Description>Nurse ICU</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30W1378</Code>
				<Description>ICU </Description>
			</EnteredAt>
			<EnteredOn>2021-07-27T12:56:18Z</EnteredOn>
			<FromTime>2021-07-27T12:48:00Z</FromTime>
			<ToTime>2021-07-27T12:48:00Z</ToTime>
			<DrugProduct>
				<Code>227416</Code>
				<Description>Morphine Sulphate</Description>
				<Form>
					<Code>HH</Code>
					<Description>Ampoule (mL)</Description>
					<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
				</Form>
				<ATCCode>
					<Code>PH3199F1P1</Code>
					<Description>morphine sulfate - Morphine Sulphate 10 mg/1 mL Injection Ampoules [10 Ampoule(1 ml)]</Description>
				</ATCCode>
				<Generic>
					<Code>1694</Code>
					<Description>morphine sulfate</Description>
				</Generic>
			</DrugProduct>
			<StrengthVolumeUnits>mL</StrengthVolumeUnits>
			<DoseQuantity>10</DoseQuantity>
			<DoseUoM>
				<Code>MG</Code>
				<Description>mg</Description>
			</DoseUoM>
			<NumberOfRefills>0</NumberOfRefills>
			<DosageForm>
				<Code>HH</Code>
				<Description>Ampoule (mL)</Description>
			</DosageForm>
			<Route>
				<Code>IM</Code>
				<Description>intramuscular</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</Route>
			<PharmacyStatus>Executed</PharmacyStatus>
			<PrescriptionNumber>I2107270002</PrescriptionNumber>
			
			
			<EncounterNumber>IP0000006263</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>Strength</Name>
					<Value>10 mg/mL</Value>
				</NVPair>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ActionScope>MEDICATIONS</ActionScope>
		</Medication>
		<Medication>
			<PlacerId>863124/153</PlacerId>
			<OrderItem>
				<Code>Ivdobu800SFP</Code>
				<Description>Dobutamine 500mg / 250ml NS - SFP  - Solution For Infusion </Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPH</Code>
				<Description>Pharmacy</Description>
			</OrderCategory>
			<OrderQuantity>3</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO4068</Code>
				<Description>H Martin</Description>
				<Name>
					<FamilyName>Martin</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Helen</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Status>IP</Status>
			<Priority>
				<Code>NORM</Code>
				<Description>Normal</Description>
			</Priority>
			<TextInstruction> 5 mcg/kg/min (Container Volume: 250 mL) - intravenous Continuous - For 2 Day(s) 
 dobutamine HCl (5 mcg/kg/min) in 0.9 % sodium chloride 0.9</TextInstruction>
			<Comments>
				<![CDATA[maintaine as per protocol for MAP &gt; 60   increase by 1 mcg / kg / min every 30 min]]]]><![CDATA[>
			</Comments>
			<ReceivingLocation>
				<Code>MEDEMO30D1422</Code>
				<Description>PHARMACY </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>NrICU</Code>
				<Description>Nurse ICU</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30W1378</Code>
				<Description>ICU </Description>
			</EnteredAt>
			<EnteredOn>2021-07-27T12:55:52Z</EnteredOn>
			<FromTime>2021-07-27T12:48:00Z</FromTime>
			<ToTime>2021-07-29T12:47:59Z</ToTime>
			<NumberOfRefills>0</NumberOfRefills>
			<Route>
				<Code>IV</Code>
				<Description>intravenous</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</Route>
			<PharmacyStatus>In Progress</PharmacyStatus>
			<PrescriptionNumber>I2107270001</PrescriptionNumber>
			
			
			<EncounterNumber>IP0000006263</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ActionScope>MEDICATIONS</ActionScope>
		</Medication>
		<Medication>
			<PlacerId>863124/40</PlacerId>
			<OrderItem>
				<Code>PH2153F2P1</Code>
				<Description>Diprivan - propofol - 10 mg/mL ampoule (ml) (20 mL) [5 Ampoule(20 ml)] </Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPH</Code>
				<Description>Pharmacy</Description>
			</OrderCategory>
			<OrderQuantity>200</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO1654</Code>
				<Description>D Bird</Description>
				<Name>
					<FamilyName>Bird</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Deidre</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Frequency>
				<Code>ONE</Code>
				<Description>Once Only</Description>
				<Factor>1</Factor>
			</Frequency>
			<Duration>
				<Code>1D</Code>
				<Description>One Day</Description>
				<Factor>1</Factor>
			</Duration>
			<Status>E</Status>
			<Priority>
				<Code>ONE</Code>
				<Description>Once Only</Description>
			</Priority>
			<TextInstruction> 200 mg - OVER 1 min - intravenous Intermittent - Once Only</TextInstruction>
			<ReceivingLocation>
				<Code>MEDEMO30OP1438</Code>
				<Description>THEATRE COMPLEX </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>DrAnes</Code>
				<Description>Dr Anesthesia</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30OP1438</Code>
				<Description>THEATRE COMPLEX </Description>
			</EnteredAt>
			<EnteredOn>2021-02-22T15:46:30Z</EnteredOn>
			<FromTime>2021-02-22T15:46:00Z</FromTime>
			<ToTime>2021-02-22T15:46:00Z</ToTime>
			<DrugProduct>
				<Code>448351</Code>
				<Description>Diprivan</Description>
				<Form>
					<Code>HH</Code>
					<Description>Ampoule (mL)</Description>
					<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
				</Form>
				<ATCCode>
					<Code>PH2153F2P1</Code>
					<Description>propofol - Diprivan 1 % (10 mg/mL) Intravenous Injection Ampoules [5 Ampoule(20 ml)]</Description>
				</ATCCode>
				<Generic>
					<Code>4842</Code>
					<Description>propofol</Description>
				</Generic>
			</DrugProduct>
			<StrengthVolumeUnits>mL</StrengthVolumeUnits>
			<DoseQuantity>200</DoseQuantity>
			<DoseUoM>
				<Code>MG</Code>
				<Description>mg</Description>
			</DoseUoM>
			<NumberOfRefills>0</NumberOfRefills>
			<DosageForm>
				<Code>HH</Code>
				<Description>Ampoule (mL)</Description>
			</DosageForm>
			<Route>
				<Code>IV</Code>
				<Description>intravenous</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</Route>
			<PharmacyStatus>Executed</PharmacyStatus>
			<PrescriptionNumber>I2102220009</PrescriptionNumber>
			
			
			<EncounterNumber>IP0000006263</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>Strength</Name>
					<Value>10 mg/mL</Value>
				</NVPair>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ActionScope>MEDICATIONS</ActionScope>
		</Medication>
		<Medication>
			<PlacerId>863124/24</PlacerId>
			<OrderItem>
				<Code>PH2153F2P1</Code>
				<Description>Diprivan - propofol - 10 mg/mL ampoule (ml) (20 mL) [5 Ampoule(20 ml)] </Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPH</Code>
				<Description>Pharmacy</Description>
			</OrderCategory>
			<OrderQuantity>200</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO1654</Code>
				<Description>D Bird</Description>
				<Name>
					<FamilyName>Bird</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Deidre</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Frequency>
				<Code>ONE</Code>
				<Description>Once Only</Description>
				<Factor>1</Factor>
			</Frequency>
			<Duration>
				<Code>1D</Code>
				<Description>One Day</Description>
				<Factor>1</Factor>
			</Duration>
			<Status>E</Status>
			<Priority>
				<Code>ONE</Code>
				<Description>Once Only</Description>
			</Priority>
			<TextInstruction> 200 mg - OVER 1 min - intravenous Intermittent - Once Only</TextInstruction>
			<ReceivingLocation>
				<Code>MEDEMO30OP1438</Code>
				<Description>THEATRE COMPLEX </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>DrAnes</Code>
				<Description>Dr Anesthesia</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30OP1438</Code>
				<Description>THEATRE COMPLEX </Description>
			</EnteredAt>
			<EnteredOn>2021-02-22T15:45:05Z</EnteredOn>
			<FromTime>2021-02-22T15:37:00Z</FromTime>
			<ToTime>2021-02-22T15:37:00Z</ToTime>
			<DrugProduct>
				<Code>448351</Code>
				<Description>Diprivan</Description>
				<Form>
					<Code>HH</Code>
					<Description>Ampoule (mL)</Description>
					<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
				</Form>
				<ATCCode>
					<Code>PH2153F2P1</Code>
					<Description>propofol - Diprivan 1 % (10 mg/mL) Intravenous Injection Ampoules [5 Ampoule(20 ml)]</Description>
				</ATCCode>
				<Generic>
					<Code>4842</Code>
					<Description>propofol</Description>
				</Generic>
			</DrugProduct>
			<StrengthVolumeUnits>mL</StrengthVolumeUnits>
			<DoseQuantity>200</DoseQuantity>
			<DoseUoM>
				<Code>MG</Code>
				<Description>mg</Description>
			</DoseUoM>
			<NumberOfRefills>0</NumberOfRefills>
			<DosageForm>
				<Code>HH</Code>
				<Description>Ampoule (mL)</Description>
			</DosageForm>
			<Route>
				<Code>IV</Code>
				<Description>intravenous</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</Route>
			<PharmacyStatus>Executed</PharmacyStatus>
			<PrescriptionNumber>I2102220008</PrescriptionNumber>
			
			
			<EncounterNumber>IP0000006263</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>Strength</Name>
					<Value>10 mg/mL</Value>
				</NVPair>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ActionScope>MEDICATIONS</ActionScope>
		</Medication>
		<Medication>
			<PlacerId>863124/16</PlacerId>
			<OrderItem>
				<Code>PH1193F1P1</Code>
				<Description>Dormicum - midazolam HCl - 5 mg/mL ampoule (ml) (1 mL) [10 Ampoule(1 ml)] </Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</OrderItem>
			<OrderCategory>
				<Code>MEXXPH</Code>
				<Description>Pharmacy</Description>
			</OrderCategory>
			<OrderQuantity>5</OrderQuantity>
			<OrderedBy>
				<Code>MEDEMO1654</Code>
				<Description>D Bird</Description>
				<Name>
					<FamilyName>Bird</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Deidre</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
				<IdentifierTypeCode>DN</IdentifierTypeCode>
			</OrderedBy>
			<EnteringOrganization>
				<Code>MEDEMO30</Code>
				<Description>General Demo Hospital</Description>
				<Organization>
					<Code>MEDEMO30</Code>
					<Description>General Demo Hospital</Description>
				</Organization>
			</EnteringOrganization>
			<Frequency>
				<Code>ONE</Code>
				<Description>Once Only</Description>
				<Factor>1</Factor>
			</Frequency>
			<Duration>
				<Code>1D</Code>
				<Description>One Day</Description>
				<Factor>1</Factor>
			</Duration>
			<Status>E</Status>
			<Priority>
				<Code>ONE</Code>
				<Description>Once Only</Description>
			</Priority>
			<TextInstruction> 2 mg - intravenous Push - Once Only</TextInstruction>
			<ReceivingLocation>
				<Code>MEDEMO30OP1438</Code>
				<Description>THEATRE COMPLEX </Description>
			</ReceivingLocation>
			<EnteredBy>
				<Code>DrAnes</Code>
				<Description>Dr Anesthesia</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEDEMO30OP1438</Code>
				<Description>THEATRE COMPLEX </Description>
			</EnteredAt>
			<EnteredOn>2021-02-22T15:44:58Z</EnteredOn>
			<FromTime>2021-02-22T15:37:00Z</FromTime>
			<ToTime>2021-02-22T15:37:00Z</ToTime>
			<DrugProduct>
				<Code>565822,1619,13393</Code>
				<Description>Dormicum (565822,1619,13393)</Description>
				<Form>
					<Code>HH</Code>
					<Description>Ampoule (mL)</Description>
					<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
				</Form>
				<ATCCode>
					<Code>PH1193F1P1</Code>
					<Description>midazolam HCl - Dormicum 5 mg/1 mL Injection Ampoules [10 Ampoule(1 ml)]</Description>
				</ATCCode>
				<Generic>
					<Code>1619</Code>
					<Description>midazolam HCl</Description>
				</Generic>
			</DrugProduct>
			<StrengthVolumeUnits>mL</StrengthVolumeUnits>
			<DoseQuantity>2</DoseQuantity>
			<DoseUoM>
				<Code>MG</Code>
				<Description>mg</Description>
			</DoseUoM>
			<NumberOfRefills>0</NumberOfRefills>
			<DosageForm>
				<Code>HH</Code>
				<Description>Ampoule (mL)</Description>
			</DosageForm>
			<Route>
				<Code>IV</Code>
				<Description>intravenous</Description>
				<SDACodingStandard>ISC-TrakCare</SDACodingStandard>
			</Route>
			<PharmacyStatus>Executed</PharmacyStatus>
			<PrescriptionNumber>I2102220007</PrescriptionNumber>
			
			
			<EncounterNumber>IP0000006263</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>Strength</Name>
					<Value>5 mg/mL</Value>
				</NVPair>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ActionScope>MEDICATIONS</ActionScope>
		</Medication>
	</Medications>
	<Appointments>
		<Appointment>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<Status>ARRIVED</Status>
			<Type>
				<Code>Inpatient</Code>
				<Description>Inpatient</Description>
			</Type>
			<PlacerApptId>7090||562||2</PlacerApptId>
			<CareProvider>
				<Description>OR Room-003</Description>
			</CareProvider>
			<Location>
				<Code>MEDEMO30OP1438</Code>
				<Description>THEATRE COMPLEX </Description>
			</Location>
			<EnteredBy>
				<Code>NrOT</Code>
				<Description>Nurse Operating Theater </Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>THEATRE COMPLEX </Description>
			</EnteredAt>
			<EnteredOn>2021-02-22T15:27:00Z</EnteredOn>
			<FromTime>2021-02-22T07:30:00Z</FromTime>
			<ToTime>2021-02-22T10:50:00Z</ToTime>
			
		</Appointment>
		<Appointment>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<Status>ARRIVED</Status>
			<Type>
				<Code>Outpatient</Code>
				<Description>Outpatient</Description>
			</Type>
			<PlacerApptId>7409||19872||2</PlacerApptId>
			<FillerApptId>7409||19872-65664-1145-12940-2</FillerApptId>
			<OrderItem>
				<Code>FOLLOWUPNC</Code>
				<Description>FOLLOW-UP VISIT - NON CHARGEABLE</Description>
			</OrderItem>
			<CareProvider>
				<Code>MEDEMO4106</Code>
				<Description>Paul Arnolds</Description>
				<Name>
					<FamilyName>Paul</FamilyName>
					<GivenName>Arnolds</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
			</CareProvider>
			<Location>
				<Code>MEDEMO30E1418</Code>
				<Description>ORTHOPAEDICS </Description>
			</Location>
			<EnteredBy>
				<Code>isc$ylahloh</Code>
				<Description>Yasmeen Lahloh (IS Implementation)</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>OPD GENERAL </Description>
			</EnteredAt>
			<EnteredOn>2020-10-12T16:36:00Z</EnteredOn>
			<FromTime>2020-10-12T11:45:00Z</FromTime>
			<ToTime>2020-10-12T11:45:00Z</ToTime>
			
		</Appointment>
		<Appointment>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<Status>ARRIVED</Status>
			<Type>
				<Code>Outpatient</Code>
				<Description>Outpatient</Description>
			</Type>
			<PlacerApptId>7409||19902||1</PlacerApptId>
			<FillerApptId>7409||19902-65671-1045-12941-1</FillerApptId>
			<OrderItem>
				<Code>DRCONSFL</Code>
				<Description>FOLLOWUP VISIT SPECIALIST</Description>
			</OrderItem>
			<CareProvider>
				<Code>MEDEMO4106</Code>
				<Description>Paul Arnolds</Description>
				<Name>
					<FamilyName>Paul</FamilyName>
					<GivenName>Arnolds</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
			</CareProvider>
			<Location>
				<Code>MEDEMO30E1418</Code>
				<Description>ORTHOPAEDICS </Description>
			</Location>
			<EnteredBy>
				<Code>isc$ylahloh</Code>
				<Description>Yasmeen Lahloh (IS Implementation)</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>OPD GENERAL </Description>
			</EnteredAt>
			<EnteredOn>2020-10-19T22:29:00Z</EnteredOn>
			<FromTime>2020-10-19T10:45:00Z</FromTime>
			<ToTime>2020-10-19T11:00:00Z</ToTime>
			
		</Appointment>
		<Appointment>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<Status>ARRIVED</Status>
			<Type>
				<Code>Outpatient</Code>
				<Description>Outpatient</Description>
			</Type>
			<PlacerApptId>7409||20044||1</PlacerApptId>
			<FillerApptId>7409||20044-65797-1215-12941-1</FillerApptId>
			<OrderItem>
				<Code>DRCONSFL</Code>
				<Description>FOLLOWUP VISIT SPECIALIST</Description>
			</OrderItem>
			<CareProvider>
				<Code>MEDEMO4106</Code>
				<Description>Paul Arnolds</Description>
				<Name>
					<FamilyName>Paul</FamilyName>
					<GivenName>Arnolds</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
			</CareProvider>
			<Location>
				<Code>MEDEMO30E1418</Code>
				<Description>ORTHOPAEDICS </Description>
			</Location>
			<EnteredBy>
				<Code>DrOrtho</Code>
				<Description>Orthopedic doctor</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>ORTHOPAEDICS </Description>
			</EnteredAt>
			<EnteredOn>2021-02-22T13:47:00Z</EnteredOn>
			<FromTime>2021-02-22T12:15:00Z</FromTime>
			<ToTime>2021-02-22T12:30:00Z</ToTime>
			
		</Appointment>
		<Appointment>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<Status>ARRIVED</Status>
			<Type>
				<Code>Inpatient</Code>
				<Description>Inpatient</Description>
			</Type>
			<PlacerApptId>7497||7524||1</PlacerApptId>
			<FillerApptId>7497||7524-65695-1000-16854-1</FillerApptId>
			<OrderItem>
				<Code>SERVICE01-04</Code>
				<Description>TELE-CONSULTATION </Description>
			</OrderItem>
			<CareProvider>
				<Code>MEDEMO4068</Code>
				<Description>Doctor Helen Martin</Description>
				<Name>
					<FamilyName>Helen</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Martin</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
			</CareProvider>
			<Location>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</Location>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>CARDIOLOGY </Description>
			</EnteredAt>
			<EnteredOn>2020-11-12T10:14:00Z</EnteredOn>
			<FromTime>2020-11-12T10:00:00Z</FromTime>
			<ToTime>2020-11-12T10:00:00Z</ToTime>
			
		</Appointment>
		<Appointment>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<Status>ARRIVED</Status>
			<Type>
				<Code>Outpatient</Code>
				<Description>Outpatient</Description>
			</Type>
			<PlacerApptId>7497||8429||1</PlacerApptId>
			<FillerApptId>7497||8429-65813-1200-12860-1</FillerApptId>
			<OrderItem>
				<Code>DRCONSFV</Code>
				<Description>SPECIALIST CONSULTATION</Description>
			</OrderItem>
			<CareProvider>
				<Code>MEDEMO4068</Code>
				<Description>Doctor Helen Martin</Description>
				<Name>
					<FamilyName>Helen</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Martin</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
			</CareProvider>
			<Location>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</Location>
			<EnteredBy>
				<Code>NrOPD</Code>
				<Description>Nurse Outpatients</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>OPD GENERAL </Description>
			</EnteredAt>
			<EnteredOn>2021-03-10T08:41:00Z</EnteredOn>
			<FromTime>2021-03-10T12:00:00Z</FromTime>
			<ToTime>2021-03-10T12:40:00Z</ToTime>
			
		</Appointment>
		<Appointment>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<Status>ARRIVED</Status>
			<Type>
				<Code>Outpatient</Code>
				<Description>Outpatient</Description>
			</Type>
			<PlacerApptId>7497||8453||1</PlacerApptId>
			<FillerApptId>7497||8453-65819-1000-12860-1</FillerApptId>
			<OrderItem>
				<Code>DRCONSFV</Code>
				<Description>SPECIALIST CONSULTATION</Description>
			</OrderItem>
			<CareProvider>
				<Code>MEDEMO4068</Code>
				<Description>Doctor Helen Martin</Description>
				<Name>
					<FamilyName>Helen</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Martin</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
			</CareProvider>
			<Location>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</Location>
			<EnteredBy>
				<Code>isc$rriman</Code>
				<Description>Rami Riman</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>ADMINISTRATION </Description>
			</EnteredAt>
			<EnteredOn>2021-03-16T08:45:00Z</EnteredOn>
			<FromTime>2021-03-16T10:00:00Z</FromTime>
			<ToTime>2021-03-16T10:40:00Z</ToTime>
			
		</Appointment>
		<Appointment>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<Status>ARRIVED</Status>
			<Type>
				<Code>Outpatient</Code>
				<Description>Outpatient</Description>
			</Type>
			<PlacerApptId>7700||1561||1</PlacerApptId>
			<FillerApptId>7700||1561-65661-0800-1-1</FillerApptId>
			<OrderItem>
				<Code>DRCONSFV</Code>
				<Description>SPECIALIST CONSULTATION</Description>
			</OrderItem>
			<CareProvider>
				<Code>MEDEMO4</Code>
				<Description>Doctor Alia Yakdi</Description>
				<Name>
					<FamilyName>Alia</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Yakdi</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
			</CareProvider>
			<Location>
				<Code>MEDEMO30E1396</Code>
				<Description>FAMILY MEDICINE </Description>
			</Location>
			<EnteredBy>
				<Code>isc$ylahloh</Code>
				<Description>Yasmeen Lahloh (IS Implementation)</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>OPD GENERAL </Description>
			</EnteredAt>
			<EnteredOn>2020-10-09T14:37:00Z</EnteredOn>
			<FromTime>2020-10-09T08:00:00Z</FromTime>
			<ToTime>2020-10-09T08:00:00Z</ToTime>
			
		</Appointment>
		<Appointment>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<Status>ARRIVED</Status>
			<Type>
				<Code>Outpatient</Code>
				<Description>Outpatient</Description>
			</Type>
			<PlacerApptId>7700||2920||1</PlacerApptId>
			<FillerApptId>7700||2920-65694-1745-16851-1</FillerApptId>
			<OrderItem>
				<Code>SERVICE01-04</Code>
				<Description>TELE-CONSULTATION </Description>
			</OrderItem>
			<CareProvider>
				<Code>MEDEMO4</Code>
				<Description>Doctor Alia Yakdi</Description>
				<Name>
					<FamilyName>Alia</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Yakdi</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
			</CareProvider>
			<Location>
				<Code>MEDEMO30E1396</Code>
				<Description>FAMILY MEDICINE </Description>
			</Location>
			<EnteredBy>
				<Code>DrFam</Code>
				<Description>Dr Alia Yakdi</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>FAMILY MEDICINE </Description>
			</EnteredAt>
			<EnteredOn>2020-11-11T18:37:00Z</EnteredOn>
			<FromTime>2020-11-11T17:45:00Z</FromTime>
			<ToTime>2020-11-11T17:45:00Z</ToTime>
			
		</Appointment>
		<Appointment>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<Status>CLOSED</Status>
			<Type>
				<Code>Inpatient</Code>
				<Description>Inpatient</Description>
			</Type>
			<PlacerApptId>7089||668||1</PlacerApptId>
			<CareProvider>
				<Description>OR Room-002</Description>
			</CareProvider>
			<Location>
				<Code>MEDEMO30OP1438</Code>
				<Description>THEATRE COMPLEX </Description>
			</Location>
			<EnteredBy>
				<Code>DrAnes</Code>
				<Description>Dr Anesthesia</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>THEATRE COMPLEX </Description>
			</EnteredAt>
			<EnteredOn>2020-11-11T22:08:00Z</EnteredOn>
			<FromTime>2020-11-12T07:30:00Z</FromTime>
			<ToTime>2020-11-12T08:20:00Z</ToTime>
			
		</Appointment>
		<Appointment>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<Status>DEPARTED </Status>
			<Type>
				<Code>Outpatient</Code>
				<Description>Outpatient</Description>
			</Type>
			<PlacerApptId>7497||7632||1</PlacerApptId>
			<FillerApptId>7497||7632-65727-1400-12860-1</FillerApptId>
			<OrderItem>
				<Code>DRCONSFV</Code>
				<Description>SPECIALIST CONSULTATION</Description>
			</OrderItem>
			<CareProvider>
				<Code>MEDEMO4068</Code>
				<Description>Doctor Helen Martin</Description>
				<Name>
					<FamilyName>Helen</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Martin</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
			</CareProvider>
			<Location>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</Location>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>CARDIOLOGY </Description>
			</EnteredAt>
			<EnteredOn>2020-12-14T13:16:00Z</EnteredOn>
			<FromTime>2020-12-14T14:00:00Z</FromTime>
			<ToTime>2020-12-14T14:40:00Z</ToTime>
			
		</Appointment>
		<Appointment>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<Status>DEPARTED </Status>
			<Type>
				<Code>Outpatient</Code>
				<Description>Outpatient</Description>
			</Type>
			<PlacerApptId>7497||7779||1</PlacerApptId>
			<FillerApptId>7497||7779-65719-1200-12860-1</FillerApptId>
			<OrderItem>
				<Code>DRCONSFV</Code>
				<Description>SPECIALIST CONSULTATION</Description>
			</OrderItem>
			<CareProvider>
				<Code>MEDEMO4068</Code>
				<Description>Doctor Helen Martin</Description>
				<Name>
					<FamilyName>Helen</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Martin</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
			</CareProvider>
			<Location>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</Location>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>CARDIOLOGY </Description>
			</EnteredAt>
			<EnteredOn>2020-12-06T11:30:00Z</EnteredOn>
			<FromTime>2020-12-06T12:00:00Z</FromTime>
			<ToTime>2020-12-06T12:40:00Z</ToTime>
			
		</Appointment>
		<Appointment>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<Status>DEPARTED </Status>
			<Type>
				<Code>Outpatient</Code>
				<Description>Outpatient</Description>
			</Type>
			<PlacerApptId>7497||8283||1</PlacerApptId>
			<FillerApptId>7497||8283-65805-0900-12860-1</FillerApptId>
			<OrderItem>
				<Code>DRCONSFV</Code>
				<Description>SPECIALIST CONSULTATION</Description>
			</OrderItem>
			<CareProvider>
				<Code>MEDEMO4068</Code>
				<Description>Doctor Helen Martin</Description>
				<Name>
					<FamilyName>Helen</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Martin</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
			</CareProvider>
			<Location>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</Location>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>CARDIOLOGY </Description>
			</EnteredAt>
			<EnteredOn>2021-03-01T22:23:00Z</EnteredOn>
			<FromTime>2021-03-02T09:00:00Z</FromTime>
			<ToTime>2021-03-02T09:40:00Z</ToTime>
			
		</Appointment>
		<Appointment>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<Status>DEPARTED </Status>
			<Type>
				<Code>Outpatient</Code>
				<Description>Outpatient</Description>
			</Type>
			<PlacerApptId>7700||2209||1</PlacerApptId>
			<FillerApptId>7700||2209-65677-1000-1-1</FillerApptId>
			<OrderItem>
				<Code>DRCONSFV</Code>
				<Description>SPECIALIST CONSULTATION</Description>
			</OrderItem>
			<CareProvider>
				<Code>MEDEMO4</Code>
				<Description>Doctor Alia Yakdi</Description>
				<Name>
					<FamilyName>Alia</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Yakdi</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
			</CareProvider>
			<Location>
				<Code>MEDEMO30E1396</Code>
				<Description>FAMILY MEDICINE </Description>
			</Location>
			<EnteredBy>
				<Code>AdOPD</Code>
				<Description>Admin OPD</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>OPD GENERAL </Description>
			</EnteredAt>
			<EnteredOn>2020-10-24T21:30:00Z</EnteredOn>
			<FromTime>2020-10-25T10:00:00Z</FromTime>
			<ToTime>2020-10-25T10:00:00Z</ToTime>
			
		</Appointment>
		<Appointment>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<Status>DEPARTED </Status>
			<Type>
				<Code>Outpatient</Code>
				<Description>Outpatient</Description>
			</Type>
			<PlacerApptId>7700||4258||1</PlacerApptId>
			<FillerApptId>7700||4258-65728-1215-6121-1</FillerApptId>
			<OrderItem>
				<Code>FOLLOWUPNC</Code>
				<Description>FOLLOW-UP VISIT - NON CHARGEABLE</Description>
			</OrderItem>
			<CareProvider>
				<Code>MEDEMO4</Code>
				<Description>Doctor Alia Yakdi</Description>
				<Name>
					<FamilyName>Alia</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Yakdi</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
			</CareProvider>
			<Location>
				<Code>MEDEMO30E1396</Code>
				<Description>FAMILY MEDICINE </Description>
			</Location>
			<EnteredBy>
				<Code>isc$rriman</Code>
				<Description>Rami Riman</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>ADMINISTRATION </Description>
			</EnteredAt>
			<EnteredOn>2020-12-15T13:44:00Z</EnteredOn>
			<FromTime>2020-12-15T12:15:00Z</FromTime>
			<ToTime>2020-12-15T12:35:00Z</ToTime>
			
		</Appointment>
		<Appointment>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<Status>DEPARTED </Status>
			<Type>
				<Code>Outpatient</Code>
				<Description>Outpatient</Description>
			</Type>
			<PlacerApptId>7700||4771||1</PlacerApptId>
			<FillerApptId>7700||4771-65741-1030-1-1</FillerApptId>
			<OrderItem>
				<Code>DRCONSFV</Code>
				<Description>SPECIALIST CONSULTATION</Description>
			</OrderItem>
			<CareProvider>
				<Code>MEDEMO4</Code>
				<Description>Doctor Alia Yakdi</Description>
				<Name>
					<FamilyName>Alia</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Yakdi</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
			</CareProvider>
			<Location>
				<Code>MEDEMO30E1396</Code>
				<Description>FAMILY MEDICINE </Description>
			</Location>
			<EnteredBy>
				<Code>isc$ezafer</Code>
				<Description>Eyad Zafer (IS Implementation)</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>Test General Surgery MEDEMO15</Description>
			</EnteredAt>
			<EnteredOn>2020-12-28T10:55:00Z</EnteredOn>
			<FromTime>2020-12-28T10:30:00Z</FromTime>
			<ToTime>2020-12-28T10:30:00Z</ToTime>
			
		</Appointment>
		<Appointment>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<Status>BOOKED</Status>
			<Type>
				<Code>Inpatient</Code>
				<Description>Inpatient</Description>
			</Type>
			<PlacerApptId>7088||942||1</PlacerApptId>
			<CareProvider>
				<Description>OR Room-001</Description>
			</CareProvider>
			<Location>
				<Code>MEDEMO30OP1438</Code>
				<Description>THEATRE COMPLEX </Description>
			</Location>
			<EnteredBy>
				<Code>OTMNG</Code>
				<Description>OT Coordinator</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>THEATRE COMPLEX </Description>
			</EnteredAt>
			<EnteredOn>2021-05-25T09:16:00Z</EnteredOn>
			<FromTime>2021-05-25T07:30:00Z</FromTime>
			<ToTime>2021-05-25T10:50:00Z</ToTime>
			
		</Appointment>
		<Appointment>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<Status>BOOKED</Status>
			<Type>
				<Code>Inpatient</Code>
				<Description>Inpatient</Description>
			</Type>
			<PlacerApptId>7088||973||2</PlacerApptId>
			<CareProvider>
				<Description>OR Room-001</Description>
			</CareProvider>
			<Location>
				<Code>MEDEMO30OP1438</Code>
				<Description>THEATRE COMPLEX </Description>
			</Location>
			<EnteredBy>
				<Code>OTMNG</Code>
				<Description>OT Coordinator</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>THEATRE COMPLEX </Description>
			</EnteredAt>
			<EnteredOn>2021-06-30T12:39:00Z</EnteredOn>
			<FromTime>2021-06-30T07:30:00Z</FromTime>
			<ToTime>2021-06-30T08:30:00Z</ToTime>
			
		</Appointment>
		<Appointment>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<Status>BOOKED</Status>
			<Type>
				<Code>Outpatient</Code>
				<Description>Outpatient</Description>
			</Type>
			<PlacerApptId>7095||42||1</PlacerApptId>
			<FillerApptId>7095||42-65698-0930-16852-1</FillerApptId>
			<OrderItem>
				<Code>MEDEMOPHYSIO</Code>
				<Description>Physiotherapy Session </Description>
			</OrderItem>
			<CareProvider>
				<Description>Physiotherapy Room-001</Description>
			</CareProvider>
			<Location>
				<Code>MEDEMO30E1424</Code>
				<Description>PHYSIOTHERAPY </Description>
			</Location>
			<EnteredBy>
				<Code>AdOPD</Code>
				<Description>Admin OPD</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>OPD GENERAL </Description>
			</EnteredAt>
			<EnteredOn>2020-11-12T17:37:00Z</EnteredOn>
			<FromTime>2020-11-15T09:30:00Z</FromTime>
			<ToTime>2020-11-15T10:15:00Z</ToTime>
			
		</Appointment>
		<Appointment>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<Status>BOOKED</Status>
			<Type>
				<Code>Outpatient</Code>
				<Description>Outpatient</Description>
			</Type>
			<PlacerApptId>7095||68||1</PlacerApptId>
			<FillerApptId>7095||68-65700-0930-16852-1</FillerApptId>
			<OrderItem>
				<Code>MEDEMOPHYSIO</Code>
				<Description>Physiotherapy Session </Description>
			</OrderItem>
			<CareProvider>
				<Description>Physiotherapy Room-001</Description>
			</CareProvider>
			<Location>
				<Code>MEDEMO30E1424</Code>
				<Description>PHYSIOTHERAPY </Description>
			</Location>
			<EnteredBy>
				<Code>AdOPD</Code>
				<Description>Admin OPD</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>OPD GENERAL </Description>
			</EnteredAt>
			<EnteredOn>2020-11-12T17:37:00Z</EnteredOn>
			<FromTime>2020-11-17T09:30:00Z</FromTime>
			<ToTime>2020-11-17T10:15:00Z</ToTime>
			
		</Appointment>
		<Appointment>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<Status>BOOKED</Status>
			<Type>
				<Code>Outpatient</Code>
				<Description>Outpatient</Description>
			</Type>
			<PlacerApptId>7095||92||1</PlacerApptId>
			<FillerApptId>7095||92-65702-0800-16852-1</FillerApptId>
			<OrderItem>
				<Code>MEDEMOPHYSIO</Code>
				<Description>Physiotherapy Session </Description>
			</OrderItem>
			<CareProvider>
				<Description>Physiotherapy Room-001</Description>
			</CareProvider>
			<Location>
				<Code>MEDEMO30E1424</Code>
				<Description>PHYSIOTHERAPY </Description>
			</Location>
			<EnteredBy>
				<Code>AdOPD</Code>
				<Description>Admin OPD</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>OPD GENERAL </Description>
			</EnteredAt>
			<EnteredOn>2020-11-12T17:37:00Z</EnteredOn>
			<FromTime>2020-11-19T08:00:00Z</FromTime>
			<ToTime>2020-11-19T08:45:00Z</ToTime>
			
		</Appointment>
		<Appointment>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<Status>BOOKED</Status>
			<Type>
				<Code>Outpatient</Code>
				<Description>Outpatient</Description>
			</Type>
			<PlacerApptId>7497||9230||1</PlacerApptId>
			<FillerApptId>7497||9230-65889-1120-12865-1</FillerApptId>
			<OrderItem>
				<Code>FOLLOWUPNC</Code>
				<Description>FOLLOW-UP VISIT - NON CHARGEABLE</Description>
			</OrderItem>
			<CareProvider>
				<Code>MEDEMO4068</Code>
				<Description>Doctor Helen Martin</Description>
				<Name>
					<FamilyName>Helen</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Martin</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
			</CareProvider>
			<Location>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</Location>
			<EnteredBy>
				<Code>AdOPD</Code>
				<Description>Admin OPD</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>OPD GENERAL </Description>
			</EnteredAt>
			<EnteredOn>2021-05-25T08:42:00Z</EnteredOn>
			<FromTime>2021-05-25T11:20:00Z</FromTime>
			<ToTime>2021-05-25T11:20:00Z</ToTime>
			
		</Appointment>
		<Appointment>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<Status>BOOKED</Status>
			<Type>
				<Code>Outpatient</Code>
				<Description>Outpatient</Description>
			</Type>
			<PlacerApptId>7497||10484||1</PlacerApptId>
			<FillerApptId>7497||10484-65960-1320-12860-1</FillerApptId>
			<OrderItem>
				<Code>DRCONSFV</Code>
				<Description>SPECIALIST CONSULTATION</Description>
			</OrderItem>
			<CareProvider>
				<Code>MEDEMO4068</Code>
				<Description>Doctor Helen Martin</Description>
				<Name>
					<FamilyName>Helen</FamilyName>
					<NamePrefix>DR</NamePrefix>
					<GivenName>Martin</GivenName>
				</Name>
				<CareProviderType>
					<Code>001</Code>
					<Description>Consultant Physician</Description>
				</CareProviderType>
			</CareProvider>
			<Location>
				<Code>MEDEMO30E1390</Code>
				<Description>CARDIOLOGY </Description>
			</Location>
			<EnteredBy>
				<Code>AdOPD</Code>
				<Description>Admin OPD</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>OPD GENERAL </Description>
			</EnteredAt>
			<EnteredOn>2021-08-04T11:54:00Z</EnteredOn>
			<FromTime>2021-08-04T13:20:00Z</FromTime>
			<ToTime>2021-08-04T14:00:00Z</ToTime>
			
		</Appointment>
		
		
		
	
	</Appointments>
	<CustomObjects>
		<CustomObject>
			<CustomType>PlanOfCareGoal</CustomType>
			<CustomPairs>
				<NVPair>
					<Name>PlanOfCareGoalCodingStandard</Name>
					<Value>2.16.840.1.113883.3.86.4</Value>
				</NVPair>
				<NVPair>
					<Name>PlanOfCareGoalCode</Name>
					<Value>30989003</Value>
				</NVPair>
				<NVPair>
					<Name>PlanOfCareGoalDescription</Name>
					<Value>Knee pain (finding)</Value>
				</NVPair>
			</CustomPairs>
		</CustomObject>
		<CustomObject>
			<CustomType>PlanOfCareInstructions</CustomType>
			<CustomPairs>
				<NVPair>
					<Name>PlanOfCareInstructionsText</Name>
					<Value>not radiating, increases during the day and elevated at rest </Value>
				</NVPair>
			</CustomPairs>
		</CustomObject>
		<CustomObject>
			<CustomType>PlanOfCareGoal</CustomType>
			<CustomPairs>
				<NVPair>
					<Name>PlanOfCareGoalCodingStandard</Name>
					<Value>2.16.840.1.113883.3.86.4</Value>
				</NVPair>
				<NVPair>
					<Name>PlanOfCareGoalCode</Name>
					<Value>299322007</Value>
				</NVPair>
				<NVPair>
					<Name>PlanOfCareGoalDescription</Name>
					<Value>Swelling of knee joint (finding)</Value>
				</NVPair>
			</CustomPairs>
		</CustomObject>
		<CustomObject>
			<CustomType>PlanOfCareInstructions</CustomType>
			<CustomPairs>
				<NVPair>
					<Name>PlanOfCareInstructionsText</Name>
					<Value>Pain is _moderate_____ elevated with rest  no decrease in range of motion  Surgical wound is _clean_____</Value>
				</NVPair>
			</CustomPairs>
		</CustomObject>
		<CustomObject>
			<CustomType>PlanOfCareGoal</CustomType>
			<CustomPairs>
				<NVPair>
					<Name>PlanOfCareGoalCodingStandard</Name>
					<Value>2.16.840.1.113883.3.86.4</Value>
				</NVPair>
				<NVPair>
					<Name>PlanOfCareGoalCode</Name>
					<Value>386661006</Value>
				</NVPair>
				<NVPair>
					<Name>PlanOfCareGoalDescription</Name>
					<Value>Fever (finding)</Value>
				</NVPair>
			</CustomPairs>
		</CustomObject>
		<CustomObject>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			
		</CustomObject>
		<CustomObject>
			<CustomType>PlanOfCareGoal</CustomType>
			<CustomPairs>
				<NVPair>
					<Name>PlanOfCareGoalCodingStandard</Name>
					<Value>2.16.840.1.113883.3.86.4</Value>
				</NVPair>
				<NVPair>
					<Name>PlanOfCareGoalCode</Name>
					<Value>29857009</Value>
				</NVPair>
				<NVPair>
					<Name>PlanOfCareGoalDescription</Name>
					<Value>Chest pain (finding)</Value>
				</NVPair>
			</CustomPairs>
		</CustomObject>
		<CustomObject>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			
		</CustomObject>
		<CustomObject>
			<CustomType>PlanOfCareGoal</CustomType>
			<CustomPairs>
				<NVPair>
					<Name>PlanOfCareGoalCodingStandard</Name>
					<Value>2.16.840.1.113883.3.86.4</Value>
				</NVPair>
				<NVPair>
					<Name>PlanOfCareGoalCode</Name>
					<Value>401314000</Value>
				</NVPair>
				<NVPair>
					<Name>PlanOfCareGoalDescription</Name>
					<Value>Acute non-ST segment elevation myocardial infarction (disorder)</Value>
				</NVPair>
			</CustomPairs>
		</CustomObject>
		<CustomObject>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			
		</CustomObject>
		<CustomObject>
			<CustomType>PlanOfCareGoal</CustomType>
			<CustomPairs>
				<NVPair>
					<Name>PlanOfCareGoalCodingStandard</Name>
					<Value>2.16.840.1.113883.3.86.4</Value>
				</NVPair>
				<NVPair>
					<Name>PlanOfCareGoalCode</Name>
					<Value>29857009</Value>
				</NVPair>
				<NVPair>
					<Name>PlanOfCareGoalDescription</Name>
					<Value>Chest pain (finding)</Value>
				</NVPair>
			</CustomPairs>
		</CustomObject>
		<CustomObject>
			<CustomType>PlanOfCareInstructions</CustomType>
			<CustomPairs>
				<NVPair>
					<Name>PlanOfCareInstructionsText</Name>
					<Value>The pain is radiating to the left shoulder and not elevated with pain killers</Value>
				</NVPair>
			</CustomPairs>
		</CustomObject>
		<CustomObject>
			<CustomType>PlanOfCareGoal</CustomType>
			<CustomPairs>
				<NVPair>
					<Name>PlanOfCareGoalCodingStandard</Name>
					<Value>2.16.840.1.113883.3.86.4</Value>
				</NVPair>
				<NVPair>
					<Name>PlanOfCareGoalCode</Name>
					<Value>29857009</Value>
				</NVPair>
				<NVPair>
					<Name>PlanOfCareGoalDescription</Name>
					<Value>Chest pain (finding)</Value>
				</NVPair>
			</CustomPairs>
		</CustomObject>
		<CustomObject>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			
		</CustomObject>
		<CustomObject>
			<CustomType>PlanOfCareGoal</CustomType>
			<CustomPairs>
				<NVPair>
					<Name>PlanOfCareGoalCodingStandard</Name>
					<Value>2.16.840.1.113883.3.86.4</Value>
				</NVPair>
				<NVPair>
					<Name>PlanOfCareGoalCode</Name>
					<Value>125600009</Value>
				</NVPair>
				<NVPair>
					<Name>PlanOfCareGoalDescription</Name>
					<Value>Injury of hip region (disorder)</Value>
				</NVPair>
			</CustomPairs>
		</CustomObject>
		<CustomObject>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			
		</CustomObject>
		<CustomObject>
			<CustomType>PlanOfCareGoal</CustomType>
			<CustomPairs>
				<NVPair>
					<Name>PlanOfCareGoalCodingStandard</Name>
					<Value>2.16.840.1.113883.3.86.4</Value>
				</NVPair>
				<NVPair>
					<Name>PlanOfCareGoalCode</Name>
					<Value>29857009</Value>
				</NVPair>
				<NVPair>
					<Name>PlanOfCareGoalDescription</Name>
					<Value>Chest pain (finding)</Value>
				</NVPair>
			</CustomPairs>
		</CustomObject>
		<CustomObject>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			
		</CustomObject>
	</CustomObjects>
		<Observations>
		<Observation>
			
			<EncounterNumber>IP0000006256</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-10-11T09:29:00Z</ObservationTime>
			<ObservationCode>
				<Code>WEIGHT</Code>
				<Description>Weight </Description>
				<ObservationValueUnits>
					<Code>KG</Code>
					<Description>kg</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>69</ObservationValue>
			<EnteredBy>
				<Code>isc$rriman</Code>
				<Description>Rami Riman</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-10-11T09:29:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>IP0000006256</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-10-11T09:29:00Z</ObservationTime>
			<ObservationCode>
				<Code>VSMAP</Code>
				<Description>Mean Blood Pressure (calculated)</Description>
				<ObservationValueUnits>
					<Code>MMHG</Code>
					<Description>mmHg</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>91</ObservationValue>
			<EnteredBy>
				<Code>isc$rriman</Code>
				<Description>Rami Riman</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-10-11T09:29:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>IP0000006256</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-10-11T09:29:00Z</ObservationTime>
			<ObservationCode>
				<Code>MEXXIPEWSOT</Code>
				<Description>Oxygen Therapy (ME)</Description>
				<ObservationValueUnits>
					<Code>NULL</Code>
					<Description>NULL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>EWS12-A</ObservationValue>
			<EnteredBy>
				<Code>isc$rriman</Code>
				<Description>Rami Riman</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-10-11T09:29:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>IP0000006256</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-10-11T09:29:00Z</ObservationTime>
			<ObservationCode>
				<Code>TC.AVPU</Code>
				<Description>AVPU Conscious level</Description>
				<ObservationValueUnits>
					<Code>NULL</Code>
					<Description>NULL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>EWS12-A</ObservationValue>
			<EnteredBy>
				<Code>isc$rriman</Code>
				<Description>Rami Riman</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-10-11T09:29:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>IP0000006256</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-10-11T09:29:00Z</ObservationTime>
			<ObservationCode>
				<Code>TC.BSA</Code>
				<Description>Body Surface Area</Description>
				<ObservationValueUnits>
					<Code>NULL</Code>
					<Description>NULL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>4.13</ObservationValue>
			<EnteredBy>
				<Code>isc$rriman</Code>
				<Description>Rami Riman</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-10-11T09:29:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>IP0000006256</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-10-11T09:29:00Z</ObservationTime>
			<ObservationCode>
				<Code>MEXX.IBW</Code>
				<Description>Ideal Body Weight (calculated)</Description>
				<ObservationValueUnits>
					<Code>NULL</Code>
					<Description>NULL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>0.00</ObservationValue>
			<EnteredBy>
				<Code>isc$rriman</Code>
				<Description>Rami Riman</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-10-11T09:29:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>IP0000006256</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-10-11T09:29:00Z</ObservationTime>
			<ObservationCode>
				<Code>TC.MAP</Code>
				<Description>Mean Arterial Pressure (MAP)</Description>
				<ObservationValueUnits>
					<Code>NULL</Code>
					<Description>NULL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>181</ObservationValue>
			<EnteredBy>
				<Code>isc$rriman</Code>
				<Description>Rami Riman</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-10-11T09:29:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>IP0000006256</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-10-11T09:29:00Z</ObservationTime>
			<ObservationCode>
				<Code>HEIGHT</Code>
				<Description>Height (Ht)</Description>
				<ObservationValueUnits>
					<Code>CM</Code>
					<Description>cm</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>178</ObservationValue>
			<EnteredBy>
				<Code>isc$rriman</Code>
				<Description>Rami Riman</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-10-11T09:29:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>IP0000006256</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-10-11T09:29:00Z</ObservationTime>
			<ObservationCode>
				<Code>EWS00</Code>
				<Description>EWS Total</Description>
				<ObservationValueUnits>
					<Code>PTS</Code>
					<Description>pts</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>0</ObservationValue>
			<EnteredBy>
				<Code>isc$rriman</Code>
				<Description>Rami Riman</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-10-11T09:29:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>IP0000006256</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-10-11T09:35:00Z</ObservationTime>
			<ObservationCode>
				<Code>TC.FBOI</Code>
				<Description>Oral Intake</Description>
				<ObservationValueUnits>
					<Code>NULL</Code>
					<Description>NULL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>200</ObservationValue>
			<EnteredBy>
				<Code>isc$rriman</Code>
				<Description>Rami Riman</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-10-11T09:35:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>IP0000006256</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-10-11T09:29:00Z</ObservationTime>
			<ObservationCode>
				<Code>VS1</Code>
				<Description>Systolic</Description>
				<ObservationValueUnits>
					<Code>MMHG</Code>
					<Description>mmHg</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>138</ObservationValue>
			<EnteredBy>
				<Code>isc$rriman</Code>
				<Description>Rami Riman</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-10-11T09:29:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>IP0000006256</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-10-11T09:29:00Z</ObservationTime>
			<ObservationCode>
				<Code>VS2</Code>
				<Description>Diastolic</Description>
				<ObservationValueUnits>
					<Code>MMHG</Code>
					<Description>mmHg</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>67</ObservationValue>
			<EnteredBy>
				<Code>isc$rriman</Code>
				<Description>Rami Riman</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-10-11T09:29:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>IP0000006256</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-10-11T09:29:00Z</ObservationTime>
			<ObservationCode>
				<Code>VS3</Code>
				<Description>Pulse</Description>
				<ObservationValueUnits>
					<Code>BT/MIN</Code>
					<Description>bt/min</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>68</ObservationValue>
			<EnteredBy>
				<Code>isc$rriman</Code>
				<Description>Rami Riman</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-10-11T09:29:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>IP0000006256</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-10-11T09:29:00Z</ObservationTime>
			<ObservationCode>
				<Code>VS4</Code>
				<Description>Respirations</Description>
				<ObservationValueUnits>
					<Code>BR/MIN</Code>
					<Description>br/min</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>13</ObservationValue>
			<EnteredBy>
				<Code>isc$rriman</Code>
				<Description>Rami Riman</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-10-11T09:29:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>IP0000006256</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-10-11T09:29:00Z</ObservationTime>
			<ObservationCode>
				<Code>MEXXICUSPO2</Code>
				<Description>SPO2</Description>
				<ObservationValueUnits>
					<Code>NULL</Code>
					<Description>NULL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>97</ObservationValue>
			<EnteredBy>
				<Code>isc$rriman</Code>
				<Description>Rami Riman</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-10-11T09:29:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>IP0000006256</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-10-11T09:29:00Z</ObservationTime>
			<ObservationCode>
				<Code>VS5</Code>
				<Description>Temperature</Description>
				<ObservationValueUnits>
					<Code>DEGREEC</Code>
					<Description>°C</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>37</ObservationValue>
			<EnteredBy>
				<Code>isc$rriman</Code>
				<Description>Rami Riman</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-10-11T09:29:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283905</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-10-12T18:25:00Z</ObservationTime>
			<ObservationCode>
				<Code>WEIGHT</Code>
				<Description>Weight </Description>
				<ObservationValueUnits>
					<Code>KG</Code>
					<Description>kg</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>65</ObservationValue>
			<EnteredBy>
				<Code>NrOPD</Code>
				<Description>Nurse Outpatients</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-10-12T18:25:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283905</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-10-12T18:25:00Z</ObservationTime>
			<ObservationCode>
				<Code>MEXX.IBW</Code>
				<Description>Ideal Body Weight (calculated)</Description>
				<ObservationValueUnits>
					<Code>NULL</Code>
					<Description>NULL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>0.00</ObservationValue>
			<EnteredBy>
				<Code>NrOPD</Code>
				<Description>Nurse Outpatients</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-10-12T18:25:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283905</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-10-12T18:25:00Z</ObservationTime>
			<ObservationCode>
				<Code>TC.MAP</Code>
				<Description>Mean Arterial Pressure (MAP)</Description>
				<ObservationValueUnits>
					<Code>NULL</Code>
					<Description>NULL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>207</ObservationValue>
			<EnteredBy>
				<Code>NrOPD</Code>
				<Description>Nurse Outpatients</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-10-12T18:25:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283905</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-10-12T18:25:00Z</ObservationTime>
			<ObservationCode>
				<Code>EWS00</Code>
				<Description>EWS Total</Description>
				<ObservationValueUnits>
					<Code>PTS</Code>
					<Description>pts</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>0</ObservationValue>
			<EnteredBy>
				<Code>NrOPD</Code>
				<Description>Nurse Outpatients</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-10-12T18:25:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283905</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-10-12T18:25:00Z</ObservationTime>
			<ObservationCode>
				<Code>HEIGHT</Code>
				<Description>Height (Ht)</Description>
				<ObservationValueUnits>
					<Code>CM</Code>
					<Description>cm</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>176</ObservationValue>
			<EnteredBy>
				<Code>NrOPD</Code>
				<Description>Nurse Outpatients</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-10-12T18:25:00Z</EnteredOn>
		</Observation>

		<Observation>
			
			<EncounterNumber>OP0000283905</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-10-12T18:25:00Z</ObservationTime>
			<ObservationCode>
				<Code>VS1</Code>
				<Description>Systolic</Description>
				<ObservationValueUnits>
					<Code>MMHG</Code>
					<Description>mmHg</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>130</ObservationValue>
			<EnteredBy>
				<Code>NrOPD</Code>
				<Description>Nurse Outpatients</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-10-12T18:25:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283905</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-10-12T18:25:00Z</ObservationTime>
			<ObservationCode>
				<Code>VS2</Code>
				<Description>Diastolic</Description>
				<ObservationValueUnits>
					<Code>MMHG</Code>
					<Description>mmHg</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>90</ObservationValue>
			<EnteredBy>
				<Code>NrOPD</Code>
				<Description>Nurse Outpatients</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-10-12T18:25:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283905</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-10-12T18:25:00Z</ObservationTime>
			<ObservationCode>
				<Code>VS3</Code>
				<Description>Pulse</Description>
				<ObservationValueUnits>
					<Code>BT/MIN</Code>
					<Description>bt/min</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>90</ObservationValue>
			<EnteredBy>
				<Code>NrOPD</Code>
				<Description>Nurse Outpatients</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-10-12T18:25:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283905</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-10-12T18:25:00Z</ObservationTime>
			<ObservationCode>
				<Code>VS4</Code>
				<Description>Respirations</Description>
				<ObservationValueUnits>
					<Code>BR/MIN</Code>
					<Description>br/min</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>12</ObservationValue>
			<EnteredBy>
				<Code>NrOPD</Code>
				<Description>Nurse Outpatients</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-10-12T18:25:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283905</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-10-12T18:25:00Z</ObservationTime>
			<ObservationCode>
				<Code>VSMAP</Code>
				<Description>Mean Blood Pressure (calculated)</Description>
				<ObservationValueUnits>
					<Code>MMHG</Code>
					<Description>mmHg</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>103</ObservationValue>
			<EnteredBy>
				<Code>NrOPD</Code>
				<Description>Nurse Outpatients</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-10-12T18:25:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283905</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-10-12T18:25:00Z</ObservationTime>
			<ObservationCode>
				<Code>TC.BSA</Code>
				<Description>Body Surface Area</Description>
				<ObservationValueUnits>
					<Code>NULL</Code>
					<Description>NULL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>3.99</ObservationValue>
			<EnteredBy>
				<Code>NrOPD</Code>
				<Description>Nurse Outpatients</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-10-12T18:25:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283906</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-10-19T22:42:00Z</ObservationTime>
			<ObservationCode>
				<Code>WEIGHT</Code>
				<Description>Weight </Description>
				<ObservationValueUnits>
					<Code>KG</Code>
					<Description>kg</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>63</ObservationValue>
			<EnteredBy>
				<Code>DrOrtho</Code>
				<Description>Orthopedic doctor</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-10-19T22:42:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283906</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-10-19T22:42:00Z</ObservationTime>
			<ObservationCode>
				<Code>HEIGHT</Code>
				<Description>Height (Ht)</Description>
				<ObservationValueUnits>
					<Code>CM</Code>
					<Description>cm</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>176</ObservationValue>
			<EnteredBy>
				<Code>DrOrtho</Code>
				<Description>Orthopedic doctor</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-10-19T22:42:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283906</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-10-19T22:42:00Z</ObservationTime>
			<ObservationCode>
				<Code>VS1</Code>
				<Description>Systolic</Description>
				<ObservationValueUnits>
					<Code>MMHG</Code>
					<Description>mmHg</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>129</ObservationValue>
			<EnteredBy>
				<Code>DrOrtho</Code>
				<Description>Orthopedic doctor</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-10-19T22:42:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283906</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-10-19T22:42:00Z</ObservationTime>
			<ObservationCode>
				<Code>VS3</Code>
				<Description>Pulse</Description>
				<ObservationValueUnits>
					<Code>BT/MIN</Code>
					<Description>bt/min</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>73</ObservationValue>
			<EnteredBy>
				<Code>DrOrtho</Code>
				<Description>Orthopedic doctor</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-10-19T22:42:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283906</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-10-19T22:42:00Z</ObservationTime>
			<ObservationCode>
				<Code>VS4</Code>
				<Description>Respirations</Description>
				<ObservationValueUnits>
					<Code>BR/MIN</Code>
					<Description>br/min</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>13</ObservationValue>
			<EnteredBy>
				<Code>DrOrtho</Code>
				<Description>Orthopedic doctor</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-10-19T22:42:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283906</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-10-19T22:42:00Z</ObservationTime>
			<ObservationCode>
				<Code>VS5</Code>
				<Description>Temperature</Description>
				<ObservationValueUnits>
					<Code>DEGREEC</Code>
					<Description>°C</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>37.3</ObservationValue>
			<EnteredBy>
				<Code>DrOrtho</Code>
				<Description>Orthopedic doctor</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-10-19T22:42:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283906</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-10-19T22:42:00Z</ObservationTime>
			<ObservationCode>
				<Code>VS2</Code>
				<Description>Diastolic</Description>
				<ObservationValueUnits>
					<Code>MMHG</Code>
					<Description>mmHg</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>80</ObservationValue>
			<EnteredBy>
				<Code>DrOrtho</Code>
				<Description>Orthopedic doctor</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-10-19T22:42:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283906</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-10-19T22:42:00Z</ObservationTime>
			<ObservationCode>
				<Code>EWS00</Code>
				<Description>EWS Total</Description>
				<ObservationValueUnits>
					<Code>PTS</Code>
					<Description>pts</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>0</ObservationValue>
			<EnteredBy>
				<Code>DrOrtho</Code>
				<Description>Orthopedic doctor</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-10-19T22:42:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283906</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-10-18T22:41:00Z</ObservationTime>
			<ObservationCode>
				<Code>WEIGHT</Code>
				<Description>Weight </Description>
				<ObservationValueUnits>
					<Code>KG</Code>
					<Description>kg</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>64</ObservationValue>
			<EnteredBy>
				<Code>DrOrtho</Code>
				<Description>Orthopedic doctor</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-10-18T22:41:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283906</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-10-18T22:41:00Z</ObservationTime>
			<ObservationCode>
				<Code>HEIGHT</Code>
				<Description>Height (Ht)</Description>
				<ObservationValueUnits>
					<Code>CM</Code>
					<Description>cm</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>176</ObservationValue>
			<EnteredBy>
				<Code>DrOrtho</Code>
				<Description>Orthopedic doctor</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-10-18T22:41:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283906</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-10-18T22:41:00Z</ObservationTime>
			<ObservationCode>
				<Code>VS1</Code>
				<Description>Systolic</Description>
				<ObservationValueUnits>
					<Code>MMHG</Code>
					<Description>mmHg</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>130</ObservationValue>
			<EnteredBy>
				<Code>DrOrtho</Code>
				<Description>Orthopedic doctor</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-10-18T22:41:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283906</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-10-18T22:41:00Z</ObservationTime>
			<ObservationCode>
				<Code>VS3</Code>
				<Description>Pulse</Description>
				<ObservationValueUnits>
					<Code>BT/MIN</Code>
					<Description>bt/min</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>69</ObservationValue>
			<EnteredBy>
				<Code>DrOrtho</Code>
				<Description>Orthopedic doctor</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-10-18T22:41:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283906</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-10-18T22:41:00Z</ObservationTime>
			<ObservationCode>
				<Code>VS4</Code>
				<Description>Respirations</Description>
				<ObservationValueUnits>
					<Code>BR/MIN</Code>
					<Description>br/min</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>14</ObservationValue>
			<EnteredBy>
				<Code>DrOrtho</Code>
				<Description>Orthopedic doctor</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-10-18T22:41:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283906</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-10-18T22:41:00Z</ObservationTime>
			<ObservationCode>
				<Code>VS5</Code>
				<Description>Temperature</Description>
				<ObservationValueUnits>
					<Code>DEGREEC</Code>
					<Description>°C</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>36.8</ObservationValue>
			<EnteredBy>
				<Code>DrOrtho</Code>
				<Description>Orthopedic doctor</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-10-18T22:41:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283906</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-10-18T22:41:00Z</ObservationTime>
			<ObservationCode>
				<Code>VS2</Code>
				<Description>Diastolic</Description>
				<ObservationValueUnits>
					<Code>MMHG</Code>
					<Description>mmHg</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>77</ObservationValue>
			<EnteredBy>
				<Code>DrOrtho</Code>
				<Description>Orthopedic doctor</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-10-18T22:41:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283906</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-10-18T22:41:00Z</ObservationTime>
			<ObservationCode>
				<Code>EWS00</Code>
				<Description>EWS Total</Description>
				<ObservationValueUnits>
					<Code>PTS</Code>
					<Description>pts</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>0</ObservationValue>
			<EnteredBy>
				<Code>DrOrtho</Code>
				<Description>Orthopedic doctor</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-10-18T22:41:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283906</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-10-17T22:41:00Z</ObservationTime>
			<ObservationCode>
				<Code>WEIGHT</Code>
				<Description>Weight </Description>
				<ObservationValueUnits>
					<Code>KG</Code>
					<Description>kg</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>66</ObservationValue>
			<EnteredBy>
				<Code>DrOrtho</Code>
				<Description>Orthopedic doctor</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-10-17T22:41:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283906</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-10-17T22:41:00Z</ObservationTime>
			<ObservationCode>
				<Code>EWS00</Code>
				<Description>EWS Total</Description>
				<ObservationValueUnits>
					<Code>PTS</Code>
					<Description>pts</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>0</ObservationValue>
			<EnteredBy>
				<Code>DrOrtho</Code>
				<Description>Orthopedic doctor</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-10-17T22:41:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283906</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-10-17T22:41:00Z</ObservationTime>
			<ObservationCode>
				<Code>HEIGHT</Code>
				<Description>Height (Ht)</Description>
				<ObservationValueUnits>
					<Code>CM</Code>
					<Description>cm</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>176</ObservationValue>
			<EnteredBy>
				<Code>DrOrtho</Code>
				<Description>Orthopedic doctor</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-10-17T22:41:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283906</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-10-17T22:41:00Z</ObservationTime>
			<ObservationCode>
				<Code>VS1</Code>
				<Description>Systolic</Description>
				<ObservationValueUnits>
					<Code>MMHG</Code>
					<Description>mmHg</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>140</ObservationValue>
			<EnteredBy>
				<Code>DrOrtho</Code>
				<Description>Orthopedic doctor</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-10-17T22:41:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283906</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-10-17T22:41:00Z</ObservationTime>
			<ObservationCode>
				<Code>VS3</Code>
				<Description>Pulse</Description>
				<ObservationValueUnits>
					<Code>BT/MIN</Code>
					<Description>bt/min</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>88</ObservationValue>
			<EnteredBy>
				<Code>DrOrtho</Code>
				<Description>Orthopedic doctor</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-10-17T22:41:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283906</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-10-17T22:41:00Z</ObservationTime>
			<ObservationCode>
				<Code>VS4</Code>
				<Description>Respirations</Description>
				<ObservationValueUnits>
					<Code>BR/MIN</Code>
					<Description>br/min</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>12</ObservationValue>
			<EnteredBy>
				<Code>DrOrtho</Code>
				<Description>Orthopedic doctor</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-10-17T22:41:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283906</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-10-17T22:41:00Z</ObservationTime>
			<ObservationCode>
				<Code>VS5</Code>
				<Description>Temperature</Description>
				<ObservationValueUnits>
					<Code>DEGREEC</Code>
					<Description>°C</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>37</ObservationValue>
			<EnteredBy>
				<Code>DrOrtho</Code>
				<Description>Orthopedic doctor</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-10-17T22:41:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283906</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-10-17T22:41:00Z</ObservationTime>
			<ObservationCode>
				<Code>VS2</Code>
				<Description>Diastolic</Description>
				<ObservationValueUnits>
					<Code>MMHG</Code>
					<Description>mmHg</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>88</ObservationValue>
			<EnteredBy>
				<Code>DrOrtho</Code>
				<Description>Orthopedic doctor</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-10-17T22:41:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283912</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-10-25T11:10:00Z</ObservationTime>
			<ObservationCode>
				<Code>WEIGHT</Code>
				<Description>Weight </Description>
				<ObservationValueUnits>
					<Code>KG</Code>
					<Description>kg</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>78</ObservationValue>
			<EnteredBy>
				<Code>NrOPD</Code>
				<Description>Nurse Outpatients</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-10-25T11:10:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283912</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-10-25T11:10:00Z</ObservationTime>
			<ObservationCode>
				<Code>TC.MAP</Code>
				<Description>Mean Arterial Pressure (MAP)</Description>
				<ObservationValueUnits>
					<Code>NULL</Code>
					<Description>NULL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>200</ObservationValue>
			<EnteredBy>
				<Code>NrOPD</Code>
				<Description>Nurse Outpatients</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-10-25T11:10:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283912</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-10-25T11:10:00Z</ObservationTime>
			<ObservationCode>
				<Code>EWS00</Code>
				<Description>EWS Total</Description>
				<ObservationValueUnits>
					<Code>PTS</Code>
					<Description>pts</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>0</ObservationValue>
			<EnteredBy>
				<Code>NrOPD</Code>
				<Description>Nurse Outpatients</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-10-25T11:10:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283912</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-10-25T11:10:00Z</ObservationTime>
			<ObservationCode>
				<Code>HEIGHT</Code>
				<Description>Height (Ht)</Description>
				<ObservationValueUnits>
					<Code>CM</Code>
					<Description>cm</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>180</ObservationValue>
			<EnteredBy>
				<Code>NrOPD</Code>
				<Description>Nurse Outpatients</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-10-25T11:10:00Z</EnteredOn>
		</Observation>
		 
		<Observation>
			
			<EncounterNumber>OP0000283912</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-10-25T11:10:00Z</ObservationTime>
			<ObservationCode>
				<Code>VS1</Code>
				<Description>Systolic</Description>
				<ObservationValueUnits>
					<Code>MMHG</Code>
					<Description>mmHg</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>120</ObservationValue>
			<EnteredBy>
				<Code>NrOPD</Code>
				<Description>Nurse Outpatients</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-10-25T11:10:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283912</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-10-25T11:10:00Z</ObservationTime>
			<ObservationCode>
				<Code>VS2</Code>
				<Description>Diastolic</Description>
				<ObservationValueUnits>
					<Code>MMHG</Code>
					<Description>mmHg</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>90</ObservationValue>
			<EnteredBy>
				<Code>NrOPD</Code>
				<Description>Nurse Outpatients</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-10-25T11:10:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283912</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-10-25T11:10:00Z</ObservationTime>
			<ObservationCode>
				<Code>VS3</Code>
				<Description>Pulse</Description>
				<ObservationValueUnits>
					<Code>BT/MIN</Code>
					<Description>bt/min</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>80</ObservationValue>
			<EnteredBy>
				<Code>NrOPD</Code>
				<Description>Nurse Outpatients</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-10-25T11:10:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283912</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-10-25T11:10:00Z</ObservationTime>
			<ObservationCode>
				<Code>VSMAP</Code>
				<Description>Mean Blood Pressure (calculated)</Description>
				<ObservationValueUnits>
					<Code>MMHG</Code>
					<Description>mmHg</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>100</ObservationValue>
			<EnteredBy>
				<Code>NrOPD</Code>
				<Description>Nurse Outpatients</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-10-25T11:10:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283912</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-10-25T11:10:00Z</ObservationTime>
			<ObservationCode>
				<Code>TC.BSA</Code>
				<Description>Body Surface Area</Description>
				<ObservationValueUnits>
					<Code>NULL</Code>
					<Description>NULL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>4.38</ObservationValue>
			<EnteredBy>
				<Code>NrOPD</Code>
				<Description>Nurse Outpatients</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-10-25T11:10:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283912</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-10-25T11:10:00Z</ObservationTime>
			<ObservationCode>
				<Code>MEXX.IBW</Code>
				<Description>Ideal Body Weight (calculated)</Description>
				<ObservationValueUnits>
					<Code>NULL</Code>
					<Description>NULL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>0.00</ObservationValue>
			<EnteredBy>
				<Code>NrOPD</Code>
				<Description>Nurse Outpatients</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-10-25T11:10:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>EM0000025194</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-11-10T17:06:00Z</ObservationTime>
			<ObservationCode>
				<Code>WEIGHT</Code>
				<Description>Weight </Description>
				<ObservationValueUnits>
					<Code>KG</Code>
					<Description>kg</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>80</ObservationValue>
			<EnteredBy>
				<Code>isc$ylahloh</Code>
				<Description>Yasmeen Lahloh (IS Implementation)</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-10T17:06:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>EM0000025194</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-11-10T17:06:00Z</ObservationTime>
			<ObservationCode>
				<Code>HEIGHT</Code>
				<Description>Height (Ht)</Description>
				<ObservationValueUnits>
					<Code>CM</Code>
					<Description>cm</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>150</ObservationValue>
			<EnteredBy>
				<Code>isc$ylahloh</Code>
				<Description>Yasmeen Lahloh (IS Implementation)</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-10T17:06:00Z</EnteredOn>
		</Observation>
		
		<Observation>
			
			<EncounterNumber>EM0000025194</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-11-10T17:06:00Z</ObservationTime>
			<ObservationCode>
				<Code>VS1</Code>
				<Description>Systolic</Description>
				<ObservationValueUnits>
					<Code>MMHG</Code>
					<Description>mmHg</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>140</ObservationValue>
			<EnteredBy>
				<Code>isc$ylahloh</Code>
				<Description>Yasmeen Lahloh (IS Implementation)</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-10T17:06:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>EM0000025194</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-11-10T17:06:00Z</ObservationTime>
			<ObservationCode>
				<Code>VS3</Code>
				<Description>Pulse</Description>
				<ObservationValueUnits>
					<Code>BT/MIN</Code>
					<Description>bt/min</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>99</ObservationValue>
			<EnteredBy>
				<Code>isc$ylahloh</Code>
				<Description>Yasmeen Lahloh (IS Implementation)</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-10T17:06:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>EM0000025194</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-11-10T17:06:00Z</ObservationTime>
			<ObservationCode>
				<Code>VS4</Code>
				<Description>Respirations</Description>
				<ObservationValueUnits>
					<Code>BR/MIN</Code>
					<Description>br/min</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>22</ObservationValue>
			<EnteredBy>
				<Code>isc$ylahloh</Code>
				<Description>Yasmeen Lahloh (IS Implementation)</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-10T17:06:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>EM0000025194</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-11-10T17:06:00Z</ObservationTime>
			<ObservationCode>
				<Code>VS5</Code>
				<Description>Temperature</Description>
				<ObservationValueUnits>
					<Code>DEGREEC</Code>
					<Description>°C</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>37</ObservationValue>
			<EnteredBy>
				<Code>isc$ylahloh</Code>
				<Description>Yasmeen Lahloh (IS Implementation)</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-10T17:06:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>EM0000025194</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-11-10T17:06:00Z</ObservationTime>
			<ObservationCode>
				<Code>VSMAP</Code>
				<Description>Mean Blood Pressure (calculated)</Description>
				<ObservationValueUnits>
					<Code>MMHG</Code>
					<Description>mmHg</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>113</ObservationValue>
			<EnteredBy>
				<Code>isc$ylahloh</Code>
				<Description>Yasmeen Lahloh (IS Implementation)</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-10T17:06:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>EM0000025194</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-11-10T17:06:00Z</ObservationTime>
			<ObservationCode>
				<Code>TC.PCA4</Code>
				<Description>Pain Scale, Numerical 11-Point</Description>
				<ObservationValueUnits>
					<Code>NULL</Code>
					<Description>NULL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>04</ObservationValue>
			<EnteredBy>
				<Code>isc$ylahloh</Code>
				<Description>Yasmeen Lahloh (IS Implementation)</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-10T17:06:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>EM0000025194</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-11-10T17:06:00Z</ObservationTime>
			<ObservationCode>
				<Code>MEXXIPEWSOT</Code>
				<Description>Oxygen Therapy (ME)</Description>
				<ObservationValueUnits>
					<Code>NULL</Code>
					<Description>NULL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>EWS12-AO</ObservationValue>
			<EnteredBy>
				<Code>isc$ylahloh</Code>
				<Description>Yasmeen Lahloh (IS Implementation)</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-10T17:06:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>EM0000025194</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-11-10T17:06:00Z</ObservationTime>
			<ObservationCode>
				<Code>TC.AVPU</Code>
				<Description>AVPU Conscious level</Description>
				<ObservationValueUnits>
					<Code>NULL</Code>
					<Description>NULL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>EWS12-AC</ObservationValue>
			<EnteredBy>
				<Code>isc$ylahloh</Code>
				<Description>Yasmeen Lahloh (IS Implementation)</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-10T17:06:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>EM0000025194</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-11-10T17:06:00Z</ObservationTime>
			<ObservationCode>
				<Code>VS2</Code>
				<Description>Diastolic</Description>
				<ObservationValueUnits>
					<Code>MMHG</Code>
					<Description>mmHg</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>99</ObservationValue>
			<EnteredBy>
				<Code>isc$ylahloh</Code>
				<Description>Yasmeen Lahloh (IS Implementation)</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-10T17:06:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>EM0000025194</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-11-10T17:06:00Z</ObservationTime>
			<ObservationCode>
				<Code>TC.BSA</Code>
				<Description>Body Surface Area</Description>
				<ObservationValueUnits>
					<Code>NULL</Code>
					<Description>NULL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>3.88</ObservationValue>
			<EnteredBy>
				<Code>isc$ylahloh</Code>
				<Description>Yasmeen Lahloh (IS Implementation)</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-10T17:06:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>EM0000025194</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-11-10T17:06:00Z</ObservationTime>
			<ObservationCode>
				<Code>MEXX.IBW</Code>
				<Description>Ideal Body Weight (calculated)</Description>
				<ObservationValueUnits>
					<Code>NULL</Code>
					<Description>NULL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>0.00</ObservationValue>
			<EnteredBy>
				<Code>isc$ylahloh</Code>
				<Description>Yasmeen Lahloh (IS Implementation)</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-10T17:06:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>EM0000025194</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-11-10T17:06:00Z</ObservationTime>
			<ObservationCode>
				<Code>TC.MAP</Code>
				<Description>Mean Arterial Pressure (MAP)</Description>
				<ObservationValueUnits>
					<Code>NULL</Code>
					<Description>NULL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>225</ObservationValue>
			<EnteredBy>
				<Code>isc$ylahloh</Code>
				<Description>Yasmeen Lahloh (IS Implementation)</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-10T17:06:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>EM0000025194</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-11-10T17:06:00Z</ObservationTime>
			<ObservationCode>
				<Code>EWS00</Code>
				<Description>EWS Total</Description>
				<ObservationValueUnits>
					<Code>PTS</Code>
					<Description>pts</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>5</ObservationValue>
			<EnteredBy>
				<Code>isc$ylahloh</Code>
				<Description>Yasmeen Lahloh (IS Implementation)</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-10T17:06:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>EM0000025194</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-11-10T17:19:00Z</ObservationTime>
			<ObservationCode>
				<Code>VS1</Code>
				<Description>Systolic</Description>
				<ObservationValueUnits>
					<Code>MMHG</Code>
					<Description>mmHg</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>120</ObservationValue>
			<EnteredBy>
				<Code>NrED</Code>
				<Description>Nurse ED</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-10T17:19:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>EM0000025194</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-11-10T17:19:00Z</ObservationTime>
			<ObservationCode>
				<Code>VS2</Code>
				<Description>Diastolic</Description>
				<ObservationValueUnits>
					<Code>MMHG</Code>
					<Description>mmHg</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>96</ObservationValue>
			<EnteredBy>
				<Code>NrED</Code>
				<Description>Nurse ED</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-10T17:19:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>EM0000025194</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-11-10T17:19:00Z</ObservationTime>
			<ObservationCode>
				<Code>VS3</Code>
				<Description>Pulse</Description>
				<ObservationValueUnits>
					<Code>BT/MIN</Code>
					<Description>bt/min</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>99</ObservationValue>
			<EnteredBy>
				<Code>NrED</Code>
				<Description>Nurse ED</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-10T17:19:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>EM0000025194</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-11-10T17:19:00Z</ObservationTime>
			<ObservationCode>
				<Code>VS4</Code>
				<Description>Respirations</Description>
				<ObservationValueUnits>
					<Code>BR/MIN</Code>
					<Description>br/min</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>20</ObservationValue>
			<EnteredBy>
				<Code>NrED</Code>
				<Description>Nurse ED</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-10T17:19:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>EM0000025194</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-11-10T17:19:00Z</ObservationTime>
			<ObservationCode>
				<Code>MEXXICUSPO2</Code>
				<Description>SPO2</Description>
				<ObservationValueUnits>
					<Code>NULL</Code>
					<Description>NULL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>96</ObservationValue>
			<EnteredBy>
				<Code>NrED</Code>
				<Description>Nurse ED</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-10T17:19:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>EM0000025194</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-11-10T17:19:00Z</ObservationTime>
			<ObservationCode>
				<Code>VS5</Code>
				<Description>Temperature</Description>
				<ObservationValueUnits>
					<Code>DEGREEC</Code>
					<Description>°C</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>36</ObservationValue>
			<EnteredBy>
				<Code>NrED</Code>
				<Description>Nurse ED</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-10T17:19:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>EM0000025194</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-11-10T17:19:00Z</ObservationTime>
			<ObservationCode>
				<Code>VSMAP</Code>
				<Description>Mean Blood Pressure (calculated)</Description>
				<ObservationValueUnits>
					<Code>MMHG</Code>
					<Description>mmHg</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>104</ObservationValue>
			<EnteredBy>
				<Code>NrED</Code>
				<Description>Nurse ED</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-10T17:19:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>EM0000025194</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-11-10T17:19:00Z</ObservationTime>
			<ObservationCode>
				<Code>TC.PCA4</Code>
				<Description>Pain Scale, Numerical 11-Point</Description>
				<ObservationValueUnits>
					<Code>NULL</Code>
					<Description>NULL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>04</ObservationValue>
			<EnteredBy>
				<Code>NrED</Code>
				<Description>Nurse ED</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-10T17:19:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>EM0000025194</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-11-10T17:19:00Z</ObservationTime>
			<ObservationCode>
				<Code>MEXXIPEWSOT</Code>
				<Description>Oxygen Therapy (ME)</Description>
				<ObservationValueUnits>
					<Code>NULL</Code>
					<Description>NULL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>EWS12-A</ObservationValue>
			<EnteredBy>
				<Code>NrED</Code>
				<Description>Nurse ED</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-10T17:19:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>EM0000025194</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-11-10T17:19:00Z</ObservationTime>
			<ObservationCode>
				<Code>TC.AVPU</Code>
				<Description>AVPU Conscious level</Description>
				<ObservationValueUnits>
					<Code>NULL</Code>
					<Description>NULL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>EWS12-AC</ObservationValue>
			<EnteredBy>
				<Code>NrED</Code>
				<Description>Nurse ED</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-10T17:19:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>EM0000025194</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-11-10T17:19:00Z</ObservationTime>
			<ObservationCode>
				<Code>TC.MAP</Code>
				<Description>Mean Arterial Pressure (MAP)</Description>
				<ObservationValueUnits>
					<Code>NULL</Code>
					<Description>NULL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>208</ObservationValue>
			<EnteredBy>
				<Code>NrED</Code>
				<Description>Nurse ED</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-10T17:19:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>EM0000025194</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-11-10T17:19:00Z</ObservationTime>
			<ObservationCode>
				<Code>EWS00</Code>
				<Description>EWS Total</Description>
				<ObservationValueUnits>
					<Code>PTS</Code>
					<Description>pts</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>2</ObservationValue>
			<EnteredBy>
				<Code>NrED</Code>
				<Description>Nurse ED</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-10T17:19:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-11-12T02:30:00Z</ObservationTime>
			<ObservationCode>
				<Code>WEIGHT</Code>
				<Description>Weight </Description>
				<ObservationValueUnits>
					<Code>KG</Code>
					<Description>kg</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>57</ObservationValue>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-12T02:30:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-11-12T02:30:00Z</ObservationTime>
			<ObservationCode>
				<Code>HEIGHT</Code>
				<Description>Height (Ht)</Description>
				<ObservationValueUnits>
					<Code>CM</Code>
					<Description>cm</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>177</ObservationValue>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-12T02:30:00Z</EnteredOn>
		</Observation>
		
		<Observation>
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-11-12T02:30:00Z</ObservationTime>
			<ObservationCode>
				<Code>TC.BSA</Code>
				<Description>Body Surface Area</Description>
				<ObservationValueUnits>
					<Code>NULL</Code>
					<Description>NULL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>3.79</ObservationValue>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-12T02:30:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-11-12T02:30:00Z</ObservationTime>
			<ObservationCode>
				<Code>MEXX.IBW</Code>
				<Description>Ideal Body Weight (calculated)</Description>
				<ObservationValueUnits>
					<Code>NULL</Code>
					<Description>NULL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>0.00</ObservationValue>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-12T02:30:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-11-12T02:56:00Z</ObservationTime>
			<ObservationCode>
				<Code>TCVAPDZ01</Code>
				<Description>Worsening gas exchange and O2 requirements</Description>
				<ObservationValueUnits>
					<Code>NULL</Code>
					<Description>NULL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>N</ObservationValue>
			<EnteredBy>
				<Code>NrICU</Code>
				<Description>Nurse ICU</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-12T02:56:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-11-12T02:56:00Z</ObservationTime>
			<ObservationCode>
				<Code>TCVAPDZ02</Code>
				<Description>
					<![CDATA[Temperature &gt; 37°C]]]]><![CDATA[>
				</Description>
				<ObservationValueUnits>
					<Code>NULL</Code>
					<Description>NULL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>N</ObservationValue>
			<EnteredBy>
				<Code>NrICU</Code>
				<Description>Nurse ICU</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-12T02:56:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-11-12T02:56:00Z</ObservationTime>
			<ObservationCode>
				<Code>TCVAPDZ03</Code>
				<Description>Sputum: New purulent / change in character</Description>
				<ObservationValueUnits>
					<Code>NULL</Code>
					<Description>NULL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>N</ObservationValue>
			<EnteredBy>
				<Code>NrICU</Code>
				<Description>Nurse ICU</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-12T02:56:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-11-12T02:56:00Z</ObservationTime>
			<ObservationCode>
				<Code>TCVAPDZ04</Code>
				<Description>WBC ≥ 12000 or ≤ 4000</Description>
				<ObservationValueUnits>
					<Code>NULL</Code>
					<Description>NULL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>N</ObservationValue>
			<EnteredBy>
				<Code>NrICU</Code>
				<Description>Nurse ICU</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-12T02:56:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-11-12T02:56:00Z</ObservationTime>
			<ObservationCode>
				<Code>TCCAUTIC4</Code>
				<Description>Hand hygiene</Description>
				<ObservationValueUnits>
					<Code>NULL</Code>
					<Description>NULL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>01</ObservationValue>
			<EnteredBy>
				<Code>NrICU</Code>
				<Description>Nurse ICU</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-12T02:56:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-11-12T02:56:00Z</ObservationTime>
			<ObservationCode>
				<Code>TCCAUTIC8</Code>
				<Description>Catheter hygiene</Description>
				<ObservationValueUnits>
					<Code>NULL</Code>
					<Description>NULL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>01</ObservationValue>
			<EnteredBy>
				<Code>NrICU</Code>
				<Description>Nurse ICU</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-12T02:56:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-11-12T02:56:00Z</ObservationTime>
			<ObservationCode>
				<Code>TCCAUTIC9</Code>
				<Description>Catheter site cleaned as per protocol</Description>
				<ObservationValueUnits>
					<Code>NULL</Code>
					<Description>NULL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>01</ObservationValue>
			<EnteredBy>
				<Code>NrICU</Code>
				<Description>Nurse ICU</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-12T02:56:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-11-12T02:56:00Z</ObservationTime>
			<ObservationCode>
				<Code>TCCAUTIC10</Code>
				<Description>Sampling</Description>
				<ObservationValueUnits>
					<Code>NULL</Code>
					<Description>NULL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>01</ObservationValue>
			<EnteredBy>
				<Code>NrICU</Code>
				<Description>Nurse ICU</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-12T02:56:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-11-12T02:56:00Z</ObservationTime>
			<ObservationCode>
				<Code>TCCAUTIC11</Code>
				<Description>Sampling performed aseptically via the catheter port</Description>
				<ObservationValueUnits>
					<Code>NULL</Code>
					<Description>NULL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>01</ObservationValue>
			<EnteredBy>
				<Code>NrICU</Code>
				<Description>Nurse ICU</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-12T02:56:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-11-12T02:56:00Z</ObservationTime>
			<ObservationCode>
				<Code>TCCAUTIC12</Code>
				<Description>Drainage bag position, above floor but below bladder level to prevent reflux or contamination</Description>
				<ObservationValueUnits>
					<Code>NULL</Code>
					<Description>NULL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>01</ObservationValue>
			<EnteredBy>
				<Code>NrICU</Code>
				<Description>Nurse ICU</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-12T02:56:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-11-12T02:56:00Z</ObservationTime>
			<ObservationCode>
				<Code>TCCAUTIC14</Code>
				<Description>Catheter Aseptic Manipulation</Description>
				<ObservationValueUnits>
					<Code>NULL</Code>
					<Description>NULL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>01</ObservationValue>
			<EnteredBy>
				<Code>NrICU</Code>
				<Description>Nurse ICU</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-12T02:56:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-11-12T02:56:00Z</ObservationTime>
			<ObservationCode>
				<Code>TCCAUTIC1</Code>
				<Description>Catheter need</Description>
				<ObservationValueUnits>
					<Code>NULL</Code>
					<Description>NULL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>01</ObservationValue>
			<EnteredBy>
				<Code>NrICU</Code>
				<Description>Nurse ICU</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-12T02:56:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-11-12T00:00:00Z</ObservationTime>
			<ObservationCode>
				<Code>IVCRY</Code>
				<Description>IV Crystalloids</Description>
				<ObservationValueUnits>
					<Code>ML</Code>
					<Description>mL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>100</ObservationValue>
			<EnteredBy>
				<Code>NrICU</Code>
				<Description>Nurse ICU</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-12T00:00:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-11-12T00:00:00Z</ObservationTime>
			<ObservationCode>
				<Code>TC.FBOI</Code>
				<Description>Oral Intake</Description>
				<ObservationValueUnits>
					<Code>NULL</Code>
					<Description>NULL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>50</ObservationValue>
			<EnteredBy>
				<Code>NrICU</Code>
				<Description>Nurse ICU</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-12T00:00:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-11-12T03:00:00Z</ObservationTime>
			<ObservationCode>
				<Code>TC.SK3</Code>
				<Description>Skin Temperature</Description>
				<ObservationValueUnits>
					<Code>NULL</Code>
					<Description>NULL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>W</ObservationValue>
			<EnteredBy>
				<Code>NrICU</Code>
				<Description>Nurse ICU</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-12T03:00:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-11-12T03:00:00Z</ObservationTime>
			<ObservationCode>
				<Code>TC.CREF</Code>
				<Description>Capilliary Refill</Description>
				<ObservationValueUnits>
					<Code>NULL</Code>
					<Description>NULL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>02</ObservationValue>
			<EnteredBy>
				<Code>NrICU</Code>
				<Description>Nurse ICU</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-12T03:00:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-11-12T03:00:00Z</ObservationTime>
			<ObservationCode>
				<Code>TC.NEUROPULSESRPL</Code>
				<Description>Radial pulse - left</Description>
				<ObservationValueUnits>
					<Code>NULL</Code>
					<Description>NULL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>01</ObservationValue>
			<EnteredBy>
				<Code>NrICU</Code>
				<Description>Nurse ICU</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-12T03:00:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-11-12T03:00:00Z</ObservationTime>
			<ObservationCode>
				<Code>TC.NEUROPULSESRPR</Code>
				<Description>Radial pulse - right</Description>
				<ObservationValueUnits>
					<Code>NULL</Code>
					<Description>NULL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>01</ObservationValue>
			<EnteredBy>
				<Code>NrICU</Code>
				<Description>Nurse ICU</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-12T03:00:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-11-12T03:00:00Z</ObservationTime>
			<ObservationCode>
				<Code>TC.CARDodma</Code>
				<Description>Oedema Pitting</Description>
				<ObservationValueUnits>
					<Code>NULL</Code>
					<Description>NULL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>01</ObservationValue>
			<EnteredBy>
				<Code>NrICU</Code>
				<Description>Nurse ICU</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-12T03:00:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-11-12T03:00:00Z</ObservationTime>
			<ObservationCode>
				<Code>TC.OED</Code>
				<Description>Oedema (Oedema Score)</Description>
				<ObservationValueUnits>
					<Code>NULL</Code>
					<Description>NULL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>1+</ObservationValue>
			<EnteredBy>
				<Code>NrICU</Code>
				<Description>Nurse ICU</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-12T03:00:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-11-12T14:00:00Z</ObservationTime>
			<ObservationCode>
				<Code>VS2</Code>
				<Description>Diastolic</Description>
				<ObservationValueUnits>
					<Code>MMHG</Code>
					<Description>mmHg</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>86.6</ObservationValue>
			<EnteredBy>
				<Code>NrOT</Code>
				<Description>Nurse Operating Theater </Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-12T14:00:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-11-12T14:00:00Z</ObservationTime>
			<ObservationCode>
				<Code>VS1</Code>
				<Description>Systolic</Description>
				<ObservationValueUnits>
					<Code>MMHG</Code>
					<Description>mmHg</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>129.6</ObservationValue>
			<EnteredBy>
				<Code>NrOT</Code>
				<Description>Nurse Operating Theater </Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-12T14:00:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-11-12T14:00:00Z</ObservationTime>
			<ObservationCode>
				<Code>VS3</Code>
				<Description>Pulse</Description>
				<ObservationValueUnits>
					<Code>BT/MIN</Code>
					<Description>bt/min</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>75.8</ObservationValue>
			<EnteredBy>
				<Code>NrOT</Code>
				<Description>Nurse Operating Theater </Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-12T14:00:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-11-12T14:00:00Z</ObservationTime>
			<ObservationCode>
				<Code>VS5</Code>
				<Description>Temperature</Description>
				<ObservationValueUnits>
					<Code>DEGREEC</Code>
					<Description>°C</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>36.5</ObservationValue>
			<EnteredBy>
				<Code>NrOT</Code>
				<Description>Nurse Operating Theater </Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-12T14:00:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-11-12T14:00:00Z</ObservationTime>
			<ObservationCode>
				<Code>VS6</Code>
				<Description>Oxygen Saturation</Description>
				<ObservationValueUnits>
					<Code>%</Code>
					<Description>%</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>97.8</ObservationValue>
			<EnteredBy>
				<Code>NrOT</Code>
				<Description>Nurse Operating Theater </Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-12T14:00:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-11-12T14:20:00Z</ObservationTime>
			<ObservationCode>
				<Code>VS2</Code>
				<Description>Diastolic</Description>
				<ObservationValueUnits>
					<Code>MMHG</Code>
					<Description>mmHg</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>84.6</ObservationValue>
			<EnteredBy>
				<Code>NrOT</Code>
				<Description>Nurse Operating Theater </Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-12T14:20:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-11-12T14:20:00Z</ObservationTime>
			<ObservationCode>
				<Code>VS1</Code>
				<Description>Systolic</Description>
				<ObservationValueUnits>
					<Code>MMHG</Code>
					<Description>mmHg</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>114.6</ObservationValue>
			<EnteredBy>
				<Code>NrOT</Code>
				<Description>Nurse Operating Theater </Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-12T14:20:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-11-12T14:20:00Z</ObservationTime>
			<ObservationCode>
				<Code>VS3</Code>
				<Description>Pulse</Description>
				<ObservationValueUnits>
					<Code>BT/MIN</Code>
					<Description>bt/min</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>61.8</ObservationValue>
			<EnteredBy>
				<Code>NrOT</Code>
				<Description>Nurse Operating Theater </Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-12T14:20:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-11-12T14:20:00Z</ObservationTime>
			<ObservationCode>
				<Code>VS5</Code>
				<Description>Temperature</Description>
				<ObservationValueUnits>
					<Code>DEGREEC</Code>
					<Description>°C</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>36.5</ObservationValue>
			<EnteredBy>
				<Code>NrOT</Code>
				<Description>Nurse Operating Theater </Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-12T14:20:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-11-12T14:20:00Z</ObservationTime>
			<ObservationCode>
				<Code>VS6</Code>
				<Description>Oxygen Saturation</Description>
				<ObservationValueUnits>
					<Code>%</Code>
					<Description>%</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>96.8</ObservationValue>
			<EnteredBy>
				<Code>NrOT</Code>
				<Description>Nurse Operating Theater </Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-12T14:20:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-11-12T14:40:00Z</ObservationTime>
			<ObservationCode>
				<Code>VS2</Code>
				<Description>Diastolic</Description>
				<ObservationValueUnits>
					<Code>MMHG</Code>
					<Description>mmHg</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>88.6</ObservationValue>
			<EnteredBy>
				<Code>NrOT</Code>
				<Description>Nurse Operating Theater </Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-12T14:40:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-11-12T14:40:00Z</ObservationTime>
			<ObservationCode>
				<Code>VS1</Code>
				<Description>Systolic</Description>
				<ObservationValueUnits>
					<Code>MMHG</Code>
					<Description>mmHg</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>147.4</ObservationValue>
			<EnteredBy>
				<Code>NrOT</Code>
				<Description>Nurse Operating Theater </Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-12T14:40:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-11-12T14:40:00Z</ObservationTime>
			<ObservationCode>
				<Code>VS3</Code>
				<Description>Pulse</Description>
				<ObservationValueUnits>
					<Code>BT/MIN</Code>
					<Description>bt/min</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>87.8</ObservationValue>
			<EnteredBy>
				<Code>NrOT</Code>
				<Description>Nurse Operating Theater </Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-12T14:40:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-11-12T14:40:00Z</ObservationTime>
			<ObservationCode>
				<Code>VS5</Code>
				<Description>Temperature</Description>
				<ObservationValueUnits>
					<Code>DEGREEC</Code>
					<Description>°C</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>37.5</ObservationValue>
			<EnteredBy>
				<Code>NrOT</Code>
				<Description>Nurse Operating Theater </Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-12T14:40:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-11-12T14:40:00Z</ObservationTime>
			<ObservationCode>
				<Code>VS6</Code>
				<Description>Oxygen Saturation</Description>
				<ObservationValueUnits>
					<Code>%</Code>
					<Description>%</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>98.8</ObservationValue>
			<EnteredBy>
				<Code>NrOT</Code>
				<Description>Nurse Operating Theater </Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-12T14:40:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-11-12T02:29:00Z</ObservationTime>
			<ObservationCode>
				<Code>TC.CARDodma</Code>
				<Description>Oedema Pitting</Description>
				<ObservationValueUnits>
					<Code>NULL</Code>
					<Description>NULL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>01</ObservationValue>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-12T02:29:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-11-11T22:00:00Z</ObservationTime>
			<ObservationCode>
				<Code>TC.PCD</Code>
				<Description>Position Changed</Description>
				<ObservationValueUnits>
					<Code>NULL</Code>
					<Description>NULL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>1</ObservationValue>
			<EnteredBy>
				<Code>NrICU</Code>
				<Description>Nurse ICU</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-11T22:00:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-11-11T22:00:00Z</ObservationTime>
			<ObservationCode>
				<Code>MEXXNICUP</Code>
				<Description>Position</Description>
				<ObservationValueUnits>
					<Code>NULL</Code>
					<Description>NULL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>R</ObservationValue>
			<EnteredBy>
				<Code>NrICU</Code>
				<Description>Nurse ICU</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-11T22:00:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-11-11T22:00:00Z</ObservationTime>
			<ObservationCode>
				<Code>TC.EyeCare</Code>
				<Description>Eye Care</Description>
				<ObservationValueUnits>
					<Code>NULL</Code>
					<Description>NULL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>2</ObservationValue>
			<EnteredBy>
				<Code>NrICU</Code>
				<Description>Nurse ICU</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-11T22:00:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-11-11T22:00:00Z</ObservationTime>
			<ObservationCode>
				<Code>TC.GEN003</Code>
				<Description>Mouth Care</Description>
				<ObservationValueUnits>
					<Code>NULL</Code>
					<Description>NULL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>2</ObservationValue>
			<EnteredBy>
				<Code>NrICU</Code>
				<Description>Nurse ICU</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-11T22:00:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-11-11T22:00:00Z</ObservationTime>
			<ObservationCode>
				<Code>MEMEGNCBACK</Code>
				<Description>Back Care</Description>
				<ObservationValueUnits>
					<Code>NULL</Code>
					<Description>NULL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>Y</ObservationValue>
			<EnteredBy>
				<Code>NrICU</Code>
				<Description>Nurse ICU</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-11T22:00:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-11-11T22:00:00Z</ObservationTime>
			<ObservationCode>
				<Code>MEMEGNCFW</Code>
				<Description>Full Wash</Description>
				<ObservationValueUnits>
					<Code>NULL</Code>
					<Description>NULL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>Y</ObservationValue>
			<EnteredBy>
				<Code>NrICU</Code>
				<Description>Nurse ICU</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-11T22:00:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-11-11T16:00:00Z</ObservationTime>
			<ObservationCode>
				<Code>TC.FBOI</Code>
				<Description>Oral Intake</Description>
				<ObservationValueUnits>
					<Code>NULL</Code>
					<Description>NULL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>200</ObservationValue>
			<EnteredBy>
				<Code>NrICU</Code>
				<Description>Nurse ICU</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-11T16:00:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-11-11T18:00:00Z</ObservationTime>
			<ObservationCode>
				<Code>TC.FBOI</Code>
				<Description>Oral Intake</Description>
				<ObservationValueUnits>
					<Code>NULL</Code>
					<Description>NULL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>100</ObservationValue>
			<EnteredBy>
				<Code>NrICU</Code>
				<Description>Nurse ICU</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-11T18:00:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-11-11T17:00:00Z</ObservationTime>
			<ObservationCode>
				<Code>IVCRY</Code>
				<Description>IV Crystalloids</Description>
				<ObservationValueUnits>
					<Code>ML</Code>
					<Description>mL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>100</ObservationValue>
			<EnteredBy>
				<Code>NrICU</Code>
				<Description>Nurse ICU</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-11T17:00:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>IP0000006260</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-11-11T19:00:00Z</ObservationTime>
			<ObservationCode>
				<Code>IVCRY</Code>
				<Description>IV Crystalloids</Description>
				<ObservationValueUnits>
					<Code>ML</Code>
					<Description>mL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>100</ObservationValue>
			<EnteredBy>
				<Code>NrICU</Code>
				<Description>Nurse ICU</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-11-11T19:00:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283934</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-12-06T12:53:00Z</ObservationTime>
			<ObservationCode>
				<Code>WEIGHT</Code>
				<Description>Weight </Description>
				<ObservationValueUnits>
					<Code>KG</Code>
					<Description>kg</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>78</ObservationValue>
			<EnteredBy>
				<Code>NrOPD</Code>
				<Description>Nurse Outpatients</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-12-06T12:53:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283934</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-12-06T12:53:00Z</ObservationTime>
			<ObservationCode>
				<Code>VSMAP</Code>
				<Description>Mean Blood Pressure (calculated)</Description>
				<ObservationValueUnits>
					<Code>MMHG</Code>
					<Description>mmHg</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>100</ObservationValue>
			<EnteredBy>
				<Code>NrOPD</Code>
				<Description>Nurse Outpatients</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-12-06T12:53:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283934</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-12-06T12:53:00Z</ObservationTime>
			<ObservationCode>
				<Code>TC.BSA</Code>
				<Description>Body Surface Area</Description>
				<ObservationValueUnits>
					<Code>NULL</Code>
					<Description>NULL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>4.29</ObservationValue>
			<EnteredBy>
				<Code>NrOPD</Code>
				<Description>Nurse Outpatients</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-12-06T12:53:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283934</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-12-06T12:53:00Z</ObservationTime>
			<ObservationCode>
				<Code>MEXX.IBW</Code>
				<Description>Ideal Body Weight (calculated)</Description>
				<ObservationValueUnits>
					<Code>NULL</Code>
					<Description>NULL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>0.00</ObservationValue>
			<EnteredBy>
				<Code>NrOPD</Code>
				<Description>Nurse Outpatients</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-12-06T12:53:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283934</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-12-06T12:53:00Z</ObservationTime>
			<ObservationCode>
				<Code>TC.MAP</Code>
				<Description>Mean Arterial Pressure (MAP)</Description>
				<ObservationValueUnits>
					<Code>NULL</Code>
					<Description>NULL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>200</ObservationValue>
			<EnteredBy>
				<Code>NrOPD</Code>
				<Description>Nurse Outpatients</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-12-06T12:53:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283934</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-12-06T12:53:00Z</ObservationTime>
			<ObservationCode>
				<Code>EWS00</Code>
				<Description>EWS Total</Description>
				<ObservationValueUnits>
					<Code>PTS</Code>
					<Description>pts</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>0</ObservationValue>
			<EnteredBy>
				<Code>NrOPD</Code>
				<Description>Nurse Outpatients</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-12-06T12:53:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283934</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-12-06T12:56:00Z</ObservationTime>
			<ObservationCode>
				<Code>WEIGHT</Code>
				<Description>Weight </Description>
				<ObservationValueUnits>
					<Code>KG</Code>
					<Description>kg</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>75</ObservationValue>
			<EnteredBy>
				<Code>NrOPD</Code>
				<Description>Nurse Outpatients</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-12-06T12:56:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283934</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-12-06T12:53:00Z</ObservationTime>
			<ObservationCode>
				<Code>HEIGHT</Code>
				<Description>Height (Ht)</Description>
				<ObservationValueUnits>
					<Code>CM</Code>
					<Description>cm</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>175</ObservationValue>
			<EnteredBy>
				<Code>NrOPD</Code>
				<Description>Nurse Outpatients</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-12-06T12:53:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283934</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-12-06T12:56:00Z</ObservationTime>
			<ObservationCode>
				<Code>HEIGHT</Code>
				<Description>Height (Ht)</Description>
				<ObservationValueUnits>
					<Code>CM</Code>
					<Description>cm</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>175</ObservationValue>
			<EnteredBy>
				<Code>NrOPD</Code>
				<Description>Nurse Outpatients</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-12-06T12:56:00Z</EnteredOn>
		</Observation>
		
		<Observation>
			
			<EncounterNumber>OP0000283934</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-12-06T12:56:00Z</ObservationTime>
			<ObservationCode>
				<Code>VS1</Code>
				<Description>Systolic</Description>
				<ObservationValueUnits>
					<Code>MMHG</Code>
					<Description>mmHg</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>130</ObservationValue>
			<EnteredBy>
				<Code>NrOPD</Code>
				<Description>Nurse Outpatients</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-12-06T12:56:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283934</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-12-06T12:56:00Z</ObservationTime>
			<ObservationCode>
				<Code>VS2</Code>
				<Description>Diastolic</Description>
				<ObservationValueUnits>
					<Code>MMHG</Code>
					<Description>mmHg</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>80</ObservationValue>
			<EnteredBy>
				<Code>NrOPD</Code>
				<Description>Nurse Outpatients</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-12-06T12:56:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283934</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-12-06T12:56:00Z</ObservationTime>
			<ObservationCode>
				<Code>VSMAP</Code>
				<Description>Mean Blood Pressure (calculated)</Description>
				<ObservationValueUnits>
					<Code>MMHG</Code>
					<Description>mmHg</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>97</ObservationValue>
			<EnteredBy>
				<Code>NrOPD</Code>
				<Description>Nurse Outpatients</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-12-06T12:56:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283934</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-12-06T12:56:00Z</ObservationTime>
			<ObservationCode>
				<Code>TC.BSA</Code>
				<Description>Body Surface Area</Description>
				<ObservationValueUnits>
					<Code>NULL</Code>
					<Description>NULL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>4.22</ObservationValue>
			<EnteredBy>
				<Code>NrOPD</Code>
				<Description>Nurse Outpatients</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-12-06T12:56:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283934</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-12-06T12:56:00Z</ObservationTime>
			<ObservationCode>
				<Code>MEXX.IBW</Code>
				<Description>Ideal Body Weight (calculated)</Description>
				<ObservationValueUnits>
					<Code>NULL</Code>
					<Description>NULL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>0.00</ObservationValue>
			<EnteredBy>
				<Code>NrOPD</Code>
				<Description>Nurse Outpatients</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-12-06T12:56:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283934</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-12-06T12:56:00Z</ObservationTime>
			<ObservationCode>
				<Code>TC.MAP</Code>
				<Description>Mean Arterial Pressure (MAP)</Description>
				<ObservationValueUnits>
					<Code>NULL</Code>
					<Description>NULL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>193</ObservationValue>
			<EnteredBy>
				<Code>NrOPD</Code>
				<Description>Nurse Outpatients</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-12-06T12:56:00Z</EnteredOn>
		</Observation>
		
		<Observation>
			
			<EncounterNumber>OP0000283934</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-12-06T12:56:00Z</ObservationTime>
			<ObservationCode>
				<Code>EWS00</Code>
				<Description>EWS Total</Description>
				<ObservationValueUnits>
					<Code>PTS</Code>
					<Description>pts</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>0</ObservationValue>
			<EnteredBy>
				<Code>NrOPD</Code>
				<Description>Nurse Outpatients</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-12-06T12:56:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283934</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-12-06T13:59:00Z</ObservationTime>
			<ObservationCode>
				<Code>VS1</Code>
				<Description>Systolic</Description>
				<ObservationValueUnits>
					<Code>MMHG</Code>
					<Description>mmHg</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>130</ObservationValue>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-12-06T13:59:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283934</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-12-06T13:59:00Z</ObservationTime>
			<ObservationCode>
				<Code>VS2</Code>
				<Description>Diastolic</Description>
				<ObservationValueUnits>
					<Code>MMHG</Code>
					<Description>mmHg</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>80</ObservationValue>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-12-06T13:59:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283934</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-12-06T13:59:00Z</ObservationTime>
			<ObservationCode>
				<Code>VSMAP</Code>
				<Description>Mean Blood Pressure (calculated)</Description>
				<ObservationValueUnits>
					<Code>MMHG</Code>
					<Description>mmHg</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>97</ObservationValue>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-12-06T13:59:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283934</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-12-06T13:59:00Z</ObservationTime>
			<ObservationCode>
				<Code>TC.MAP</Code>
				<Description>Mean Arterial Pressure (MAP)</Description>
				<ObservationValueUnits>
					<Code>NULL</Code>
					<Description>NULL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>193</ObservationValue>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-12-06T13:59:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283934</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-12-06T13:59:00Z</ObservationTime>
			<ObservationCode>
				<Code>EWS00</Code>
				<Description>EWS Total</Description>
				<ObservationValueUnits>
					<Code>PTS</Code>
					<Description>pts</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>0</ObservationValue>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-12-06T13:59:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283934</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-12-06T12:53:00Z</ObservationTime>
			<ObservationCode>
				<Code>VS1</Code>
				<Description>Systolic</Description>
				<ObservationValueUnits>
					<Code>MMHG</Code>
					<Description>mmHg</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>120</ObservationValue>
			<EnteredBy>
				<Code>NrOPD</Code>
				<Description>Nurse Outpatients</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-12-06T12:53:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283934</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-12-06T12:53:00Z</ObservationTime>
			<ObservationCode>
				<Code>VS2</Code>
				<Description>Diastolic</Description>
				<ObservationValueUnits>
					<Code>MMHG</Code>
					<Description>mmHg</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>90</ObservationValue>
			<EnteredBy>
				<Code>NrOPD</Code>
				<Description>Nurse Outpatients</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-12-06T12:53:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283934</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-12-06T12:53:00Z</ObservationTime>
			<ObservationCode>
				<Code>VS3</Code>
				<Description>Pulse</Description>
				<ObservationValueUnits>
					<Code>BT/MIN</Code>
					<Description>bt/min</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>80</ObservationValue>
			<EnteredBy>
				<Code>NrOPD</Code>
				<Description>Nurse Outpatients</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-12-06T12:53:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283934</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-12-06T12:53:00Z</ObservationTime>
			<ObservationCode>
				<Code>VS4</Code>
				<Description>Respirations</Description>
				<ObservationValueUnits>
					<Code>BR/MIN</Code>
					<Description>br/min</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>14</ObservationValue>
			<EnteredBy>
				<Code>NrOPD</Code>
				<Description>Nurse Outpatients</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-12-06T12:53:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283934</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-12-06T12:53:00Z</ObservationTime>
			<ObservationCode>
				<Code>MEXXICUSPO2</Code>
				<Description>SPO2</Description>
				<ObservationValueUnits>
					<Code>NULL</Code>
					<Description>NULL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>99</ObservationValue>
			<EnteredBy>
				<Code>NrOPD</Code>
				<Description>Nurse Outpatients</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-12-06T12:53:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283934</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-12-06T12:53:00Z</ObservationTime>
			<ObservationCode>
				<Code>VS5</Code>
				<Description>Temperature</Description>
				<ObservationValueUnits>
					<Code>DEGREEC</Code>
					<Description>°C</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>38</ObservationValue>
			<EnteredBy>
				<Code>NrOPD</Code>
				<Description>Nurse Outpatients</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-12-06T12:53:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283942</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-12-14T15:11:00Z</ObservationTime>
			<ObservationCode>
				<Code>WEIGHT</Code>
				<Description>Weight </Description>
				<ObservationValueUnits>
					<Code>KG</Code>
					<Description>kg</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>80</ObservationValue>
			<EnteredBy>
				<Code>NrOPD</Code>
				<Description>Nurse Outpatients</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-12-14T15:11:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283942</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-12-14T15:11:00Z</ObservationTime>
			<ObservationCode>
				<Code>VSMAP</Code>
				<Description>Mean Blood Pressure (calculated)</Description>
				<ObservationValueUnits>
					<Code>MMHG</Code>
					<Description>mmHg</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>93</ObservationValue>
			<EnteredBy>
				<Code>NrOPD</Code>
				<Description>Nurse Outpatients</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-12-14T15:11:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283942</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-12-14T15:11:00Z</ObservationTime>
			<ObservationCode>
				<Code>TC.BSA</Code>
				<Description>Body Surface Area</Description>
				<ObservationValueUnits>
					<Code>NULL</Code>
					<Description>NULL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>4.25</ObservationValue>
			<EnteredBy>
				<Code>NrOPD</Code>
				<Description>Nurse Outpatients</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-12-14T15:11:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283942</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-12-14T15:11:00Z</ObservationTime>
			<ObservationCode>
				<Code>MEXX.IBW</Code>
				<Description>Ideal Body Weight (calculated)</Description>
				<ObservationValueUnits>
					<Code>NULL</Code>
					<Description>NULL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>0.00</ObservationValue>
			<EnteredBy>
				<Code>NrOPD</Code>
				<Description>Nurse Outpatients</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-12-14T15:11:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283942</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-12-14T15:11:00Z</ObservationTime>
			<ObservationCode>
				<Code>TC.MAP</Code>
				<Description>Mean Arterial Pressure (MAP)</Description>
				<ObservationValueUnits>
					<Code>NULL</Code>
					<Description>NULL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>187</ObservationValue>
			<EnteredBy>
				<Code>NrOPD</Code>
				<Description>Nurse Outpatients</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-12-14T15:11:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283942</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-12-14T15:11:00Z</ObservationTime>
			<ObservationCode>
				<Code>EWS00</Code>
				<Description>EWS Total</Description>
				<ObservationValueUnits>
					<Code>PTS</Code>
					<Description>pts</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>0</ObservationValue>
			<EnteredBy>
				<Code>NrOPD</Code>
				<Description>Nurse Outpatients</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-12-14T15:11:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283942</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-12-14T15:11:00Z</ObservationTime>
			<ObservationCode>
				<Code>HEIGHT</Code>
				<Description>Height (Ht)</Description>
				<ObservationValueUnits>
					<Code>CM</Code>
					<Description>cm</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>170</ObservationValue>
			<EnteredBy>
				<Code>NrOPD</Code>
				<Description>Nurse Outpatients</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-12-14T15:11:00Z</EnteredOn>
		</Observation>
		
		<Observation>
			
			<EncounterNumber>OP0000283942</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-12-14T15:11:00Z</ObservationTime>
			<ObservationCode>
				<Code>VS1</Code>
				<Description>Systolic</Description>
				<ObservationValueUnits>
					<Code>MMHG</Code>
					<Description>mmHg</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>120</ObservationValue>
			<EnteredBy>
				<Code>NrOPD</Code>
				<Description>Nurse Outpatients</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-12-14T15:11:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283942</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-12-14T15:11:00Z</ObservationTime>
			<ObservationCode>
				<Code>VS2</Code>
				<Description>Diastolic</Description>
				<ObservationValueUnits>
					<Code>MMHG</Code>
					<Description>mmHg</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>80</ObservationValue>
			<EnteredBy>
				<Code>NrOPD</Code>
				<Description>Nurse Outpatients</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-12-14T15:11:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283942</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-12-14T15:11:00Z</ObservationTime>
			<ObservationCode>
				<Code>VS3</Code>
				<Description>Pulse</Description>
				<ObservationValueUnits>
					<Code>BT/MIN</Code>
					<Description>bt/min</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>70</ObservationValue>
			<EnteredBy>
				<Code>NrOPD</Code>
				<Description>Nurse Outpatients</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-12-14T15:11:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283942</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-12-14T15:11:00Z</ObservationTime>
			<ObservationCode>
				<Code>VS4</Code>
				<Description>Respirations</Description>
				<ObservationValueUnits>
					<Code>BR/MIN</Code>
					<Description>br/min</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>14</ObservationValue>
			<EnteredBy>
				<Code>NrOPD</Code>
				<Description>Nurse Outpatients</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-12-14T15:11:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283942</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-12-14T15:11:00Z</ObservationTime>
			<ObservationCode>
				<Code>MEXXICUSPO2</Code>
				<Description>SPO2</Description>
				<ObservationValueUnits>
					<Code>NULL</Code>
					<Description>NULL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>99</ObservationValue>
			<EnteredBy>
				<Code>NrOPD</Code>
				<Description>Nurse Outpatients</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-12-14T15:11:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283942</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2020-12-14T15:11:00Z</ObservationTime>
			<ObservationCode>
				<Code>VS5</Code>
				<Description>Temperature</Description>
				<ObservationValueUnits>
					<Code>DEGREEC</Code>
					<Description>°C</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>37</ObservationValue>
			<EnteredBy>
				<Code>NrOPD</Code>
				<Description>Nurse Outpatients</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2020-12-14T15:11:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>EM0000025197</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2021-02-22T14:24:00Z</ObservationTime>
			<ObservationCode>
				<Code>EWS00</Code>
				<Description>EWS Total</Description>
				<ObservationValueUnits>
					<Code>PTS</Code>
					<Description>pts</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>2</ObservationValue>
			<EnteredBy>
				<Code>nrtr</Code>
				<Description>Nurse ED Triage</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2021-02-22T14:24:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>IP0000006263</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2021-07-27T12:42:00Z</ObservationTime>
			<ObservationCode>
				<Code>HEIGHT</Code>
				<Description>Height (Ht)</Description>
				<ObservationValueUnits>
					<Code>CM</Code>
					<Description>cm</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>175</ObservationValue>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2021-07-27T12:42:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>IP0000006263</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2021-07-27T12:42:00Z</ObservationTime>
			<ObservationCode>
				<Code>WEIGHT</Code>
				<Description>Weight </Description>
				<ObservationValueUnits>
					<Code>KG</Code>
					<Description>kg</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>78</ObservationValue>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2021-07-27T12:42:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>IP0000006263</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2021-07-27T10:15:00Z</ObservationTime>
			<ObservationCode>
				<Code>TC.FBOI</Code>
				<Description>Oral Intake</Description>
				<ObservationValueUnits>
					<Code>NULL</Code>
					<Description>NULL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>200</ObservationValue>
			<EnteredBy>
				<Code>NrICU</Code>
				<Description>Nurse ICU</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2021-07-27T10:15:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>IP0000006263</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2021-07-27T11:00:00Z</ObservationTime>
			<ObservationCode>
				<Code>TC.FBOI</Code>
				<Description>Oral Intake</Description>
				<ObservationValueUnits>
					<Code>NULL</Code>
					<Description>NULL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>100</ObservationValue>
			<EnteredBy>
				<Code>NrICU</Code>
				<Description>Nurse ICU</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2021-07-27T11:00:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>IP0000006263</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2021-07-27T10:30:00Z</ObservationTime>
			<ObservationCode>
				<Code>MEXXIVMEDS</Code>
				<Description>IV Medications</Description>
				<ObservationValueUnits>
					<Code>NULL</Code>
					<Description>NULL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>100</ObservationValue>
			<EnteredBy>
				<Code>NrICU</Code>
				<Description>Nurse ICU</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2021-07-27T10:30:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>IP0000006263</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2021-07-27T10:45:00Z</ObservationTime>
			<ObservationCode>
				<Code>MEXXIVMEDS</Code>
				<Description>IV Medications</Description>
				<ObservationValueUnits>
					<Code>NULL</Code>
					<Description>NULL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>50</ObservationValue>
			<EnteredBy>
				<Code>NrICU</Code>
				<Description>Nurse ICU</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2021-07-27T10:45:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>IP0000006263</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2021-05-20T12:49:00Z</ObservationTime>
			<ObservationCode>
				<Code>TC.CARDodma</Code>
				<Description>Oedema Pitting</Description>
				<ObservationValueUnits>
					<Code>NULL</Code>
					<Description>NULL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>03</ObservationValue>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2021-05-20T12:49:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283972</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2021-03-02T08:17:00Z</ObservationTime>
			<ObservationCode>
				<Code>WEIGHT</Code>
				<Description>Weight </Description>
				<ObservationValueUnits>
					<Code>KG</Code>
					<Description>kg</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>70</ObservationValue>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2021-03-02T08:17:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283972</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2021-03-02T08:17:00Z</ObservationTime>
			<ObservationCode>
				<Code>HEIGHT</Code>
				<Description>Height (Ht)</Description>
				<ObservationValueUnits>
					<Code>CM</Code>
					<Description>cm</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>177</ObservationValue>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2021-03-02T08:17:00Z</EnteredOn>
		</Observation>
		
		<Observation>
			
			<EncounterNumber>OP0000283972</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2021-03-02T08:17:00Z</ObservationTime>
			<ObservationCode>
				<Code>VS1</Code>
				<Description>Systolic</Description>
				<ObservationValueUnits>
					<Code>MMHG</Code>
					<Description>mmHg</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>120</ObservationValue>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2021-03-02T08:17:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283972</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2021-03-02T08:17:00Z</ObservationTime>
			<ObservationCode>
				<Code>VS2</Code>
				<Description>Diastolic</Description>
				<ObservationValueUnits>
					<Code>MMHG</Code>
					<Description>mmHg</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>77</ObservationValue>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2021-03-02T08:17:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283972</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2021-03-02T08:17:00Z</ObservationTime>
			<ObservationCode>
				<Code>VS3</Code>
				<Description>Pulse</Description>
				<ObservationValueUnits>
					<Code>BT/MIN</Code>
					<Description>bt/min</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>70</ObservationValue>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2021-03-02T08:17:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283972</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2021-03-02T08:17:00Z</ObservationTime>
			<ObservationCode>
				<Code>VS4</Code>
				<Description>Respirations</Description>
				<ObservationValueUnits>
					<Code>BR/MIN</Code>
					<Description>br/min</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>15</ObservationValue>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2021-03-02T08:17:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283972</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2021-03-02T08:17:00Z</ObservationTime>
			<ObservationCode>
				<Code>MEXXICUSPO2</Code>
				<Description>SPO2</Description>
				<ObservationValueUnits>
					<Code>NULL</Code>
					<Description>NULL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>98</ObservationValue>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2021-03-02T08:17:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283972</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2021-03-02T08:17:00Z</ObservationTime>
			<ObservationCode>
				<Code>VS5</Code>
				<Description>Temperature</Description>
				<ObservationValueUnits>
					<Code>DEGREEC</Code>
					<Description>°C</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>36.8</ObservationValue>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2021-03-02T08:17:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283972</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2021-03-02T08:17:00Z</ObservationTime>
			<ObservationCode>
				<Code>VSMAP</Code>
				<Description>Mean Blood Pressure (calculated)</Description>
				<ObservationValueUnits>
					<Code>MMHG</Code>
					<Description>mmHg</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>91</ObservationValue>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2021-03-02T08:17:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283972</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2021-03-02T08:17:00Z</ObservationTime>
			<ObservationCode>
				<Code>TC.BSA</Code>
				<Description>Body Surface Area</Description>
				<ObservationValueUnits>
					<Code>NULL</Code>
					<Description>NULL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>4.14</ObservationValue>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2021-03-02T08:17:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283972</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2021-03-02T08:17:00Z</ObservationTime>
			<ObservationCode>
				<Code>MEXX.IBW</Code>
				<Description>Ideal Body Weight (calculated)</Description>
				<ObservationValueUnits>
					<Code>NULL</Code>
					<Description>NULL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>0.00</ObservationValue>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2021-03-02T08:17:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283972</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2021-03-02T08:17:00Z</ObservationTime>
			<ObservationCode>
				<Code>TC.MAP</Code>
				<Description>Mean Arterial Pressure (MAP)</Description>
				<ObservationValueUnits>
					<Code>NULL</Code>
					<Description>NULL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>183</ObservationValue>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2021-03-02T08:17:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283972</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2021-03-02T08:17:00Z</ObservationTime>
			<ObservationCode>
				<Code>EWS00</Code>
				<Description>EWS Total</Description>
				<ObservationValueUnits>
					<Code>PTS</Code>
					<Description>pts</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>0</ObservationValue>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2021-03-02T08:17:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283972</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2021-02-17T08:16:00Z</ObservationTime>
			<ObservationCode>
				<Code>WEIGHT</Code>
				<Description>Weight </Description>
				<ObservationValueUnits>
					<Code>KG</Code>
					<Description>kg</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>70</ObservationValue>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2021-02-17T08:16:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283972</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2021-02-17T08:16:00Z</ObservationTime>
			<ObservationCode>
				<Code>VSMAP</Code>
				<Description>Mean Blood Pressure (calculated)</Description>
				<ObservationValueUnits>
					<Code>MMHG</Code>
					<Description>mmHg</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>97</ObservationValue>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2021-02-17T08:16:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283972</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2021-02-17T08:16:00Z</ObservationTime>
			<ObservationCode>
				<Code>TC.BSA</Code>
				<Description>Body Surface Area</Description>
				<ObservationValueUnits>
					<Code>NULL</Code>
					<Description>NULL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>4.14</ObservationValue>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2021-02-17T08:16:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283972</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2021-02-17T08:16:00Z</ObservationTime>
			<ObservationCode>
				<Code>MEXX.IBW</Code>
				<Description>Ideal Body Weight (calculated)</Description>
				<ObservationValueUnits>
					<Code>NULL</Code>
					<Description>NULL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>0.00</ObservationValue>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2021-02-17T08:16:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283972</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2021-02-17T08:16:00Z</ObservationTime>
			<ObservationCode>
				<Code>TC.MAP</Code>
				<Description>Mean Arterial Pressure (MAP)</Description>
				<ObservationValueUnits>
					<Code>NULL</Code>
					<Description>NULL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>193</ObservationValue>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2021-02-17T08:16:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283972</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2021-02-17T08:16:00Z</ObservationTime>
			<ObservationCode>
				<Code>EWS00</Code>
				<Description>EWS Total</Description>
				<ObservationValueUnits>
					<Code>PTS</Code>
					<Description>pts</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>0</ObservationValue>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2021-02-17T08:16:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283972</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2021-02-17T08:16:00Z</ObservationTime>
			<ObservationCode>
				<Code>HEIGHT</Code>
				<Description>Height (Ht)</Description>
				<ObservationValueUnits>
					<Code>CM</Code>
					<Description>cm</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>177</ObservationValue>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2021-02-17T08:16:00Z</EnteredOn>
		</Observation>
		
		<Observation>
			
			<EncounterNumber>OP0000283972</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2021-02-17T08:16:00Z</ObservationTime>
			<ObservationCode>
				<Code>VS1</Code>
				<Description>Systolic</Description>
				<ObservationValueUnits>
					<Code>MMHG</Code>
					<Description>mmHg</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>130</ObservationValue>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2021-02-17T08:16:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283972</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2021-02-17T08:16:00Z</ObservationTime>
			<ObservationCode>
				<Code>VS2</Code>
				<Description>Diastolic</Description>
				<ObservationValueUnits>
					<Code>MMHG</Code>
					<Description>mmHg</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>80</ObservationValue>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2021-02-17T08:16:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283972</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2021-02-17T08:16:00Z</ObservationTime>
			<ObservationCode>
				<Code>VS3</Code>
				<Description>Pulse</Description>
				<ObservationValueUnits>
					<Code>BT/MIN</Code>
					<Description>bt/min</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>67</ObservationValue>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2021-02-17T08:16:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283972</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2021-02-17T08:16:00Z</ObservationTime>
			<ObservationCode>
				<Code>VS4</Code>
				<Description>Respirations</Description>
				<ObservationValueUnits>
					<Code>BR/MIN</Code>
					<Description>br/min</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>14</ObservationValue>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2021-02-17T08:16:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283972</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2021-02-17T08:16:00Z</ObservationTime>
			<ObservationCode>
				<Code>MEXXICUSPO2</Code>
				<Description>SPO2</Description>
				<ObservationValueUnits>
					<Code>NULL</Code>
					<Description>NULL</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>99</ObservationValue>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2021-02-17T08:16:00Z</EnteredOn>
		</Observation>
		<Observation>
			
			<EncounterNumber>OP0000283972</EncounterNumber>
			<CustomPairs>
				<NVPair>
					<Name>TimeZone</Name>
					<Value>+04:00</Value>
				</NVPair>
			</CustomPairs>
			<ObservationTime>2021-02-17T08:16:00Z</ObservationTime>
			<ObservationCode>
				<Code>VS5</Code>
				<Description>Temperature</Description>
				<ObservationValueUnits>
					<Code>DEGREEC</Code>
					<Description>°C</Description>
				</ObservationValueUnits>
			</ObservationCode>
			<ObservationValue>37</ObservationValue>
			<EnteredBy>
				<Code>DrCard</Code>
				<Description>Dr Cardiology</Description>
			</EnteredBy>
			<EnteredAt>
				<Code>MEXX</Code>
				<Description>MEXX</Description>
			</EnteredAt>
			<EnteredOn>2021-02-17T08:16:00Z</EnteredOn>
		</Observation>
	</Observations>
	<ControlId>124180</ControlId>
	<Action>AddOrUpdate</Action>
	<EventDescription>~ClinicalSummary</EventDescription>
	<UpdateECRDemographics>true</UpdateECRDemographics>
	<SendingFacility>DEMO</SendingFacility>
</Container>
]]></Data>
</XData>
</Class>


<Class name="TC.hmf.FHIR.Demo.Web.SOFA">
<Super>%CSP.Page</Super>
<TimeChanged>66008,27174.676803</TimeChanged>
<TimeCreated>66006,23299.533069</TimeCreated>

<Method name="OnPage">
<ClassMethod>1</ClassMethod>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	
	
	
	set tFHIRUrl="https://localhost/tcfhir/trakdstu2/oauth2"
	set tAppUrl="https://tcfhirsandbox.intersystems.com.au/smart/growth-chart/launch.html"
	set tAppScope="launch patient/*.*"
	set tSMARTOAuth2Client = "OAuth2Client"
	set urn=$Get(%request.Data("urn",1))
	set:urn="" urn="DEMO"
	set url=##class(TC.hmf.FHIR.Installer.FHIR).GetSMARTURL(tFHIRUrl,tAppUrl,tAppScope,tSMARTOAuth2Client,urn,"SMART.growth_chart")
	
	 w !,"sample smart fhir app "
	 w !,"</br>"
	 w !,"urn:"_urn
	 w !,"</br>"
	 w !,"<a href='"_url_"' target='_blank' >"_url_"</a> "
	
	
	 
	Quit $$$OK
]]></Implementation>
</Method>
</Class>


<Class name="TC.hmf.FHIR.Installer.FHIR">
<IncludeCode>HS.HC,HS.FHIRServer</IncludeCode>
<Super>HS.HC.Util.Installer</Super>
<TimeChanged>66031,43707.1707289</TimeChanged>
<TimeCreated>65998,36183.100722</TimeCreated>

<Parameter name="IRISUserName">
<Default>demo</Default>
</Parameter>

<Parameter name="IRISUserPassword">
<Default>demo</Default>
</Parameter>

<Parameter name="TCQueryWebServiceURL">
<Default>http://localhost:57772/csp/healthshare/trak/TC.hmf.System.Service.Inbound.Query.cls</Default>
</Parameter>

<Parameter name="TCOutboundWebServiceURL">
<Default>http://localhost:57772/csp/healthshare/trak/TC.hmf.System.Service.Inbound.SOAP.cls</Default>
</Parameter>

<Parameter name="TCAPIWebServiceURL">
<Default>http://localhost:57772/csp/healthshare/trak/TC.hmf.System.Service.Inbound.SYSAPI.cls</Default>
</Parameter>

<Parameter name="TCAPIUserName">
<Default>demo</Default>
</Parameter>

<Parameter name="TCAPIUserPassword">
<Default>demo</Default>
</Parameter>

<Parameter name="IRISCredntialsName">
<Default>HMF_IRIS_User</Default>
</Parameter>

<Parameter name="TCAPICredntialsName">
<Default>HMF_API_User</Default>
</Parameter>

<Parameter name="TCQueryServiceName">
<Default>HMF_Query_WebService</Default>
</Parameter>

<Parameter name="TCOutboundServiceName">
<Default>HMF_Outbound_WebService</Default>
</Parameter>

<Parameter name="TCAPIServiceName">
<Default>HMF_API_WebService</Default>
</Parameter>

<Method name="UpdateHMFIRISCredntials">
<ClassMethod>1</ClassMethod>
<Implementation><![CDATA[
	//do ##class(TC.hmf.FHIR.Installer.FHIR).InstallFHIR("DSTU2")
	SET Credentials=##class(Ens.Config.Credentials).%OpenId(..#IRISCredntialsName)
	if '$isobject(Credentials) SET Credentials=##class(Ens.Config.Credentials).%New()
	set Credentials.SystemName=..#IRISCredntialsName
	set Credentials.Username=..#IRISUserName
	set Credentials.Password=..#IRISUserPassword
	do Credentials.%Save()
	 quit $$$OK
]]></Implementation>
</Method>

<Method name="UpdateTCAPICredntials">
<ClassMethod>1</ClassMethod>
<Implementation><![CDATA[
	//do ##class(TC.hmf.FHIR.Installer.FHIR).InstallFHIR("DSTU2")
	SET Credentials=##class(Ens.Config.Credentials).%OpenId(..#TCAPICredntialsName)
	if '$isobject(Credentials) SET Credentials=##class(Ens.Config.Credentials).%New()
	set Credentials.SystemName=..#TCAPICredntialsName
	set Credentials.Username=..#TCAPIUserName
	set Credentials.Password=..#TCAPIUserPassword
	do Credentials.%Save()
	 quit $$$OK
]]></Implementation>
</Method>

<Method name="UpdateTCQueryEndPoint">
<ClassMethod>1</ClassMethod>
<Implementation><![CDATA[
	//w ##class(TC.hmf.FHIR.Installer.FHIR).UpdateTCEndPoint("TRAK")
	set endpoint=##class(HS.Registry.Service.SOAP).EndPointForNameType(..#TCQueryServiceName,"SOAP")
	if '$isobject(endpoint ) set endpoint=##class(HS.Registry.Service.SOAP).%New()
	set endpoint.Name=..#TCQueryServiceName
	set pURL=..#TCQueryWebServiceURL
	do endpoint.ParseURL(pURL)
	set endpoint.SSLCheckServerIdentity=0
	set endpoint.UsernameTokenProfileConfig=..#IRISCredntialsName
	
	w endpoint.%Save()
]]></Implementation>
</Method>

<Method name="UpdateTCOutboundEndPoint">
<ClassMethod>1</ClassMethod>
<Implementation><![CDATA[
	//w ##class(TC.hmf.FHIR.Installer.FHIR).UpdateTCEndPoint("TRAK")
	set endpoint=##class(HS.Registry.Service.SOAP).EndPointForNameType(..#TCOutboundServiceName,"SOAP")
	if '$isobject(endpoint ) set endpoint=##class(HS.Registry.Service.SOAP).%New()
	set endpoint.Name=..#TCOutboundServiceName
	set pURL=..#TCOutboundWebServiceURL
	do endpoint.ParseURL(pURL)
	set endpoint.SSLCheckServerIdentity=0
	set endpoint.UsernameTokenProfileConfig=..#IRISCredntialsName
	
	w endpoint.%Save()
]]></Implementation>
</Method>

<Method name="UpdateTCAPIEndPoint">
<ClassMethod>1</ClassMethod>
<Implementation><![CDATA[
	//w ##class(TC.hmf.FHIR.Installer.FHIR).UpdateSYSAPIEndPoint()
	set endpoint=##class(HS.Registry.Service.SOAP).EndPointForNameType(..#TCAPIServiceName,"SOAP")
	if '$isobject(endpoint ) set endpoint=##class(HS.Registry.Service.SOAP).%New()
	set endpoint.Name=..#TCAPIServiceName
	set pURL=..#TCAPIWebServiceURL
	do endpoint.ParseURL(pURL)
	set endpoint.SSLCheckServerIdentity=0
	set endpoint.UsernameTokenProfileConfig=..#IRISCredntialsName
	
	w endpoint.%Save()
]]></Implementation>
</Method>

<Method name="CopyOAuth2Package">
<ClassMethod>1</ClassMethod>
<FormalSpec>pTargetNamespace="%SYS"</FormalSpec>
<Implementation><![CDATA[
	//do ##class(TC.hmf.FHIR.Installer.FHIR).CopyOAuth2Package("%SYS")
	 
	&sql(DECLARE classlist CURSOR FOR select ID into :classname from %Dictionary.ClassDefinition where ID like ('TC.hmf.FHIR.OAuth2%') and Deployed=0 )
 	&sql(OPEN classlist)
 	&sql(FETCH classlist)
 	While (SQLCODE = 0) {
        w !," copy "_classname_" "_..CopyClass(pTargetNamespace,classname,classname,1)
    	&sql(FETCH classlist)
    	
 	}
 	&sql(CLOSE classlist)
]]></Implementation>
</Method>

<Method name="CopyTCFHIRPackage">
<ClassMethod>1</ClassMethod>
<FormalSpec>pTargetNamespace="TCFHIRDSTU2"</FormalSpec>
<Implementation><![CDATA[
	//do ##class(TC.hmf.FHIR.Installer.FHIR).CopyTCFHIRPackage("TCFHIRR4")
	 
	&sql(DECLARE classlist CURSOR FOR select ID into :classname from %Dictionary.ClassDefinition where  ((ID like ('TC.hmf.FHIR%'))  or (ID like ('TrakCare.WebServices%'))) and Deployed=0 )
 	&sql(OPEN classlist)
 	&sql(FETCH classlist)
 	While (SQLCODE = 0) {
        w !," copy "_classname_" "_..CopyClass(pTargetNamespace,classname,classname)
    	&sql(FETCH classlist)
    	
 	}
 	&sql(CLOSE classlist)
 	
 	// (always) compile
]]></Implementation>
</Method>

<Method name="CopyClass">
<ClassMethod>1</ClassMethod>
<FormalSpec>pTargetNamespace:%String,pSrc:%String,pTarget:%String,Compile=0</FormalSpec>
<ReturnType>%Integer</ReturnType>
<Implementation><![CDATA[
	Set tCurrentNS = $Namespace
	New $namespace
	Set $namespace=pTargetNamespace
	// if target does not already exists, copy it in
	if '##class(%Dictionary.ClassDefinition).%ExistsId(pTarget) {
		// check source class exists
		Set $namespace=tCurrentNS
		if '##class(%Dictionary.ClassDefinition).%ExistsId(pSrc) throw ##class(%Exception.StatusException).CreateFromStatus($$$ERROR($$$ClassDoesNotExist,pSrc))
		set tSrcDef = ##class(%Dictionary.ClassDefinition).%OpenId(pSrc)
		set tTargetDef = tSrcDef.%ConstructClone(1)
		set tTargetDef.Name = pTarget
		Set $namespace=pTargetNamespace
		set tSC = tTargetDef.%Save() if $$$ISERR(tSC) throw ##class(%Exception.StatusException).CreateFromStatus(tSC)
		set tCopied=1
	} else { set tCopied=0}
	// (always) compile
	if Compile=1 
	{
		set tSC = $system.OBJ.Compile(pTarget,"ck") 
		if $$$ISERR(tSC) throw ##class(%Exception.StatusException).CreateFromStatus(tSC)
	}
	
	
	
	quit tCopied
]]></Implementation>
</Method>

<Method name="InstallDemo">
<ClassMethod>1</ClassMethod>
<FormalSpec>codepath=""</FormalSpec>
<Implementation><![CDATA[
	set starttime=$h
	
	//do ##class(TC.hmf.FHIR.Installer.FHIR).InstallDemo()
	do ..CopyOAuth2Package("%SYS")
	do ##class(TC.hmf.FHIR.Installer.Oauth2).Setup()
	// smart app 
	do ##class(TCITK.Utils).InstallSmartApp()
	do ##class(TC.hmf.FHIR.Installer.FHIR).InstallFHIRDemo(codepath)
	
	w !,"--------------------------------------"
	w !,"Start Time:",$zdatetime(starttime,4)
	w !,"Complete Time:",$zdatetime($h,4)
	w !,"------------------------------------"
]]></Implementation>
</Method>

<Method name="InstallFHIRDemo">
<ClassMethod>1</ClassMethod>
<FormalSpec>codepath=""</FormalSpec>
<Implementation><![CDATA[
	//do ##class(TC.hmf.FHIR.Installer.FHIR).InstallFHIRDemo("C:\TrakCare-Innovation-ToolKit\src\")

	do ..InstallFHIR("DSTU2","",codepath)
	//do ..InstallFHIR("STU3","",codepath)
	//do ..InstallFHIR("R3","",codepath)
	do ..InstallFHIR("R4","",codepath)
	
	q 1
]]></Implementation>
</Method>

<Method name="ImportCode">
<ClassMethod>1</ClassMethod>
<FormalSpec>codepath</FormalSpec>
<Implementation><![CDATA[
	
	w !,"source path:",codepath
	set sc = $system.OBJ.ImportDir(codepath,"*.cls;*.inc;*.mac;*.xml","cubk",.errors,1)
	write "compile sources  done"
]]></Implementation>
</Method>

<Method name="InstallFHIR">
<ClassMethod>1</ClassMethod>
<FormalSpec>pFHIRVersion="DTU2",pNamespace="",codepath=""</FormalSpec>
<Implementation><![CDATA[
	
	
	
	//do ##class(TC.hmf.FHIR.Installer.FHIR).InstallFHIR("DSTU2")
	//do ##class(TC.hmf.FHIR.Installer.FHIR).InstallFHIR("STU3")
	//do ##class(TC.hmf.FHIR.Installer.FHIR).InstallFHIR("R3")
	//do ##class(TC.hmf.FHIR.Installer.FHIR).InstallFHIR("R4","TRAKR4TEST")
	If '..CheckGetKey() {
		Write !!,"License key not present, cannot install FHIR"
		Quit
	}
	// set namespace 
	if pNamespace'=""
	{
		set tNamespace=pNamespace
	}
	else
	{
		set tNamespace="TRAK"_pFHIRVersion
	}
	
	
	w !,"install FHIR Version:",pFHIRVersion_" Namespace:"_tNamespace
	
	Set tNamespace = $ZConvert(tNamespace, "U")
	Set tNamespaceExists = ..NamespaceExists(tNamespace)
	If 'tNamespaceExists {
		Set tSC = ..InstallFoundation(tNamespace)
		If $$$ISERR(tSC) Quit
	}
	
	
	 
	Set tCurrentNS = $Namespace
	Set $namespace = tNamespace
	
	
	
 	do:codepath'="" ..ImportCode(codepath)
	
	// smart app 
	do ##class(TCITK.Utils).InstallSmartApp()
	
	 
	do ..UpdateHMFIRISCredntials()
	do ..UpdateTCAPICredntials()
	
	 
	do ..UpdateTCQueryEndPoint()
	do ..UpdateTCAPIEndPoint()
	do ..UpdateTCOutboundEndPoint()
	
	
	
	Set $namespace = tCurrentNS
	
	do ..CopyTCFHIRPackage(tNamespace)
	
	
	Set $namespace = tNamespace
	
	set tSC = $system.OBJ.CompilePackage( "TC.hmf","ck") 
 	set tSC = $system.OBJ.CompilePackage( "TrakCare","ck")
	
	Set $namespace = tCurrentNS
	
	// install DSTU2 or STU3
	if ((pFHIRVersion="DSTU2")||(pFHIRVersion="STU3"))
	{
		 
		// set parameters 
		set tFHIRVersion=pFHIRVersion
		set tOauth2App="/tcfhir/"_$zconvert(tNamespace,"l")_"/oauth2"
		set tVars(tFHIRVersion,"CSPApp")="/tcfhir/"_$zconvert(tNamespace,"l")
		set tVars(tFHIRVersion,"CSPOIDCApp")=tOauth2App
		set tVars(tFHIRVersion,"Repo")="Y"
		set appkey=tVars(tFHIRVersion,"CSPApp")
		Write !
		Set tSC = ##class(HS.HC.Util.Installer.Kit.FHIR.HealthConnect).Add( , tNamespace, tFHIRVersion, tVars(tFHIRVersion, "CSPApp"), tVars(tFHIRVersion, "CSPOIDCApp"))
		//If $$$ISERR(tSC) Quit
		// install repo
		If $Get(tVars(tFHIRVersion, "Repo"))="Y" {
			Write !
			Set tSC = ##class(HS.HC.Util.Installer.Kit.FHIR.Repository).Add( , tNamespace, tFHIRVersion, tVars(tFHIRVersion, "CSPApp"))
			//If $$$ISERR(tSC) Quit
		}
		
		
	
		if (pFHIRVersion="DSTU2")
		{
			do ..UpdateLegacyCSPApp(tOauth2App,"TC.hmf.FHIR.vDSTU2.REST.Handler")	
		}
		elseif (pFHIRVersion="STU3")
		{
			do ..UpdateLegacyCSPApp(tOauth2App,"TC.hmf.FHIR.STU3.REST.Handler")	
		}
	
		do ..UpdateFHIRLegacyProduction(pFHIRVersion,tNamespace,appkey )
		
		hang 1
		
		w !,"update production"
		Set $namespace = tNamespace
		
		do ..UpdateCSPAppOAuthClient(tOauth2App,"OAuth2Client")
		
		do ##class(Ens.Director).UpdateProduction(10,1)
		Set $namespace = tCurrentNS
		
		
	
		
		
		
	}
	elseif ((pFHIRVersion="R3")||(pFHIRVersion="R4")) // install R3 or R4
	{
		
		Set tCurrentNS = $Namespace
		set tFHIRVersion=pFHIRVersion
		Set appKey = "/tcfhir/"_$zconvert(tNamespace,"l")
		Set strategyClass = "HS.FHIRServer.Storage.Json.InteractionsStrategy"
		Set metadataPackages = $lb("hl7.fhir.r4.core@4.0.1","hl7.fhir.us.core@3.1.0")

		Set $namespace = tNamespace
		
		w !,"app key:",appKey
		
		
		if (pFHIRVersion="R3") set pMetadataSetKey="HL7v30"
		if (pFHIRVersion="R4") set pMetadataSetKey="HL7v40"
		
		// Install elements that are required for a FHIR-enabled namespace
		Do ##class(HS.FHIRServer.Installer).InstallNamespace()
		// Install an instance of a FHIR Service into the current namespace
		//Do ##class(HS.FHIRServer.Installer).UninstallInstance(appKey ) 
		Do ##class(HS.FHIRServer.Installer).InstallInstance(appKey, strategyClass, pMetadataSetKey )
		
		
		Set $namespace = tCurrentNS
		
		// update the production
		do ..UpdateFHIRServerProduction(tFHIRVersion,appKey,tNamespace)
		
		
		hang 1
		w !,"start production"
		do ..StartActiveProduction(tNamespace)
	 
		
	}
	
	q 1
]]></Implementation>
</Method>

<Method name="Test">
<ClassMethod>1</ClassMethod>
<Implementation><![CDATA[
		set pFHIRVersion="R4"
		set tNamespace="DEVMDI2"
		set tFHIRVersion=pFHIRVersion
		Set appKey = "/tcfhir/"_$zconvert(tNamespace,"l")
		Set strategyClass = "HS.FHIRServer.Storage.Json.InteractionsStrategy"
		Set metadataPackages = $lb("hl7.fhir.r4.core@4.0.1","hl7.fhir.us.core@3.1.0")

		Set $namespace = tNamespace
		
		w !,"app key:",appKey
		
		
		if (pFHIRVersion="R3") set pMetadataSetKey="HL7v30"
		if (pFHIRVersion="R4") set pMetadataSetKey="HL7v40"
		
		// Install elements that are required for a FHIR-enabled namespace
		//Do ##class(HS.FHIRServer.Installer).InstallNamespace()
		// Install an instance of a FHIR Service into the current namespace
		//Do ##class(HS.FHIRServer.Installer).UninstallInstance(appKey ) 
		w ##class(HS.FHIRServer.Installer).InstallInstance(appKey, strategyClass, pMetadataSetKey )
]]></Implementation>
</Method>

<Method name="UpdateLegacyCSPApp">
<ClassMethod>1</ClassMethod>
<FormalSpec>pCSPApp="",pClass=""</FormalSpec>
<Implementation><![CDATA[
	//do ##class(TC.hmf.FHIR.Installer.FHIR).UpdateLegacyCSPApp("/tcfhir/trakdstu2/oauth2","TC.hmf.FHIR.vDSTU2.REST.Handler")
	
	Set tCurrentNS = $Namespace
	Set $namespace = "%SYS"
	if (##class(Security.Applications).Exists(pCSPApp, .tAppObj, .pSC))
	{
		For i = 1:1:tAppObj.MatchRoles.Count() {
			 If (tAppObj.MatchRoles.GetAt(i)["%DB_HSLIB") &&(tAppObj.MatchRoles.GetAt(i)["%DB_IRISSYS") {
				w !, "exist"
				w !,tAppObj.MatchRoles.GetAt(i)
			}
			elseIf (tAppObj.MatchRoles.GetAt(i)["%DB_HSLIB")  {
				w !,tAppObj.MatchRoles.GetAt(i)
				do tAppObj.MatchRoles.SetAt(tAppObj.MatchRoles.GetAt(i)_":%DB_IRISSYS",i)
			}
			 
			 
		}
		 
		set tAppObj.DispatchClass=pClass
		w tAppObj.%Save()
		
		
	}
	
	Set $namespace = tCurrentNS
	
	q 1
]]></Implementation>
</Method>

<Method name="UpdateCSPAppOAuthClient">
<ClassMethod>1</ClassMethod>
<FormalSpec>pCSPApp="",pClient=""</FormalSpec>
<Implementation><![CDATA[
	//do ##class(TC.hmf.FHIR.Installer.FHIR).UpdateCSPAppOAuthClient("/tcfhir/trakdstu2/oauth2","OAuth2Client")
	
	
	
 
	
	set tApplication = $$$AppKeyFromApp(pCSPApp)
	w !,"app:",tApplication,!
	set clientname=""
	set fhircspconfig = $classmethod("HS.Registry.FHIRCSPConfig","URLIndexOpen",tApplication)
	if $isobject(fhircspconfig)  {
		
		if fhircspconfig.UseOAuth=0 quit ""
		set fhircspconfig.ResourceServerOAuthClient=pClient
		set tsc=fhircspconfig.%Save()
		
	}
	
	 
	
	quit tsc
]]></Implementation>
</Method>

<Method name="UpdateFHIRLegacyProduction">
<ClassMethod>1</ClassMethod>
<FormalSpec>pFHIRVersion="R4",pNamespace="",appkey</FormalSpec>
<Implementation><![CDATA[
	//do ##class(TC.hmf.FHIR.Installer.FHIR).UpdateFHIRLegacyProduction("DSTU2","TRAK-FHIR-DSTU2")
	Set tCurrentNS = $Namespace
	Set $namespace = pNamespace
	

	
	
	Set pName =  ##class(Ens.Director).GetActiveProductionName()
	if (pName = ""){
		$$$ThrowFHIR($$$GeneralError, "Namespace "_$namespace_" does not have a production.")
	}
	
	 w !,"update production settings:"_pName
	 
	  Set tSC = ##class(Ens.Director).SetAutoStart(pName,0)
	 
	 do ##class(Ens.Config.Production).LoadFromClass(pName)
	 Set production = ##class(Ens.Config.Production).%OpenId(pName)
	 
	 set InteropServiceName="HS.FHIR.Service."_pFHIRVersion	
	 set InteropOperationName="HS.FHIR.Repository.Operations."_pFHIRVersion
	 set TCRouterProcessName="TCRouter.Process"
	 
	 do ..UpdateTCServices(pFHIRVersion,.production,InteropOperationName,appkey)
	 
	 set existingService = ##class(Ens.Config.Production).OpenItemByConfigName(InteropServiceName)
	if (existingService){
		// Create new business service
		Set settings = 0
		Set settings($I(settings)) = $lb("Host","TargetConfigName","FHIRRouter.Process"_"."_pFHIRVersion)
		Set settings($I(settings)) = $lb("Host","Timeout",300)
		Do existingService.UpdateSettings(.settings)
		 
	}
	

	// Update production
	 
	Do production.SaveToClass()
	$$$ThrowOnError($SYSTEM.OBJ.Compile(pName))
	
 
	
	Set $namespace = tCurrentNS
]]></Implementation>
</Method>

<Method name="UpdateFHIRServerProduction">
<ClassMethod>1</ClassMethod>
<FormalSpec>pFHIRVersion="R4",appKey="/tcfhir/r4",pNamespace=""</FormalSpec>
<Implementation><![CDATA[
	//do ##class(TC.hmf.FHIR.Installer.FHIR).UpdateFHIRServerProduction("R4","/tcfhir/r4","TCFHIRR4")
	
	Set tCurrentNS = $Namespace
	Set $namespace = pNamespace
	

	
	
	Set pName =  ##class(Ens.Director).GetActiveProductionName()
	if (pName = ""){
		$$$ThrowFHIR($$$GeneralError, "Namespace "_$namespace_" does not have a production.")
	}
	
	 w !,"update production settings:"_pName
	 
	 
	 Set tSC = ##class(Ens.Director).SetAutoStart(pName,0)
	
		
	do ##class(Ens.Config.Production).LoadFromClass(pName)
	Set production = ##class(Ens.Config.Production).%OpenId(pName)
		
	set InteropOperationName="InteropOperation."_pFHIRVersion
	set InteropServiceName="InteropService."_pFHIRVersion	
	set TCQueryOperationName="TCOutbound.Operation"
	set TCRouterProcessName="TCRouter.Process"
	
		
	set existingOperation = ##class(Ens.Config.Production).OpenItemByConfigName(InteropOperationName)
	if ('existingOperation){
		// Create new business operation
		Set newOperation = ##class(Ens.Config.Item).%New()
		Set newOperation.Name = InteropOperationName
		Set newOperation.ClassName = "HS.FHIRServer.Interop.Operation"
		Do production.Items.Insert(newOperation)
	}
		
	set existingService = ##class(Ens.Config.Production).OpenItemByConfigName(InteropServiceName)
	if ('existingService){
		// Create new business service
		Set newService = ##class(Ens.Config.Item).%New()
		Set newService.Name = InteropServiceName
		Set newService.ClassName = "HS.FHIRServer.Interop.Service"
		Set settings = 0
		Set settings($I(settings)) = $lb("Host","TargetConfigName","FHIRRouter.Process"_"."_pFHIRVersion)
		Set settings($I(settings)) = $lb("Host","Timeout",300)
		Do newService.UpdateSettings(.settings)
		Do production.Items.Insert(newService)	
	}
	
	set UtilTraceOpName="HS.Util.Trace.Operations"
	set existingTraceOP = ##class(Ens.Config.Production).OpenItemByConfigName(UtilTraceOpName)
	if ('existingTraceOP){
		// Create new trace operation
		Set newService = ##class(Ens.Config.Item).%New()
		Set newService.Name = UtilTraceOpName
		Set newService.ClassName = "HS.Util.Trace.Operations"
		Set settings = 0
		Do newService.UpdateSettings(.settings)
		Do production.Items.Insert(newService)	
	}
	
	
	do ..UpdateTCServices(pFHIRVersion,.production,InteropOperationName,appKey)
	

	// Update production
	 
	Do production.SaveToClass()
	$$$ThrowOnError($SYSTEM.OBJ.Compile(pName))
		

	
	// update end point to use production 
	set cspConfig = ##class(HS.Util.RESTCSPConfig).URLIndexOpen(appKey)
	set cspConfig.ServiceConfigName = InteropServiceName
	set cspConfig.OAuthClientName = ""
	$$$ThrowOnError(cspConfig.%Save())
	
	
	Set $namespace = tCurrentNS
]]></Implementation>
</Method>

<Method name="UpdateTCServices">
<ClassMethod>1</ClassMethod>
<FormalSpec><![CDATA[pFHIRVersion,&production:Ens.Config.Production,InteropOperationName,appKey=""]]></FormalSpec>
<Implementation><![CDATA[
	

	
	set HMFCredntialsName=..#IRISCredntialsName
	 
	
	set production.ActorPoolSize=5
	set production.TestingEnabled=1
	set production.LogGeneralTraceEvents=1
	
	set TCRouterProcessName="TCRouter.Process"
	set TCFHIRRouterName="FHIRRouter.Process"_"."_pFHIRVersion
	set SDAToFHIRProcessName="SDAToFHIR.Process"_"."_pFHIRVersion
	set TCQueryOperationName="TCQuery.Operation"
	set TCOutboundOperationName="TCOutbound.Operation"
	set FHIRToSDAProcessName="FHIRToSDA.Process"_"."_pFHIRVersion
	
 
	if ('##class(Ens.Config.Production).OpenItemByConfigName(TCRouterProcessName)){
		// Create new tc business process
		Set newOperation = ##class(Ens.Config.Item).%New()
		Set newOperation.Name = TCRouterProcessName
		Set newOperation.ClassName = "TC.hmf.FHIR.Server.Process.TCRouter"
		Set settings = 0
		Set settings($I(settings)) = $lb("Host","TCOutboundConfigName",TCOutboundOperationName)
		Set settings($I(settings)) = $lb("Host","TCQueryConfigName","TCQuery.Operation")
		Set settings($I(settings)) = $lb("Host","FHIRVersion",pFHIRVersion)
		set newOperation.LogTraceEvents=1
		Do newOperation.UpdateSettings(.settings)
		Do production.Items.Insert(newOperation)
	}
	
	
	
 
	if ('##class(Ens.Config.Production).OpenItemByConfigName(SDAToFHIRProcessName))
	{
		// Create new sda business process
		Set newOperation = ##class(Ens.Config.Item).%New()
		Set newOperation.Name = SDAToFHIRProcessName
		Set newOperation.ClassName = "TC.hmf.FHIR.Server.Process.SDAToFHIR"
		Set settings = 0
		Set settings($I(settings)) = $lb("Host","FHIRVersion",pFHIRVersion)
		Set settings($I(settings)) = $lb("Host","SessionApplication",appKey)
		set newOperation.LogTraceEvents=1
		Do newOperation.UpdateSettings(.settings)
		Do production.Items.Insert(newOperation)
	}
	
	if ('##class(Ens.Config.Production).OpenItemByConfigName(FHIRToSDAProcessName))
	{
		// Create new sda business process
		Set newOperation = ##class(Ens.Config.Item).%New()
		Set newOperation.Name = FHIRToSDAProcessName
		Set newOperation.ClassName = "TC.hmf.FHIR.Server.Process.FHIRToSDA"
		Set settings = 0
		Set settings($I(settings)) = $lb("Host","TCQueryConfigName",TCQueryOperationName)
		Set settings($I(settings)) = $lb("Host","FHIRVersion",pFHIRVersion)
		set newOperation.LogTraceEvents=1
		Do newOperation.UpdateSettings(.settings)
		Do production.Items.Insert(newOperation)
	}
	 
	if ('##class(Ens.Config.Production).OpenItemByConfigName(TCFHIRRouterName)){
		// Create new sda business process
		Set newOperation = ##class(Ens.Config.Item).%New()
		Set newOperation.Name = TCFHIRRouterName
		Set newOperation.ClassName = "TC.hmf.FHIR.Server.Process.FHIRRouter"
		Set settings = 0
		Set settings($I(settings)) = $lb("Host","FHIRRepoConfigName",InteropOperationName)
		Set settings($I(settings)) = $lb("Host","TCRouterConfigName",TCRouterProcessName)
		Set settings($I(settings)) = $lb("Host","FHIRToSDAConfigName",FHIRToSDAProcessName)
		Set settings($I(settings)) = $lb("Host","SDAToFHIRConfigName",SDAToFHIRProcessName)
		Set settings($I(settings)) = $lb("Host","SessionApplication",appKey)
		Set settings($I(settings)) = $lb("Host","FHIRVersion",pFHIRVersion)
		Set settings($I(settings)) = $lb("Host","DataRefreshInterval",300)
		set newOperation.LogTraceEvents=1
		Do newOperation.UpdateSettings(.settings)
		Do production.Items.Insert(newOperation)
	}
	
	
 
	if (' ##class(Ens.Config.Production).OpenItemByConfigName(TCQueryOperationName)){
		// Create new tc business operation
		Set newOperation = ##class(Ens.Config.Item).%New()
		Set newOperation.Name = TCQueryOperationName
		Set newOperation.ClassName = "TC.hmf.FHIR.Server.Operation.TCQuery"
		Set settings = 0
		Set settings($I(settings)) = $lb("Host","TCQueryService",..#TCQueryServiceName)
		Set settings($I(settings)) = $lb("Adapter","SSLCheckServerIdentity","0")
		Set settings($I(settings)) = $lb("Host","EnabledDataSegments","Alert,Allergy,Encounter,Patient,Problem,RadOrder,LabOrder,Diagnosis,Appointment,Medication,Observation,Vaccination")
		set newOperation.LogTraceEvents=1
		Do newOperation.UpdateSettings(.settings)
		Do production.Items.Insert(newOperation)
	}
	
	
	if (' ##class(Ens.Config.Production).OpenItemByConfigName(TCOutboundOperationName)){
		// Create new tc business operation
		Set newOperation = ##class(Ens.Config.Item).%New()
		Set newOperation.Name = TCOutboundOperationName
		Set newOperation.ClassName = "TC.hmf.FHIR.Server.Operation.TCOutbound"
		Set settings = 0
		Set settings($I(settings)) = $lb("Host","TCOutboundService",..#TCOutboundServiceName)
		Set settings($I(settings)) = $lb("Adapter","SSLCheckServerIdentity","0")
		set newOperation.LogTraceEvents=1
		Do newOperation.UpdateSettings(.settings)
		Do production.Items.Insert(newOperation)
	}
	
	set TRAKRouterService="FHIRRouter.Service"
	if ('##class(Ens.Config.Production).OpenItemByConfigName(TRAKRouterService)){
		// Create new sda business process
		Set newOperation = ##class(Ens.Config.Item).%New()
		Set newOperation.Name = TRAKRouterService
		Set newOperation.ClassName = "TC.hmf.FHIR.Server.Service.FHIRRouterService"
		Set settings = 0
		Set settings($I(settings)) = $lb("Host","FHIRRouterConfigName",TCFHIRRouterName)
		Set settings($I(settings)) = $lb("Host","Timeout",300)
		set newOperation.LogTraceEvents=1
		Do newOperation.UpdateSettings(.settings)
		Do production.Items.Insert(newOperation)
	}
	
	set TCAPIOperation="TCAPI.Operation"
	if ('##class(Ens.Config.Production).OpenItemByConfigName(TCAPIOperation)){
		// Create new sda business process
		Set newOperation = ##class(Ens.Config.Item).%New()
		Set newOperation.Name = TCAPIOperation
		Set newOperation.ClassName = "TrakCare.WebServices.SYSAPI.Production.Operation.TChmfServiceTrakInboundSYSAPISoap"
		Set settings = 0
		Set settings($I(settings)) = $lb("Host","TCAPIService",..#TCAPIServiceName)
		Set settings($I(settings)) = $lb("Host","TCAPIUser",..#TCAPICredntialsName)
		set newOperation.LogTraceEvents=1
		Do newOperation.UpdateSettings(.settings)
		Do production.Items.Insert(newOperation)
	}
	
	set TCAPIService="TCAPI.Service"
	if ('##class(Ens.Config.Production).OpenItemByConfigName(TCAPIService)){
		// Create new sda business process
		Set newOperation = ##class(Ens.Config.Item).%New()
		Set newOperation.Name = TCAPIService
		Set newOperation.ClassName = "TrakCare.WebServices.SYSAPI.Production.Service.TChmfServiceTrakInboundSYSAPISoap"
		Set settings = 0
		Set settings($I(settings)) = $lb("Host","TRAKAPIConfigName",TCAPIOperation)
		Set settings($I(settings)) = $lb("Host","Timeout",600)
		set newOperation.LogTraceEvents=1
		Do newOperation.UpdateSettings(.settings)
		Do production.Items.Insert(newOperation)
	}
	

	
	quit $$$OK
]]></Implementation>
</Method>

<Method name="StartActiveProduction">
<ClassMethod>1</ClassMethod>
<FormalSpec>pNamespace</FormalSpec>
<Implementation><![CDATA[
	
	Set $namespace = pNamespace
	Set pName =  ##class(Ens.Director).GetActiveProductionName()
	Set tCurrentNS = $Namespace
	
	do ##class(HS.HC.Util.Installer).StartProduction(pNamespace,pName,.status)
	w !,"status: ",status
	Set $namespace = tCurrentNS
	quit $$$OK
]]></Implementation>
</Method>

<Method name="NamespaceExists">
<ClassMethod>1</ClassMethod>
<FormalSpec>pNamespace</FormalSpec>
<ReturnType>%Boolean</ReturnType>
<Implementation><![CDATA[
	New $Namespace
	set $namespace="%SYS"
 	// Check if pNamespace already exists
	Quit ##Class(Config.Namespaces).Exists(pNamespace)
]]></Implementation>
</Method>

<Method name="ConfigDemo">
<ClassMethod>1</ClassMethod>
<Implementation><![CDATA[
	//do ##class(TC.hmf.FHIR.Installer.FHIR).ConfigDemo()
	
	
	// copy oauth2 classes to %SYS
]]></Implementation>
</Method>

<Method name="GetSMARTURL">
<Description>
utility to be called by chart to show the smart app </Description>
<ClassMethod>1</ClassMethod>
<FormalSpec>pFHIRUrl,pAppUrl,pAppScope,pAuth2Client,pURN,pClientId</FormalSpec>
<ReturnType>%String</ReturnType>
<Implementation><![CDATA[
	//w ##class(TC.hmf.FHIR.Installer.FHIR).GetSMARTURL("https://localhost/tcfhir/tcdstu2/oauth2","https://tcfhirsandbox.intersystems.com.au/smart/growth-chart/launch.html","launch patient/*.*","OAuth2Client","0072900","SMART.growth_chart")
	 
	set result=""
	set tMPIID=""
	set tMPIID=pURN
	 
	try { set tValid = %session.SessionId }
	catch(terror) { set %session = ##class(%CSP.Session).%New("1"), tKillSession = 1 }
	set tFHIRUrl=pFHIRUrl
	set tAppUrl=pAppUrl
	set tAppScope=pAppScope
	set tAccessToken = ""
	set tSMARTOAuth2Client = pAuth2Client
	if (tSMARTOAuth2Client '= "") {
		set tAccessToken = ""
		if ('##class(%SYS.OAuth2.AccessToken).IsAuthorized(tSMARTOAuth2Client,%session.SessionId,"",.tAccessToken))||(1=1) {
			set tAccessToken = ""
			set properties=3
			set properties("patient")=tMPIID
			set properties("aud")=tSMARTOAuth2Client
			set properties("urn")=tMPIID
			#dim error as %OAuth2.Error
			set result=##class(%SYS.OAuth2.Authorization).GetAccessTokenClient(tSMARTOAuth2Client, tAppScope, .properties,.error)
			w:error'="" !,error.ErrorDescription,!
			if result=1
			{
				do ##class(%SYS.OAuth2.AccessToken).IsAuthorized(tSMARTOAuth2Client,%session.SessionId,"",.tAccessToken)
			}
		}
		
		q:tAccessToken="" ""
		
		//w !,"tAccessToken:",tAccessToken,!
		set tContextObject = {
			"access_token":	(tAccessToken),
				"mpiid":		(tMPIID)
		}
		set tContextJSON = tContextObject.%ToJSON()
		set pLaunchContext = $system.Encryption.Base64Encode(tContextJSON,1)
		if $find(tAppUrl,"?")>0
		{
			set tAppUrl=tAppUrl_"&"
		}
		else
		{
			set tAppUrl=tAppUrl_"?"
		}
		set tUrl = tAppUrl_"iss="_$zconvert(tFHIRUrl,"O","URL")_"&launch="_$zconvert(pLaunchContext,"O","URL")_"&state="_%session.SessionId
		set result=tUrl
		
	 
		
	}
	quit result
]]></Implementation>
</Method>

<Method name="CreateSSLConfig">
<ClassMethod>1</ClassMethod>
<FormalSpec>SSLName="OAuth2SSL"</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	set currentNS = $Namespace
    zn "%SYS"
    Set tSC = $$$OK
    
    
    Set sys = ##class(Security.SSLConfigs).%New()
	Set sys.Name = SSLName
    Set sys.VerifyPeer = 0
    Set sys.Type = 0
    Set sys.Enabled = 1
	Set tSC = sys.%Save()
	zn currentNS

    Quit tSC
]]></Implementation>
</Method>
</Class>


<Class name="TC.hmf.FHIR.Installer.Oauth2">
<Super>%RegisteredObject</Super>
<TimeChanged>66030,45614.4333703</TimeChanged>
<TimeCreated>66006,15612.530814</TimeCreated>

<Method name="Setup">
<ClassMethod>1</ClassMethod>
<Implementation><![CDATA[
	//do ##class(TC.hmf.FHIR.Installer.Oauth2).Setup()
 
 	// patch oauth2
	do ##class(TC.hmf.FHIR.Installer.FHIR).CopyOAuth2Package("%SYS")
	
	
	// configure oauth2
	Do ##class(TC.hmf.FHIR.Installer.FHIR).CreateSSLConfig("OAuth2.SSL")
	Do ..CreateOauth2Server()
	Do ..CreateServerDefinitionForClient()
	Do ..CreateClient()
	
	
	
	
	//W ##class(TC.hmf.FHIR.SMART.Utils).OAuthClientCreateForSMART(1,"growth_chart","https://tcfhirsandbox.intersystems.com.au/smart/growth-chart/","SMART.GrowthChart","SMART.GrowthChart")
	
	write "create oauth2 done"
]]></Implementation>
</Method>

<Method name="CreateOauth2Server">
<ClassMethod>1</ClassMethod>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	set currentNS = $Namespace
    zn "%SYS"
    Set tSC = $$$OK

	Set sys = ##class(OAuth2.Server.Configuration).%New()
	

	Set sys.IssuerEndpoint.Host = "localhost"
	Set sys.IssuerEndpoint.Port = ""
	Set sys.IssuerEndpoint.Prefix = ""

	Set sys.AccessTokenInterval = 3600
	Set sys.AuthorizationCodeInterval = 60
	Set sys.RefreshTokenInterval = 86400
	Set sys.SessionInterval = 86400
	Set sys.ClientSecretInterval = 0
	Do sys.SupportedScopes.Clear()

	Do sys.SupportedScopes.SetAt("openid", "openid")
	Do sys.SupportedScopes.SetAt("profile", "profile")
	Do sys.SupportedScopes.SetAt("scope1", "scope1")
	Do sys.SupportedScopes.SetAt("scope2", "scope2")
	
	 

	Set sys.Description = "ISC OAuth2 Server"
	Set sys.DefaultScope = ""
	Set sys.AllowUnsupportedScope = 1
	Set sys.AudRequired = 0
	Set sys.SupportSession = 1
	Set sys.ReturnRefreshToken = ""
	Set sys.SupportedGrantTypes = "AIPCJ"
	Set sys.CustomizationRoles = "%DB_IRISSYS,%Manager,%ALL"
	Set sys.CustomizationNamespace = "%SYS"
	Set sys.AuthenticateClass = "TC.hmf.FHIR.OAuth2.Authenticate" //
	Set sys.SessionClass = "OAuth2.Server.Session"
	Set sys.ValidateUserClass = "TC.hmf.FHIR.OAuth2.Validate" //
	Set sys.GenerateTokenClass = "%OAuth2.Server.Generate"  
	Set sys.ServerCredentials = ""
	Set sys.ServerPassword = ""
	Set sys.SigningAlgorithm = "RS256"
	Set sys.EncryptionAlgorithm = "A128CBC-HS256"
	Set sys.KeyAlgorithm = "RSA1_5"
	Set sys.SSLConfiguration = "OAuth2.SSL"
	Set tSC = sys.Save()

	zn currentNS

    Quit tSC
]]></Implementation>
</Method>

<Method name="CreateServerDefinitionForClient">
<ClassMethod>1</ClassMethod>
<Implementation><![CDATA[
	set currentNS = $Namespace
	zn "%SYS"
    	Set tSC = $$$OK
    	try
    	{
		Set sys = ##class(OAuth2.ServerDefinition).%New()
		Set sys.IssuerEndpoint = "https://localhost/oauth2"
		Set sys.SSLConfiguration = "OAuth2.SSL"
		Set sys.IsDiscovery = 1
		zw ##class(OAuth2.ServerDefinition).GetServerMetadata("https://localhost/oauth2","OAuth2.SSL",.metadata)
		Set sys.Metadata = metadata
		Set tSC = sys.%Save()
    	}
    	catch
    	{
	    	
	 	w !,"Error , looks like SSL not enabled "   	
    	}

	zn currentNS

    Quit tSC
]]></Implementation>
</Method>

<Method name="CreateClient">
<ClassMethod>1</ClassMethod>
<Implementation><![CDATA[
	
	//do ##class(TC.hmf.FHIR.Installer.Oauth2).CreateClient()
	
	set currentNS = $Namespace
	zn "%SYS"

	Set ServerDefinition = ##class(OAuth2.ServerDefinition).Open(1)
	Set sys = ##class(OAuth2.Client).%New()
	Set sys.ApplicationName = "OAuth2Client"
	Set sys.ServerDefinition = ServerDefinition
	Set sys.Enabled = 1
	Set sys.ClientType = "confidential"
	Set sys.SSLConfiguration = "OAuth2.SSL"
	Set sys.RedirectionEndpoint.UseSSL = 1
	Set sys.RedirectionEndpoint.Host = "localhost"
	Set sys.AuthenticationType = "basic"
	Set sys.Metadata."client_name" = "OAuth2Client"
	w sys.RegisterClient() 

	Set tSC = sys.%Save()
	
	zw tSC

    Set tSC = $$$OK
	
	zn currentNS

    Quit tSC
]]></Implementation>
</Method>
</Class>


<Class name="TC.hmf.FHIR.OAuth2.Authenticate">
<Copyright>/* Copyright (c) 2020 by InterSystems Corporation.
   Cambridge, Massachusetts, U.S.A.  All rights reserved.
   Confidential property of InterSystems Corporation. */</Copyright>
<Description><![CDATA[
*** TrakCare Customised OAuth Logon ***
%OAuth2.Server.Authenticate acts as the subclass for all user written Authenticate classes as
well as being the default Authenticate class.
The Authenticate class is used by Authorization Endpoint at OAuth2.Server.Auth to authenticate
the user.  This class allows the customization of the authentication process.<br>
The following methods may be implemented to override the default in OAuth2.Server:
DirectLogin, DisplayLogin and DisplayPermissions.<br>
The scope argument to all of these methods is a %ArrayOfDatatypes where the keys
are scope values and the values are the display form of the scope value.<br>
<table><tr><th>The CSS style is defined in DrawStyle. </th></tr>
<tr><td>loginForm is for DisplayLogin</td></tr>
<tr><td>permissionForm is for DisplayPermissions</td></tr>
<tr><td>Customer can modify these CSS to tailor desired look and feel.</td></tr>
</table>]]></Description>
<Super>%CSP.Page</Super>
<TimeChanged>66007,22066.262513</TimeChanged>
<TimeCreated>65416,39750.624357</TimeCreated>

<Parameter name="DirectLoginUser">
<Default>superuser</Default>
</Parameter>

<Parameter name="DirectLoginPassword">
<Default> </Default>
</Parameter>

<Parameter name="DOMAIN">
<Description>
Login page localization domain</Description>
<Default>%OAuth2Login</Default>
</Parameter>

<Method name="GetLanguageList">
<Description>
The GetLanguageList method returns a comma separated list of the languages that are supported
for the message domain used for this class.
This language list is returned as the ui_locales server metadata property.</Description>
<ClassMethod>1</ClassMethod>
<ReturnType>%List</ReturnType>
<Implementation><![CDATA[
	// Get all languages for the domain that we use as a $list
	set domain=..#DOMAIN
	quit $$GetLanguages^%occMessages(domain,$select($extract(domain)="%":"+s",1:"-s"))
]]></Implementation>
</Method>

<Method name="ResetScope">
<Description>
Reset the scope every time there is a request to access a particular MPIID</Description>
<ClassMethod>1</ClassMethod>
<FormalSpec>scope:%ArrayOfDataTypes,properties:%OAuth2.Server.Properties</FormalSpec>
<Implementation><![CDATA[
	set mpiid = ""
	if (properties.CustomProperties.GetAt("patient") '= ""){
		set mpiid = properties.CustomProperties.GetAt("patient")
		do scope.RemoveAt("launch/patient")
	} elseif(properties.CustomProperties.GetAt("launch_patient") '= ""){
		set mpiid = properties.CustomProperties.GetAt("launch_patient")
		do scope.RemoveAt("launch")
	}
	if (mpiid '= "") {
		do scope.SetAt("Access data for patient "_ mpiid, "launch/patient/"_mpiid)
	}
]]></Implementation>
</Method>

<Method name="VerifyIssuedAccessToken">
<Description><![CDATA[
Helper method to retrieve a specified set of claim values from a previously issued token.
The claim values are retrieved based on the specification in <var>pDirectLoginFields</var>,
and are placed in <code>pProperties.CustomProperties</code> if the token is valid and
includes all required claims.]]></Description>
<Internal>1</Internal>
<ClassMethod>1</ClassMethod>
<FormalSpec>*pTokenIsValid:%Boolean,pProperties:%OAuth2.Server.Properties,pDirectLoginFields:%Library.DynamicObject,pAccessToken:%String</FormalSpec>
<Private>1</Private>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	new $namespace
	
	set tStatus = $$$OK
	try {
		set pTokenIsValid = 0
		kill pClaimValues

		set $namespace = "%SYS"
		
		set tIssuedToken = $classmethod("OAuth2.Server.AccessToken", "OpenByToken",pAccessToken,.tStatus)
		if $$$ISERR(tStatus) {
			quit
		}
		if $isobject(tIssuedToken) {
			// loop over direct login data to extract claim values from the existing token and verify
			// that all required claims are in the existing token
			set tHaveMissingClaim = 0
			set tDirectLoginIterator = pDirectLoginFields.%GetIterator()
			while tDirectLoginIterator.%GetNext(.tDirectLoginField,.tDirectLoginFieldData) {
				if $isobject(tDirectLoginFieldData) && (tDirectLoginFieldData.claim '= "") {
					set tClaimValue = tIssuedToken.Properties.GetClaimValue(tDirectLoginFieldData.claim,.tClaimValueType)
					if (tClaimValue '= "") && $listvalid(tClaimValue) {
						set tClaimValue = $listtostring(tClaimValue)
					}
					if (tClaimValue '= "") {
						// use local array to simplify roll-back if we have a missing required claim
						set tClaimData(tDirectLoginField) = tClaimValue
					}
					elseif (tDirectLoginFieldData.claimRequired) {
						set tHaveMissingClaim = 1
						
						quit
					}
				}
			}
			if ('tHaveMissingClaim) {
				set pTokenIsValid = 1
				set tClaimKey = ""
				for {
					set tClaimKey = $order(tClaimData(tClaimKey),1,tClaimValue)
					if (tClaimKey = "") {
						quit
					}
					do pProperties.CustomProperties.SetAt(tClaimValue,tClaimKey)
				}
			}
		}
	}
	catch ex {
		set tStatus = ex.AsStatus()
	}

	quit tStatus
]]></Implementation>
</Method>

<Method name="GetDirectLoginFields">
<Description><![CDATA[
Helper method to get a map that describes how we structure data for direct login support.
The map includes the fields we use in <code>CustomProperties</code> to track direct login data,
as well as where those values are located in existing claims, whether the value is required in
the existing claim data, and what value it should be placed in the 
<class>HS.Registry.Person.User.WebServices.Containers.AuthResponse</class> object
used to represent the user's login context.]]></Description>
<Internal>1</Internal>
<ClassMethod>1</ClassMethod>
<FormalSpec>*pDirectLoginFields</FormalSpec>
<Implementation><![CDATA[
	kill pDirectLoginFields
	set pDirectLoginFields = {
		"direct_login": 1,
			"direct_login_name": {
			"authProperty":		"FullName",
				"claim":			"name",
				"claimRequired":	0
		},
			"direct_login_phone_number": {
			"authProperty":		"PhoneNumber",
				"claim":			"phone_number",
				"claimRequired":	0
		},
			"direct_login_roles": {
			"authProperty":		"Roles",
				"claim":			"healthshare_roles",
				"claimRequired":	0
		},
			"direct_login_username": {
			"authProperty":		"UserID",
				"claim":			"healthshare_username",
				"claimRequired":	0
		}
	}
]]></Implementation>
</Method>

<Method name="BeforeAuthenticate">
<Description>
The BeforeAuthenticate method of the Authenticate class is called before any authentication takes place
to allow the scope or claims associated with the request to be modified based on
scope values or request parameters.</Description>
<ClassMethod>1</ClassMethod>
<FormalSpec>scope:%ArrayOfDataTypes,properties:%OAuth2.Server.Properties</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	
	
	
	
	set tStatus = $$$OK
	try {
		// Ensure that we don't let our direct login flags get populated externally
		do ..GetDirectLoginFields(.tDirectLoginFields)
		set tDirectLoginIterator = tDirectLoginFields.%GetIterator()
		while tDirectLoginIterator.%GetNext(.tDirectLoginField) {
			do properties.CustomProperties.RemoveAt(tDirectLoginField)
		}
		
		
		
		
		
		// If launch scope not specified, then nothing to do
		if 'scope.IsDefined("launch") {
			quit
		}
		
		// Get the launch context from the launch query parameter.
		set tLaunchContextEncoded = properties.RequestProperties.GetAt("launch")
		// If no launch context, then nothing to do
		if tLaunchContextEncoded = "" {
			quit
		}
		set tMPIID = ""
		
		/*
		We assume that the launch context is a base64-encoded JSON token with the
		following structure:
		{
			"access_token": "<signed, encrypted access token issued by this authorization server>",
				"mpiid": 1234
		}
		
		Note that the access_token may not be supplied in some cases; that will simply result in the
		user needing to authenticate.
		*/
		#dim tLaunchContext as %Library.DynamicObject
		set tAccessTokenIsValid = 0
		try {
			set tLaunchContextDecoded = $system.Encryption.Base64Decode(tLaunchContextEncoded)
			set tLaunchContext = ##class(%Library.DynamicObject).%FromJSON(tLaunchContextDecoded)
			if (tMPIID = "") {
				set tMPIID = tLaunchContext.%Get("mpiid")
				if $isobject(tMPIID) {
					set tMPIID = ""
				}
			}
			
			// Quit early if we don't have an MPIID
			if (tMPIID = "") {
				quit
			}
			
			
			
			
			// Verify the incoming access token
			set tAccessToken = tLaunchContext.%Get("access_token")
			if (tAccessToken '= "") {
				set tStatus = ..VerifyIssuedAccessToken(.tAccessTokenIsValid,properties,tDirectLoginFields,tAccessToken)
				
				if $$$ISERR(tStatus) {
					quit
				}
			}
		}
		catch decodeEx {}
		if $$$ISERR(tStatus) {
			quit
		}
		// If we don't have a patient, we should stop processing
		if (tMPIID = "") {
			quit
		}
		else
		{
			//Do properties.CustomProperties.SetAt(1,"direct_login")
			// Add the patient property which AfterAuthenticate will turn into a response property
			do properties.CustomProperties.SetAt(tMPIID,"launch_patient")
			
		}
		
		
		
		// Add scope for patient.
		// This particular scope is used to allow the same patient to accessed via launch
		// if he was previously selected by launch or launch/patient when using cookie support
		do ..ResetScope(scope, properties)
		
		// If we managed to extract the user context from the incoming access token, trigger a direct login
		
		
		
		if (tAccessTokenIsValid) {
			do properties.CustomProperties.SetAt(1,"direct_login")
		}
		

	}
	catch ex {
		set tStatus = ex.AsStatus()
	}

	quit tStatus
]]></Implementation>
</Method>

<Method name="LogProperties">
<ClassMethod>1</ClassMethod>
<FormalSpec><![CDATA[properties,&data]]></FormalSpec>
<Implementation><![CDATA[
	
	
	

	set key=""
	for {
		set value=properties.RequestProperties.GetNext(.key)
		if key="" quit
		set data("RequestProperties",key)=value
	}

	set key=""
	for {
		set value=properties.ResponseProperties.GetNext(.key)
		if key="" quit
		set data("ResponseProperties",key)=value
	}

	set key=""
	for {
		set value=properties.CustomProperties.GetNext(.key)
		if key="" quit
		set data("CustomProperties",key)=value
	}

	set key=""
	for {
		set value=properties.ServerProperties.GetNext(.key)
		if key="" quit
		set data("ServerProperties",key)=value
	}

	set key=""
	for {
		set value=properties.IDTokenClaims.GetNext(.key)
		if key="" quit
		set data("IDTokenClaims",key)=##class(%OAuth2.Server.Claim).LogString(value)
	}

	set key=""
	for {
		set value=properties.UserinfoClaims.GetNext(.key)
		if key="" quit
		set data("UserinfoClaims",key)=##class(%OAuth2.Server.Claim).LogString(value)
	}

	set key=""
	for {
		set value=properties.JWTClaims.GetNext(.key)
		if key="" quit
		set data("JWTClaims",key)=##class(%OAuth2.Server.Claim).LogString(value)
	}

	set key=""
	for {
		set value=properties.ClaimValues.GetNext(.key)
		if key="" quit
		set data("ClaimValues",key)=value
	}
]]></Implementation>
</Method>

<Method name="DirectLogin">
<ClassMethod>1</ClassMethod>
<FormalSpec>scope:%ArrayOfDataTypes,properties:%OAuth2.Server.Properties,*username:%String,*password:%String</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	
	//do ##class(TC.hmf.FHIR.OAuth2.Authenticate).LogProperties(properties,.data)
	
	set directlogin = properties.CustomProperties.GetAt("direct_login")
	set launchpatient = properties.CustomProperties.GetAt("launch_patient")
	set launch = properties.RequestProperties.GetAt("launch")
	if (properties.CustomProperties.GetAt("direct_login") = 1) {
		
		do ..Logout()
		
		set username = ..#DirectLoginUser
		set password = ..#DirectLoginPassword
		quit 1
		
		
	}
	else {
		set username = ""
		set password = ""
		
		do ..Logout()
	}
	
	quit $$$OK
]]></Implementation>
</Method>

<Method name="Logout">
<Description>
Execute Logout session method</Description>
<ClassMethod>1</ClassMethod>
<Implementation><![CDATA[
	// If not default session class, then in customization namespace
	if %server.SessionClass'="OAuth2.Server.Session" {
		new $namespace,$roles
		set $namespace=%server.CustomizationNamespace
		set $roles=%server.CustomizationRoles
	}
	
	do $classmethod(%server.SessionClass,"Logout")

	quit
]]></Implementation>
</Method>

<UDLText name="T">
<Content><![CDATA[
/*
/// If uncomment this method will bypass Accept asking page
ClassMethod DisplayPermissions(authorizationCode As %String, scopeArray As %ArrayOfDataTypes, currentScopeArray As %ArrayOfDataTypes, properties As %OAuth2.Server.Properties) As %Status
{
	set %response.ServerSideRedirect = "./authorize?AuthorizationCode="_authorizationCode_"&Accept=Accept" 

	quit 1
}
*/
]]></Content>
</UDLText>

<Method name="AfterAuthenticate">
<Description><![CDATA[
Here set association between user <--> patient to include in the response
Call refresh of TCFHIR repository on auth if configuration to refresh data interval not set]]></Description>
<ClassMethod>1</ClassMethod>
<FormalSpec>scope:%ArrayOfDataTypes,properties:%OAuth2.Server.Properties</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	
	
	// patient ID *** Must be returned as a string ***
	set sub=$$$LOWER(properties.GetClaimValue("sub"))
	set patient=properties.GetClaimValue("patient")
	
	//currently support single patient id only (no proxy)
	//so we just get the first id for now
	set patID=$piece(patient,",")
	
	
	
	set tMPIID=properties.CustomProperties.GetAt("launch_patient")
	
	
	if patID="" set patID=tMPIID
	if patient="" set patient=tMPIID
	

	
	
	
	do properties.ResponseProperties.SetAt(patID,"patient")
	set refreshToken=%token.RefreshToken
	
	//store current refresh token
	set ^%SYS("TCFHIR",patID)=$get(refreshToken)
	
	//debug
	set ^zTRAK("HMF","FHIR","SUB",sub)=patient_"^"_refreshToken
	

	

	
	
	quit $$$OK
]]></Implementation>
</Method>

<Method name="DisplayLogin">
<Description>
TC Oauth Login Screen</Description>
<ClassMethod>1</ClassMethod>
<FormalSpec>authorizationCode:%String,scope:%ArrayOfDataTypes,properties:%OAuth2.Server.Properties,loginCount:%Integer=1</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	set uilocales = properties.RequestProperties.GetAt("ui_locales")
	set tLang = ##class(%OAuth2.Utils).SelectLanguage(uilocales,"%OAuth2Login")
	// $$$TextHTML(Text,Domain,Language)
	set LOGINHEADTITLE = $zconvert("InterSystems TrakCare Login","O","HTML") //$$$TextHTML(<msg>,"%OAuth2Login",tLang)
	set LOGINTITLE = $zconvert("Sign in with your Account","O","HTML")
	set USERNAMEHOLDER = $zconvert("Username","O","HTML")
	set PASSWORDHOLDER = $zconvert("Password","O","HTML")
	set LOGINCAPTION = $zconvert("Sign in","O","HTML")
	set CANCELCAPTION = $zconvert("Cancel","O","HTML")
	set ACCESSDENIEDMSG = $$$FormatText($$$Text("Access Denied! Sign in attempt %1","%OAuth2Login",tLang), loginCount)
	set MSGUSERNAME = $zconvert("Please enter Username","O","HTML")
	set MSGPASSWORD = $zconvert("Please enter Password","O","HTML")
	set MSGUSERNAMEPASSWORD = $zconvert("Please enter Username and Password","O","HTML")
	
	set (tcLogo,tcClient,appClient)=""
	set tcLogo = properties.ServerProperties.GetAt("logo_uri")
	set clientName = properties.ServerProperties.GetAt("client_name")
	set tcClient = ##class(%CSP.Page).EscapeHTML(clientName)
	if tcClient="" set tcClient="InterSystems TrakCare"
	set appClient="Health App"

	&html<<html>>
	do ..DrawLoginHead(LOGINHEADTITLE,MSGUSERNAME,MSGPASSWORD,MSGUSERNAMEPASSWORD)
	&html<<body>>
	
	if tcLogo'="" {
		&html<<span class="logoClass"><img width=65% height=auto margin=5% src="#(tcLogo)#" alt="#(tcClient)#" title="#(tcClient)#" align="middle" ></span>>
	}
	
	&html<<div id="topLabel">#(LOGINTITLE)#</div>>
	&html<<div>>

	&html<<form autocomplete="off" method="post" class="loginForm">>
	//Write ##class(%CSP.Page).InsertHiddenField("","AuthorizationCode",authorizationCode),!
	&html<
		<div style="padding-top:8%;"><input type="text" id="Username" name="Username" placeholder="#(USERNAMEHOLDER)#" autocomplete="off" ></div>
		<div><input type="password" id="Password" name="Password" placeholder="#(PASSWORDHOLDER)#" autocomplete="off" ></div>
		<div><input type="submit" id="btnLogin" name="Login" value="#(LOGINCAPTION)#" onclick="return doLogin();"/></div>
		<div style="padding-bottom:8%;"><input type="submit" id="btnCancel" name="Cancel" value="#(CANCELCAPTION)#"/></div>
	>
	if loginCount > 1 {
		&html<<div class="errorCode">#(ACCESSDENIEDMSG)#</div>>
	}

	&html<</form>>
	&html<</div>>

	do ..DrawFooter()
	&html<</body>>
	&html<<html>>

	quit 1
]]></Implementation>
</Method>

<Method name="DrawLoginHead">
<ClassMethod>1</ClassMethod>
<FormalSpec>LOGINHEADTITLE,MSGUSERNAME,MSGPASSWORD,MSGUSERNAMEPASSWORD</FormalSpec>
<Implementation><![CDATA[
	&html<<head><title>#(LOGINHEADTITLE)#</title>>
	do ..DrawStyle()
	&html<
		<script type="text/javascript">
		function doLogin()
		{
			var username = document.getElementById("Username").value;
			var password = document.getElementById("Password").value;
			var errors = "";
			if (username.length < 1) {
				errors = '#(MSGUSERNAME)#';
			}
			if (password.length < 1) {
				if (errors === "") {
					errors = '#(MSGPASSWORD)#';
				} else {
					errors = '#(MSGUSERNAMEPASSWORD)#';
				}
			}
			if (errors) {
				alert(errors);
				return false;
			}
			
			// submit the form
			return true;
		}
		</script>
	>
	&html<</head>>
]]></Implementation>
</Method>

<UDLText name="T">
<Content><![CDATA[
// TC style for OAuth logon screen

]]></Content>
</UDLText>

<Method name="DrawStyle">
<ClassMethod>1</ClassMethod>
<Implementation><![CDATA[
	&html<

		<style type="text/css">
		
		/* begin generic styles */
		body {
			font-family: Helvetica, sans-serif;
			text-align: center;
			font-size: 4vw;
		}
		input[type=submit]:hover {
			cursor: hand;
		}
		.errorCode {
			color: #da4848;
		}
		/* end generic styles */
		
		/* *** MOBILE UI *** */
		@media screen and (orientation:portrait) {
			/* begin form style */
			
			#topLabel {
				font-weight: bold;
				margin: 5%;
				padding: 2%;
				font-size: 6vw;
			}
			
			.logoClass {
				margin-top: 4%;
				margin: 0 auto;
			}
			
			.loginForm {
				background: #F9F9F9;
				border: 1px solid #C2C2C2;
				border-radius: 10px;
				margin-top: 8%;
				width: 80%;
				height: 55%;
				min-width: 150px;
				min-height: 600px;
				margin: 0 auto;
			}
			.permissionForm {
				background: #F9F9F9;
				border: 1px solid #C2C2C2;
				border-radius: 10px;
				width: 80%;
				height: 70%;
				min-width: 150px;
				min-height: 900px;
				margin: 0 auto;
			}
			.loginForm *,
				.permissionForm * {
				margin-top: 0;
				padding: 3%;
			}
			.loginForm input,
				.permissionForm input {
				width: 80%
				height: 15%;
				font-size: 4vw;
			}
			.loginForm input[type=submit] {
				width: 80%;
				min-width: 100px;
				height: 15%;
				font-size: 4vw;
			}
			.permissionForm input[type=submit] {
				width: 85%;
				min-width: 100px;
				height: 10%;
				font-size: 4vw;
			}
			.loginForm input[type=submit] {
				border-radius: 10px;
				background: #A6CFEC;
				transition: all .15s ease-in-out;
				width: 80%;
				min-width: 100px;
				max-width: 800px;
				height: 15%;
				font-size: 4vw;
			}
			.permissionForm input[type=submit] {
				border-radius: 10px;
				background: #A6CFEC;
				transition: all .15s ease-in-out;
				width: 85%;
				min-width: 100px;
				height: 10%;
				font-size: 4vw;
			}
			.permissionForm h1 {
				line-height: 20px;
				font-weight: normal;
				width: 80%;
				min-width: 150px;
				font-size: 4vw;
			}
			.permissionTitleRequest, .permissionTitleExisting {
				background: lightgray;
				font-weight: 600;
				text-align: middle;
				font-size: 4vw;
			}
			.permissionItemExisting, .permissionItemRequest {
				border-bottom: 1px solid #9e9e9e;
				text-align: left;
			}
			
			.userBox {
				text-align: middle;
				font-size: 4vw;
			}
			.linkBox {
				padding: 10px;
				margin-top: 5%;
				float: middle;
				text-align: middle;
				font-size: 4vw;
			}
			/* end of form style */
			/* *** END MOBILE UI *** */
		}
		
		
		/* *** DESKTOP UI *** */
		@media screen and (orientation:landscape) {
			/* begin form style */
			
			#topLabel {
				font-weight: bold;
				margin: 2%;
				font-size: 4vw;
			}
			
			#logoClass {
				width:auto;
				height:auto;
			}
			
			.loginForm {
				background: #F9F9F9;
				border: 1px solid #C2C2C2;
				border-radius: 10px;
				margin-top: 8%;
				width: 50%;
				height: 45%;
				min-width: 150px;
				min-height: 350px;
				margin: 0 auto;
			}
			.permissionForm {
				background: #F9F9F9;
				border: 1px solid #C2C2C2;
				border-radius: 10px;
				width: 50%;
				height: 60%;
				min-width: 150px;
				min-height: 420px;
				margin: 0 auto;
			}
			.loginForm *,
				.permissionForm * {
				margin-top: 0;
				padding: 3%;
			}
			.loginForm input,
				.permissionForm input {
				width:80%;
				height: 12%;
				font-size: 2.5vw;
			}
			.loginForm input[type=submit] {
				width: 80%;
				min-width: 100px;
				height: 13%;
				margin: auto;
				font-size: 2.5vw;
			}
			.permissionForm input[type=submit] {
				width: 85%;
				min-width: 100px;
				height: 12%;
				font-size: 2.5vw;
			}
			.loginForm input[type=submit] {
				border-radius: 10px;
				background: #A6CFEC;
				transition: all .15s ease-in-out;
				width: 80%;
				min-width: 100px;
				max-width: 800px;
				height: 13%;
				margin: auto;
				font-size: 2.5vw;
			}
			.permissionForm input[type=submit] {
				border-radius: 10px;
				background: #A6CFEC;
				transition: all .15s ease-in-out;
				width: 85%;
				min-width: 100px;
				height: 12%;
				font-size: 2.5vw;
			}
			.permissionForm h1 {
				line-height: 20px;
				font-size: 2.5vw;
				font-weight: normal;
				width: 80%;
				min-width: 150px;
			}
			.permissionTitleRequest, .permissionTitleExisting {
				background: lightgray;
				font-weight: 600;
				text-align: middle;
				font-size: 2.5vw;
			}
			.permissionItemExisting, .permissionItemRequest {
				border-bottom: 1px solid #9e9e9e;
				text-align: left;
				font-size: 2vw;
			}

			.userBox {
				text-align: middle;
				font-size: 3vw;
			}
			.linkBox {
				padding: 5px;
				margin-top: 3%;
				float: middle;
				text-align: middle;
				font-size: 2vw;
			}
			/* *** END DESKTOP UI *** */
		}
		
		</style>>
]]></Implementation>
</Method>

<Method name="DisplayPermissions">
<ClassMethod>1</ClassMethod>
<FormalSpec>authorizationCode:%String,scopeArray:%ArrayOfDataTypes,currentScopeArray:%ArrayOfDataTypes,properties:%OAuth2.Server.Properties</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	set uilocales = properties.RequestProperties.GetAt("ui_locales")
	set tLang = ##class(%OAuth2.Utils).SelectLanguage(uilocales,"%OAuth2Login")
	// $$$TextHTML(Text,Domain,Language)
	set ACCEPTHEADTITLE = $zconvert("OAuth2 Permissions Page","O","HTML") //$$$TextHTML(<msg>,"%OAuth2Login",tLang)
	set USER = $zconvert("User: ","O","HTML")
	set POLICY = $zconvert("Policy","O","HTML")
	set TERM = $zconvert("Terms of service","O","HTML")
	set ACCEPTCAPTION = $zconvert("Allow Access","O","HTML")
	set CANCELCAPTION = $zconvert("Cancel","O","HTML")
	
	&html<<html>>
	
	do ..DrawAcceptHead(ACCEPTHEADTITLE)
	set divClass = "permissionForm"
	set tcLogo = properties.ServerProperties.GetAt("logo_uri")
	
	set clientName = properties.ServerProperties.GetAt("client_name")
	set tcClient = ##class(%CSP.Page).EscapeHTML(clientName)
	set clienturi = properties.ServerProperties.GetAt("client_uri")
	set policyuri = properties.ServerProperties.GetAt("policy_uri")
	set tosuri = properties.ServerProperties.GetAt("tos_uri")
	set user = properties.GetClaimValue("preferred_username")
	if user="" {
		set user = properties.GetClaimValue("sub")
	}

	&html<<body>>
	if tcLogo'="" {
		&html<<span class="logoClass"><img width=65% height=auto margin=5% src="#(tcLogo)#" alt="#(tcClient)#" title="#(tcClient)#" align="middle" ></span>>
	}
	
	&html<<div class="#(divClass)#">>
	
	if user '= "" {
		&html<<span id="left" class="userBox"><br>#(USER)##(##class(%CSP.Page).EscapeHTML(user))#</span>>
	}
	
	&html<<form>>
	write ##class(%CSP.Page).InsertHiddenField("","AuthorizationCode",authorizationCode),!
	&html<<div>>
	if $isobject(scopeArray), scopeArray.Count() > 0 {
		//Set tTitle = $$$FormatText($$$Text("'%1' is requesting these permissions:","%OAuth2Login",tLang),clientName)
		set tTitle="Health App Access Request"
		&html<<div class="permissionTitleRequest">>
		set clienturi=""
		if clienturi '= "" {
			&html<<a href="#(clienturi)#" target="_blank">#(##class(%CSP.Page).EscapeHTML(tTitle))#</a>>
		} else {
			&html<#(##class(%CSP.Page).EscapeHTML(tTitle))#>
		}
		&html<</div>>
		
		set display="Your medications, vital & lab results, medical conditions, procedures, allergies and immunizations"
		write "<div class='permissionItemRequest'>"_##class(%CSP.Page).EscapeHTML(display)_"</div>"
		
	}
	
	if $isobject(currentScopeArray), currentScopeArray.Count() > 0 {
		set tTitle = $$$FormatText($$$Text("'%1' already has these permissions:","%OAuth2Login",tLang),clientName)
		&html<<div>>
		&html<<div class="permissionTitleExisting">>
		if clienturi '= "" {
			&html<<a href="#(clienturi)#" target="_blank">#(##class(%CSP.Page).EscapeHTML(tTitle))#</a>>
		} else {
			&html<#(##class(%CSP.Page).EscapeHTML(tTitle))#>
		}
		&html<</div>>
		
		set display="Your medications, vital and lab results, medical conditions, procedures, allergies and immunizations"
		write "<div class='permissionItemRequest'>"_##class(%CSP.Page).EscapeHTML(display)_"</div>"
		
		&html<</div>>
	}
	&html<</div>>
	&html<
		<div><input type="submit" id="btnAccept" name="Accept" value="#(ACCEPTCAPTION)#"/></div>
		<div><input type="submit" id="btnCancel" name="Cancel" value="#(CANCELCAPTION)#"/></div>
	>
	
	if policyuri '= "" ! (tosuri '= "") {
		&html<<span id="policy" class="linkBox" >>
		&html<<a href="#(policyuri)#" target="_blank">#(POLICY)# </a><br>>
		&html<</span>>
	}
	if tosuri '= ""  {
		&html<<span id="term" class="linkBox" >>
		&html<<a href="#(tosuri)#" target="_blank">#(TERM)#</a>>
		&html<</span>>
	}
	
	&html<</form>
	</div>>

	do ..DrawFooter()
	
	&html<</body>>
	&html<<html>>

	quit 1
]]></Implementation>
</Method>

<Method name="DrawFooter">
<ClassMethod>1</ClassMethod>
<Implementation><![CDATA[
	&html<
		
	>
]]></Implementation>
</Method>

<Method name="DrawAcceptHead">
<ClassMethod>1</ClassMethod>
<FormalSpec>ACCEPTHEADTITLE</FormalSpec>
<Implementation><![CDATA[
	&html<<head><title>#(ACCEPTHEADTITLE)#</title>>
	do ..DrawStyle()
	&html<</head>>
]]></Implementation>
</Method>

<Parameter name="SrcVer">
<Description>
This Parameter is updated by Perforce</Description>
<Default>$Id: //trak/main/projects/T2020/XX06_HMF/cls/TC/hmf/FHIR/OAuth2/Authenticate.xml#6 $</Default>
</Parameter>
</Class>


<Class name="TC.hmf.FHIR.OAuth2.Validate">
<Copyright>/* Copyright (c) 2020 by InterSystems Corporation.
   Cambridge, Massachusetts, U.S.A.  All rights reserved.
   Confidential property of InterSystems Corporation. */</Copyright>
<Description>
The ValidateUserClass is specified in the Authorization Server Configuration.
It must contain a ValidateUser method which will validate a username/password combination
and return a set of properties associated with this user.</Description>
<ClassType>persistent</ClassType>
<ProcedureBlock>0</ProcedureBlock>
<Super>%Persistent</Super>
<TimeChanged>66007,22066.324763</TimeChanged>
<TimeCreated>63678,64776.432447</TimeCreated>

<Index name="UserIndex">
<Description>
The IDKEY for the access token class.</Description>
<IdKey>1</IdKey>
<Properties>IrisUserName</Properties>
<Unique>1</Unique>
</Index>

<Property name="IrisUserName">
<Description>
IrisUser name used for Oauth with link to patient id(s)</Description>
<Type>%String</Type>
<Required>1</Required>
</Property>

<Property name="PatientList">
<Description>
List of patient FHIR Repository ID(s) linked to Iris User</Description>
<Type>%List</Type>
</Property>

<Method name="ValidateUser">
<Description><![CDATA[
Your custom ValidateUser method must return true (1) only if the username and password refer to a valid user
based on whatever criteria you choose to implement.  It must return false in other cases. <p>
If password="", then the user is already logged into an existing session and the password
does not need to be validated.<p>
In addition, this method receives the properties array and can further modify it;
this correspond to the Properties property of %OAuth2.Server.Token. 
The authorization server will always add the "iss" (URL of authorization server),
"sub" (client_id), and "exp" (expiration time in seconds since December 31st, 1840)
to ClaimValues and "client_id" (client_id of the requesting client) to CusotmProperties 
after return from ValidateUser if they have not already been added.<p>
This sample ValidateUser method validates the user based on the users for this instance.]]></Description>
<ClassMethod>1</ClassMethod>
<FormalSpec>username:%String,password:%String,scope:%ArrayOfDataTypes,properties:%OAuth2.Server.Properties,*sc:%Status</FormalSpec>
<ReturnType>%Boolean</ReturnType>
<Implementation><![CDATA[
	
	
	
	
	// Check if user is defined.
	// We use local Cache user list as the shipped default.
	set securityClass="Security.Users"
	if '$classmethod(securityClass,"Exists",username,.user,.sc) || $$$ISERR(sc) {
		if $$$ISERR(sc),$$$GETERRORCODE(sc)=$$$ERRORCODE($$$UserDoesNotExist) {
			set sc=$$$OK
		}
		quit 0
	}
	
	// direct login for smart apps
	set directlogin = properties.CustomProperties.GetAt("direct_login")
	set launchpatient=properties.CustomProperties.GetAt("launch_patient")
	
	// Check the password
	if password'="",'$classmethod(securityClass,"CheckPassword",user,password),directlogin'=1 {
		quit 0
	}
	

	
	
	// Get the properties associated with this user.
	set sc=$classmethod(securityClass,"GetProperties",user,.prop)
	if $$$ISERR(sc) quit 0
	
	
	

	// Use the Cache roles for the user to setup a custom property.
	set sc=$classmethod("Security.Roles","RecurseRoleSet",prop("Roles"),.roles)
	if $$$ISERR(sc) quit 0
	set roles=prop("Roles")
	do properties.CustomProperties.SetAt(roles,"roles")
	
	// *** Custom code add patient id to claim ***
	
	set PatientURN=""
	if launchpatient=""
	{
		//get patient repository id(s) for linked iris user - if multiple id's return comma-delimited string
		set (pat,patCnt,patList)=""
		if '##class(TC.hmf.FHIR.OAuth2.Validate).%ExistsId(username) quit 0
		set obj=##class(TC.hmf.FHIR.OAuth2.Validate).%OpenId(username)
		set patList=obj.PatientList
		set patCnt=$listlength(patList)
		for i=1:1:patCnt {
			set patID=$listget(patList,i)
			if i=1 {
				set pat=patID
			}else{
				set pat=pat_","_patID
			}
		}
		
		set PatientURN=patID
		
	}
	else
	{
		
		set PatientURN=launchpatient
		
		
	}
	
	
	
	do properties.SetClaimValue("patient",PatientURN)
	do properties.SetClaimValue("sub",PatientURN)
	do properties.SetClaimValue("name",PatientURN)
	
	
	
	
	// SETUP CUSTOM CLAIMS HERE
	set tClaim = ##class(%OAuth2.Server.Claim).%New()
	do properties.ResponseProperties.SetAt(PatientURN,"patient")
	do properties.IntrospectionClaims.SetAt(tClaim,"patient")
	do properties.UserinfoClaims.SetAt(tClaim,"patient")
	do properties.JWTClaims.SetAt(tClaim,"patient")
	do properties.SetClaimValue("patient",PatientURN)
	
	
	
	// *** End Custom Code ***

	// Setup claims for profile and email OpenID Connect scopes.
	do properties.SetClaimValue("sub",username)
	
	do properties.SetClaimValue("preferred_username",username)
	if $get(prop("EmailAddress"))'="" {
		do properties.SetClaimValue("email",prop("EmailAddress"))
		do properties.SetClaimValue("email_verified",0,"boolean")
	}
	if $get(prop("FullName"))'="" {
		do properties.SetClaimValue("name",prop("FullName"))
	}
	if $get(prop("PhoneNumber"))'="" {
		do properties.SetClaimValue("phone_number",prop("PhoneNumber"))
		do properties.SetClaimValue("phone_number_verified",0,"boolean")
	}
	
	// Setup claim for when user last updated.
	if $get(prop("LastModifiedDateTime"))'="" {
		set time=##class(%OAuth2.Utils).TimeInSeconds(prop("LastModifiedDateTime"),0)
		do properties.SetClaimValue("updated_at",time,"number")
	}
	
	
	quit 1
]]></Implementation>
</Method>

<Method name="ValidateClient">
<Description><![CDATA[
The ValidateClient method returns true (1), if the client_id and client_secret refer to a
client computer which may use the client credentials grant type based on whatever criteria
the method chooses to implement.  This client will already have been verified to be registered 
to this authorization server and thus will usually be accepted.
ValidateClient populates the properties array argument with any properties needed to generate the access token.
This correspond to the Properties arguments of OAuth2.Server.Token.
The authorization server will always add the "iss" (URL of authorization server),
"sub" (client_id), and "exp" (expiration time in seconds since December 31st, 1840)
to ClaimValues and "client_id" (client_id of the requesting client) to CusotmProperties 
after return from ValidateUser if they have not already been added.<br>
If not valid then false is returned.<br>
This default ValidateClient accepts all clients and adds no properties.]]></Description>
<ClassMethod>1</ClassMethod>
<FormalSpec>clientId:%String,clientSecret:%String,scope:%ArrayOfDataTypes,*properties:%OAuth2.Server.Properties,*sc:%Status</FormalSpec>
<ReturnType>%Boolean</ReturnType>
<Implementation><![CDATA[
	set sc=$$$OK
	quit 1
]]></Implementation>
</Method>

<Method name="SupportedClaims">
<Description>
The SupportedClaims method returns a $list of claims that are supported
by this authorization server based on customizations.  The SupportedClaims method is in the
ValidateUserClass since this is where additional claims are usually added.
The returned list is added to the list of claims defined by OpenID Connect Core and
should include JWT, IDToken, userinfo endpoint and introspection endpoint claims.</Description>
<ClassMethod>1</ClassMethod>
<ReturnType>%List</ReturnType>
<Implementation><![CDATA[
	// This is the list that corresponds to the above code.
	// This list should be adjusted based on the specific customizations of this server.
	quit $listbuild("patient","patient_urn", "preferred_username","email","email_verified","name","phone_number","phone_number_verified")
]]></Implementation>
</Method>

<Method name="LinkIRISUserToFHIRID">
<Description>
TC Custom Method to store Iris User and linked patient repository ID
TC only supports one FHIR repository per IRIS instance</Description>
<ClassMethod>1</ClassMethod>
<FormalSpec>UserName:%String,PatientID:%Integer</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	if (($get(UserName)="") || ($get(PatientID)="")) quit $$$ERROR($$$GeneralError,"Invalid User/Patient")
	
	set sc=$$$OK
	set patcnt=0
	set patlist=""
	if ##class(TC.hmf.FHIR.OAuth2.Validate).%ExistsId(UserName) {
		set obj= ##class(TC.hmf.FHIR.OAuth2.Validate).%OpenId(UserName)
		set patcnt=$listlength(obj.PatientList)
		set patlist=obj.PatientList
	}else{
		set obj= ##class(TC.hmf.FHIR.OAuth2.Validate).%New()
	}
	
	set patcnt=patcnt+1
	set obj.IrisUserName=UserName
	set obj.PatientList=$listupdate(patlist,patcnt,PatientID)
	set sc=obj.%Save()
	
	quit sc
]]></Implementation>
</Method>

<Method name="AddIRISUser">
<Description>
TC Custom Method to create IRIS user for TC patient</Description>
<ClassMethod>1</ClassMethod>
<FormalSpec><![CDATA[&pUserName:%String="",pSurname:%String="",pGivenName:%String="",pMiddleName:%String="",pUserRoles:%String="%All",pComment:%String="",pPassword:%String="",pEmail:%String=""]]></FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	if ((pUserName="") && ((pSurname="")||(pGivenName=""))) quit $$$ERROR($$$GeneralError,"Invalid UserName/Patient Name")
	set sc=$$$OK
	
	//if username passed in check if already exists in IRIS
	set userFlag=0
	set securityClass="Security.Users"
	if pUserName'="" {
		if $classmethod(securityClass, "Exists", pUserName) quit $$$ERROR($$$GeneralError,"UserName already exists: "_pUserName)
		set userFlag=1 //username unique
	}else{
		set pUserName=$zconvert(pGivenName,"L")_$zconvert(pSurname,"L")
		if $classmethod(securityClass, "Exists", pUserName) {
			for i=1:1:999 {
				set pUserName=$zconvert(pGivenName,"L")_$zconvert(pSurname,"L")_i
				if '$classmethod(securityClass, "Exists", pUserName) {
					set userFlag=1 //username unique
					quit //loop
				}
			}
		}else{
			set userFlag=1 //username unique
		}
	}
	
	//quit if not able to create unique username for iris user
	if 'userFlag quit $$$ERROR($$$GeneralError,"UserName generate failed")
	
	//go ahead and create iris user
	set tAttributes=""
	set tFullName=pGivenName
	if pMiddleName'="" set tFullName=tFullName_" "_pMiddleName
	set tFullName=tFullName_" "_pSurname
	if pPassword="" set pPassword=..GetTempPassword()
	if pEmail'="" set tAttributes("EmailAddress")=pEmail
	set sc=$classmethod(securityClass, "Create", pUserName, pUserRoles, pPassword, tFullName, "", "", "", 1, 1, pComment, 1, "", "", , 1, 1)
	if (($$$ISOK(sc))&&(pEmail'="")) {
		//set sc=##class(Security.Users).Modify(pUserName,tAttributes) doesnt work
		set tStatement=##class(%SQL.Statement).%New()
		set qrySQL = "UPDATE security.users SET emailaddress=? WHERE id=?"
		set qrySC = tStatement.%Prepare(qrySQL)
		if $$$ISOK(qrySC) {
			do tStatement.%Execute(pEmail,pUserName)
		}
	}
	
	quit sc
]]></Implementation>
</Method>

<Method name="GetTempPassword">
<ClassMethod>1</ClassMethod>
<CodeMode>expression</CodeMode>
<Private>1</Private>
<ReturnType>%String</ReturnType>
<Implementation><![CDATA["trakcare"
]]></Implementation>
</Method>

<Storage name="Default">
<Type>%Storage.Persistent</Type>
<DataLocation>^%SYS("TCFHIR","UserD")</DataLocation>
<DefaultData>ValidateDefaultData</DefaultData>
<IdLocation>^%SYS("TCFHIR","UserD")</IdLocation>
<IndexLocation>^%SYS("TCFHIR","UserI")</IndexLocation>
<StreamLocation>^%SYS("TCFHIR","UserS")</StreamLocation>
<Data name="ValidateDefaultData">
<Value name="1">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="2">
<Value>PatientList</Value>
</Value>
</Data>
</Storage>

<Parameter name="SrcVer">
<Description>
This Parameter is updated by Perforce</Description>
<Default>$Id: //trak/main/projects/T2020/XX06_HMF/cls/TC/hmf/FHIR/OAuth2/Validate.xml#3 $</Default>
</Parameter>
</Class>


<Class name="TC.hmf.FHIR.REST.Abstract">
<Description>
Abstract class for FHIR REST Handlers</Description>
<Abstract>1</Abstract>
<IncludeCode>HS.FHIRServer,Ensemble</IncludeCode>
<TimeChanged>66007,22066.478603</TimeChanged>
<TimeCreated>65840,42296.273813</TimeCreated>

<Method name="GetOAuthAudRequired">
<Description>
*** TC Custom Method to get AudRequired setting for OAuth server configuration</Description>
<ClassMethod>1</ClassMethod>
<ReturnType>%Boolean</ReturnType>
<Implementation><![CDATA[
	set AudRequiredFlag=0
	
	set oauthid=$order(^OAuth2.Server.ConfigurationD(""))
	if oauthid'="" set AudRequiredFlag=$listget(^OAuth2.Server.ConfigurationD(oauthid),18)
	
	quit AudRequiredFlag
]]></Implementation>
</Method>

<Method name="GetOAuthClient">
<Description>
Get OAUTH2 Client </Description>
<ClassMethod>1</ClassMethod>
<Implementation><![CDATA[
	set tApplication = $$$AppKeyFromApp(%request.Application)
	set clientname=""
	set %fhircspconfig = $classmethod("HS.Registry.FHIRCSPConfig","URLIndexOpen",tApplication)
	if '$isobject($get(%fhircspconfig))  {
		// JSON APP
		set %hsrestconfig = $classmethod("HS.Util.RESTCSPConfig","URLIndexOpen",tApplication)
		set clientname=%hsrestconfig.OAuthClientName
	}
	else // old way
	{
		if %fhircspconfig.UseOAuth=0 quit ""
		set clientname=%fhircspconfig.ResourceServerOAuthClient
		
	}
	quit clientname
]]></Implementation>
</Method>

<Method name="ISOAuthRequired">
<Description>
Check if oauth2 required</Description>
<ClassMethod>1</ClassMethod>
<Implementation><![CDATA[
	
	
	quit ..GetOAuthClient()'=""
]]></Implementation>
</Method>

<Method name="MetaData">
<Description>
return Oauth2 Server MetaData</Description>
<ClassMethod>1</ClassMethod>
<Implementation><![CDATA[
	
	set %response.ContentType = "application/json"
	
	set tApplication = %request.Application
	set authorizeurl=""
	set tokenurl=""
	set introspecturl=""
	
	set pClientName=..GetOAuthClient()
	
	if ( pClientName'="")
	{
		set metadata=..GetServerMetadataByClient(pClientName)
		set authorizeurl=metadata."authorization_endpoint"
		set tokenurl=metadata."token_endpoint"
		set introspecturl=metadata."introspection_endpoint"
		
	}
	
	set metaSOF =   {
		"name": "SMART on FHIR Server",
			"description": "Server for SMART on FHIR",
			"url": (tApplication),
			"rest": [
		{
			"mode": "server",
				"security": {
				"cors": true,
					"extension": [
				{
					"url": ("http://fhir-registry.smarthealthit.org/StructureDefinition/oauth-uris"),
						"extension": [
					{
						"url": "authorize",
							"valueUri": (authorizeurl)
					},
						{
						"url": "token",
							"valueUri": (tokenurl)
					},
						{
						"url": "introspect",
							"valueUri": (introspecturl)
					}
					]
				}
				]
			}
		}
		]
	}
	
	write metaSOF.%ToJSON()
	
	return $$$OK
]]></Implementation>
</Method>

<Method name="GetServerMetadataByClient">
<Description>
Get FHIR metadata by client id </Description>
<ClassMethod>1</ClassMethod>
<FormalSpec>pClientName:%String</FormalSpec>
<ReturnType>%DynamicObject</ReturnType>
<Implementation><![CDATA[
	$$$AddAllRoleTemporary
	new $namespace
	set $namespace = "%SYS"
	set clientObj = $classmethod("OAuth2.Client", "Open",pClientName, .tSC)
	$$$ThrowOnError(tSC)
	
	set dynObj = {}
	if ($isobject(clientObj)) && ($isobject(clientObj.ServerDefinition)) {
		set dynObj = ..GetServerMetadataByIssuer(clientObj.ServerDefinition.IssuerEndpoint,clientObj.SSLConfiguration)
	}
	
	return dynObj
]]></Implementation>
</Method>

<Method name="GetServerMetadataByIssuer">
<Description><![CDATA[
API<br>
GetServerMetadataByIssuer gets the OAuth 2.0 authorization server metadata at
the specified issuer URL. It then returns the metadata as a %DynamicObject.]]></Description>
<ClassMethod>1</ClassMethod>
<FormalSpec>pIssuerEndpoint:%String,pSSLConfigName:%String=""</FormalSpec>
<ReturnType>%DynamicObject</ReturnType>
<Implementation><![CDATA[
	$$$AddAllRoleTemporary
	new $namespace
	set $namespace = "%SYS"
	set tSC = $classmethod("OAuth2.ServerDefinition", "GetServerMetadata",pIssuerEndpoint, pSSLConfigName, .metadata)
	$$$ThrowOnError(tSC)
	
	return {}.%FromJSON(metadata.ExportJSON())
]]></Implementation>
</Method>

<Method name="processWellKnown">
<Description>
get FHIR SMART capability </Description>
<ClassMethod>1</ClassMethod>
<FormalSpec>pUriSuffix:%String</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	
	set %response.ContentType = "application/json"
	

	set pClientName=..GetOAuthClient()
	
	if (  pClientName'="")
	{
		set metadata=..GetServerMetadataByClient(pClientName)
		write metadata.%ToJSON()
		quit 1
	}
	return $$$OK
]]></Implementation>
</Method>

<Method name="ValidateOAuthToken">
<Description>
validate Oauth2 Token</Description>
<ClassMethod>1</ClassMethod>
<FormalSpec><![CDATA[pInteraction:%String,&pOAuthSessionId:%String,&pJWTString:%String,&pJWTObj:%Library.DynamicObject]]></FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	set tSC = $$$OK
	
	set pOAuthSessionId = ""
	set pJWTString = ""
	set pJWTObj = ""
	
	try {
		// The OAuth token processing here is a little redundant to that done in OnPreDispatch.
		// Measures are taken here to minimize the overhead. OnPreDispatch is meant to catch
		// an invalid access token before the UrlMap is even reached. The processing here uses
		// the access token information to formulate a session id in case it is needed, and
		// to populate a field in the FHIR message request so that the JWT is carried forward
		// into the rest of the FHIR processing.
		// Regarding access token validation:
		// 1. Absence of access token in Conformance request is okay.
		// 2. Absence of access token in request that is NOT Conformance is an error.
		// 3. Invalid access token (has value but is invalid), even when in a Conformance request, is an error.
		// 4. Current audience must match one of the token audiences, if the token has any.
		
		// %accesstokenstring and %accesstokenjwtobj are created by OnPreDispatch upon
		// successful validation of the access token. Use those values if present.
		
		if $get(%accesstokenstring)'="" {
			set tAccessToken = %accesstokenstring
		} else {
			// For GetAccessTokenFromRequest, a present but blank Authorization header value will
			// return an error. Aside from that, the absence of an access token will not give an
			// error, it will just come back with tAccessToken="".
			set tAccessToken = ##class(%SYS.OAuth2.AccessToken).GetAccessTokenFromRequest(.tSC)
			if $$$ISERR(tSC) {
				set tSC = $$$ERROR($$$GeneralError, "Error getting access token from request - "_$system.Status.GetErrorText(tSC))
				quit
			}
		}
		
		// Blank or missing access token is okay with a Conformance interaction, and is
		// not okay if not a Conformance interaction.
		if (tAccessToken="") {
			if pInteraction'="capabilities" {
				set tSC = $$$ERROR($$$GeneralError, "Access token not found")
			}
			quit
		}
		
		// Formulate a user session id using the access token as a basis.
		set tHash = $system.Encryption.SHA1Hash(tAccessToken)
		set tString = ""
		for i = 1:1:$length(tHash) {
			set tC = $extract(tHash, i)
			set tA = $ascii(tC)
			#; Convert from extended ascii if needed.
			if (tA<32)||(tA>122) set tC = $char(32+(tA#91))
			set tString = tString_tC
		}
		set pOAuthSessionId = tString
		
		if $isobject($get(%accesstokenjwtobj)) {
			set pJWTObj = %accesstokenjwtobj
		} else {
			// Do not pass the current audience into ValidateJWT, we will do
			// our own compare of curent audience to token audience(s).
			set tReturn = ##class(%SYS.OAuth2.Validation).ValidateJWT(%fhircspconfig.ResourceServerOAuthClient, tAccessToken, "", "", .pJWTObj, .tSecurityParams, .tSC)
			if tReturn=0 {
				if ($$$ISERR(tSC))&&((","_$system.Status.GetErrorCodes(tSC)_",")[",8873,") {
					// tSC of 8873 is OAuth2JWTNotValid, which is returned when it is a JWT
					// (passes structural integrity and encryption, etc) AND it fails on aud,
					// or exp, or iss, or scope.
					// Is a JWT, but not valid.
					set tSC = $$$ERROR($$$GeneralError, "Invalid access token")
					quit
				} else {
					// Does not appear to be a valid JWT, try GetIntrospection.
					set tSC = ##class(%SYS.OAuth2.AccessToken).GetIntrospection(%fhircspconfig.ResourceServerOAuthClient, tAccessToken, .pJWTObj)
					if $$$ISERR(tSC) quit
				}
			}
		}
		
		// Unclear if pJWTObj can be not an object by this point.
		if '$isobject($get(pJWTObj)) {
			set tSC = $$$ERROR($$$GeneralError, "Invalid access token")
			quit
		}
		
		// If the JWT is invalid then GetIntrospection will return a JSON object with
		// a single property 'active' set to false (0).
		if (pJWTObj.active'="")&&(pJWTObj.active=0) {
			set tSC = $$$ERROR($$$GeneralError, "Invalid access token")
			quit
		}
		
		// Compare the current audience against the aud value(s), if any, in the access
		// token. This compare is trailing-slash-insensitive and case-insensitive.
		if '##class(HS.FHIR.Utils).ValidateAudience(pJWTObj) {
			set tSC = $$$ERROR($$$GeneralError, "Invalid audience for access token")
			quit
		}
		
		#; Create a JSON string of selected properties from the JWT object.
		#;
		#; Some pJWTObj properties available are:
		#; active (true/false - will be false if the access token was found to be invalid)
		#; scope (space delimited string of scopes)
		#; sub (username)
		#; iss (token issuer, e.g., https://argonaut.intersystems.com/oauth2)
		#; aud (audience, e.g., https://argonaut.intersystems.com/fhiroauth2)
		#; client_id (client id string)
		#; username (username)
		#; token_type (e.g., bearer)
		#; exp (expire time, expressed as number of seconds since start of the Unix epoch)
		#; iat (authoriztion time, expressed as number of seconds since start of the Unix epoch)
		#; nbf (authorization time, expressed as number of seconds since start of the Unix epoch)
		#;
		#; As part of creating the JSON string, this method creates a new
		#; object and adds properties to it.  We cannot remove properties
		#; from the existing object, because it is a DynamicAbstractObject,
		#; and does not have access to the %Remove() method.
		
		set tJWTProps = "patient,active,scope,client_id,username,token_type,exp,iat,nbf,sub,aud,iss,jti,healthshare_roles,healthshare_username,name"
		
		set tNewJWTObj = ##class(%DynamicAbstractObject).%FromJSON("{}")
		for i = 1:1:$length(tJWTProps,",") {
			set tJWTProp = $piece(tJWTProps,",",i)
			if tJWTProp="" continue
			set tValue = pJWTObj.%Get(tJWTProp)
			if tValue'="" set tNewJWTObj = tNewJWTObj.%Set(tJWTProp, tValue)
		}
		set pJWTString = tNewJWTObj.%ToJSON()
		
	} catch eException {
		set tSC = eException.AsStatus()
	}
	
	quit tSC
]]></Implementation>
</Method>

<Parameter name="SrcVer">
<Description>
This Parameter is updated by Perforce</Description>
<Default>$Id: //trak/main/projects/T2020/XX06_HMF/cls/TC/hmf/FHIR/REST/Abstract.xml#6 $</Default>
</Parameter>
</Class>


<Class name="TC.hmf.FHIR.SMART.Utils">
<Description>
Utility to add SMART ON FHIR APP Oauth2 Client in FHIR Server</Description>
<Super>%RegisteredObject</Super>
<TimeChanged>66007,22066.512757</TimeChanged>
<TimeCreated>65832,73154.198281</TimeCreated>

<Method name="OAuthClientCreateForSMART">
<Description>
Creates (Registers) an OAuth Client for a SMART-on-FHIR Application
W ##class(TC.hmf.FHIR.SMART.Utils).OAuthClientCreateForSMART(1,"cardiac_risk","https://medemofhir/smart/cardiac-risk/","SMART.CardiacRisk","SMART.CardiacRisk")
W ##class(TC.hmf.FHIR.SMART.Utils).OAuthClientCreateForSMART(1,"growth_chart","https://tcfhirsandbox.intersystems.com.au/smart/growth-chart/","SMART.GrowthChart","SMART.GrowthChart")</Description>
<Internal>1</Internal>
<ClassMethod>1</ClassMethod>
<FormalSpec>pForceOverride:%Boolean,pClientId:%String,pRedirectURI:%String,pAppName:%String,pAppDescription:%String</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	
	
	
	set tSC = $$$OK
	try  {
		new $namespace
		set $namespace = "%SYS"
		
		set client =$classmethod("OAuth2.Server.Client", "Open",pClientId, .tsc)
		if $isobject($get(client)) {
			if 'pForceOverride {
				// If the Client Exists and we are not overriding, return a specific error
				kill client
				$$$ThrowStatus($$$ERROR($$$ApplicationAlreadyExists, pClientId))
			}
			// If the Client exists and we ARE overriding, delete the previous OAuth2 Client
			$$$ThrowOnError(client.DeleteId(pClientId))
		}
		// Create an OAuth2 Client for a SMART-on-FHIR App.
		set serverClientMetadata =$classmethod("OAuth2.Client.Metadata", "%New")
		set serverClientMetadata."token_endpoint_auth_method" = "client_secret_post"
		set serverClientMetadata."grant_types"    = $listbuild("authorization_code","password","client_credentials")
		set serverClientMetadata."response_types" = $listbuild("code","id_token","id_token token","token")
		
		set serverClient=$classmethod("OAuth2.Server.Client", "%New")
		set serverClient.Name                = pAppName
		set serverClient.Description         = pAppDescription
		set serverClient.ClientType          = "public"
		set serverClient.ClientId            = pClientId
		set serverClient.DefaultScope        = "user/*.read"
		set serverClient.SupportedGrantTypes = "APC"
		do serverClient.RedirectURL.Insert(pRedirectURI)

		set serverClient.Metadata            = serverClientMetadata
		
		$$$ThrowOnError(serverClient.%Save())
	} catch ex {
		set tSC = ex.AsStatus()
	}
	quit tSC
]]></Implementation>
</Method>

<Method name="OAuthClientExists">
<Description>
Check if oauth2 client exist </Description>
<Internal>1</Internal>
<ClassMethod>1</ClassMethod>
<FormalSpec>pClientId:%String</FormalSpec>
<ReturnType>%Boolean</ReturnType>
<Implementation><![CDATA[
	set result = 0
	new $namespace
	set $namespace = "%SYS"
	
	set client = $classmethod("OAuth2.Server.Client", "Open",pClientId, .tsc)
	if $$$ISOK(tsc) {
		set result = $isobject($get(client))
	}
	kill client
	quit result
]]></Implementation>
</Method>

<Method name="OAuthClientDelete">
<Description>
Delete oauth2 client</Description>
<Internal>1</Internal>
<ClassMethod>1</ClassMethod>
<FormalSpec>pClientId:%String</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	new $namespace
	set $namespace = "%SYS"

	set tsc = $classmethod("OAuth2.Server.Client", "DeleteId",pClientId)
	quit tsc
]]></Implementation>
</Method>

<Parameter name="SrcVer">
<Description>
This Parameter is updated by Perforce</Description>
<Default>$Id: //trak/main/projects/T2020/XX06_HMF/cls/TC/hmf/FHIR/SMART/Utils.xml#4 $</Default>
</Parameter>
</Class>


<Class name="TC.hmf.FHIR.STU3.REST.Handler">
<Description>
TrakCare FHIR REST Handler</Description>
<Super>HS.FHIR.vSTU3.REST.Handler,TC.hmf.FHIR.REST.Abstract</Super>
<TimeChanged>66007,22066.542841</TimeChanged>
<TimeCreated>63364,61791.853388</TimeCreated>

<XData name="UrlMap">
<Description>
The UrlMap describes how incoming REST URL requests and their parameters get
dispatched to each of the handler-methods in this class.</Description>
<Data><![CDATA[
<Routes>
<Route Url="/.well-known/:suffix" 	 	Method="GET" 		Call="processWellKnown"/>
<Route Url="/_history" 					Method="GET" 		Call="HistoryAll"/>
<Route Url="/metadata" 					Method="GET" 		Call="MetaData"/>
<Route Url="/Mailbox" 					Method="POST" 		Call="Mailbox"/>
<Route Url="/Document" 					Method="POST" 		Call="Document"/>
<Route Url="/_search" 					Method="POST" 		Call="SearchAllPost"/>
<Route Url="/" 							Method="POST" 		Call="Transaction"/>
<Route Url="/" 							Method="GET" 		Call="SearchAll"/>
<Route Url="/:type/_search" 			Method="POST" 		Call="SearchPost"/>
<Route Url="/:type/_history" 			Method="GET" 		Call="HistoryType"/>
<Route Url="/:type/_validate/:id" 		Method="POST" 		Call="Validate"/>
<Route Url="/:type/_validate" 			Method="POST" 		Call="Validate"/>
<Route Url="/:type/:id/_history/:vid"	Method="GET" 		Call="VRead"/>
<Route Url="/:type/:id/_history" 		Method="GET" 		Call="History"/>
<Route Url="/:type/:id" 				Method="GET" 		Call="Read"/>
<Route Url="/:type/:id" 				Method="PUT" 		Call="Update"/>
<Route Url="/:type" 					Method="PUT" 		Call="ConditionalUpdate"/>
<Route Url="/:type/:id" 				Method="DELETE" 	Call="Delete"/>
<Route Url="/:type" 					Method="DELETE" 	Call="ConditionalDelete"/>
<Route Url="/:type"			 			Method="GET" 		Call="Search"/>
<Route Url="/:type" 					Method="POST" 		Call="Create"/>
<Route Url="/:type/:operation" 			Method="POST" 		Call="OperationResourceType"/>
<Route Url="/:type/:id/:operation" 		Method="POST" 		Call="OperationResourceInstance"/>
<Route Url="/:compartment/:id/:type" 	Method="GET" 		Call="CompartmentSearch"/>
</Routes>
]]></Data>
</XData>

<Method name="marshallRequest">
<Description>

Marshall the incoming FHIR REST request into a message ready for dispatch to the FHIR business service
</Description>
<Internal>1</Internal>
<ClassMethod>1</ClassMethod>
<FormalSpec><![CDATA[pContentType:%String,pInteraction:%String,pType:%String,pId:%String,pVersion:%String,pCompartment:%String,pParamCount:%Integer,&pRequest:HS.Message.FHIR.Request,pAccept:%String]]></FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	#dim tStatus as %Status = $$$OK
	try {
		
		
		#dim tKey as %String
		#dim tSubKey as %String
		#dim tItem as %String
		#dim tHeader as %String
		#dim tContentType as %String
		#dim %request as %CSP.Request
		
		// Construct a new FHIR request object and populate it with the contents of the HTTP request
		set pRequest = ##class(HS.Message.FHIR.Request).%New()
		
		set tBaseURL = %request.Application
		if $extract(tBaseURL, *)="/" set tBaseURL = $extract(tBaseURL, 1, *-1)
		set pRequest.BaseURL = tBaseURL
		
		set pRequest.Interaction = pInteraction
		set pRequest.ContentType = pContentType
		set pRequest.Accept = pAccept
		set pRequest.Type = pType
		set pRequest.Id = $zconvert(pId,"U")
		set pRequest.VId = pVersion
		set pRequest.Compartment = pCompartment
		set pRequest.FHIRVersion = %fhircspconfig.FHIRVersion
		
		// Copy in any HTTP query values
		set tKey = ""
		for {
			set tKey = $order(%request.Data(tKey))
			quit:tKey=""
			
			// Look for subkeys in case of duplicate query parameters
			set (tSubKey, tItem) = ""
			for {
				set tSubKey = $order(%request.Data(tKey,tSubKey))
				quit:tSubKey=""
				
				// NOTE: We store this as a $LIST of possible values in order of appearance
				set tItem = tItem_$listbuild(%request.Data(tKey,tSubKey))
			}
			
			// Copy the URL query parameters
			do pRequest.Parameters.SetAt(tItem, tKey)
		}
		
		// Copy in any HTTP header values
		set tKey = ""
		for {
			set tKey = $order(%request.CgiEnvs(tKey))
			quit:tKey=""
			
			if tKey?1"HTTP_"1.E {
				// Determine the proper header name (will be all caps unfortunately)
				set tHeader = $piece(tKey,"HTTP_",2,*)
				
				// Copy the HTTP headers
				do pRequest.Headers.SetAt(%request.CgiEnvs(tKey), tHeader)
			} elseif tKey="REMOTE_ADDR" {
				// AdditionalInfo ClientAddr is added to provide an
				// indication in the message trace of the client IP
				// address.
				do pRequest.AdditionalInfo.SetAt(%request.CgiEnvs(tKey), "ClientAddr")
			}
		}
		
		do pRequest.AdditionalInfo.SetAt(%request.Secure, "Secure")
		do pRequest.AdditionalInfo.SetAt(%session.SessionId, "CSPSessionId")
		
		set tConformance = %fhircspconfig.ConformanceId
		set tOAuth = %fhircspconfig.UseOAuth
		set tResourceServerClient = %fhircspconfig.ResourceServerOAuthClient
		
		if tConformance'="" do pRequest.AdditionalInfo.SetAt(tConformance, "CapabilityStatementId")
		
		// The OAuth token processing here is a little redundant to that done in OnPreDispatch.
		// Measures are taken here to minimize the overhead. OnPreDispatch is meant to catch
		// an invalid access token before the UrlMap is even reached. marshallRequest needs
		// the access token information to formulate a session id in case it is needed, and
		// to populate a field in the FHIR message request so that the JWT is carried
		// forward into the rest of the FHIR processing.
		// Regarding access token validation:
		// 1. Absence of access token in Conformance request is okay.
		// 2. Absence of access token in request that is NOT Conformance is an error.
		// 3. Invalid access token (has value but is invalid), even when in a Conformance request, is an error.
		// 4. Current audience must match one of the token audiences, if the token has any.
		if tOAuth {
			set tStatus = ..ValidateOAuthToken(pRequest.Interaction, .tOAuthSessionId, .tJWTString, .tJWTObj)
			if $$$ISERR(tStatus) quit
			set patID = ##class(%DynamicAbstractObject).%FromJSON(tJWTString).%Get("patient")
			
			if pRequest.Type="Patient",pRequest.Id'=patID
			{
				do ..ReportHttpStatusCode(..#HTTP401UNAUTHORIZED)	// try access another patient with same token error 404
			}
			do:patID'="" pRequest.AdditionalInfo.SetAt(patID, "patient")
			
			if pRequest.GetParameterValue("patient")=""
			{
				do:patID'="" pRequest.SetParameter("patient",patID)
			}
			elseif pRequest.GetParameterValue("patient")'=patID
			{
				do ..ReportHttpStatusCode(..#HTTP401UNAUTHORIZED)	// try access another patient with same token error 404
			}
			
			
			do pRequest.Parameters.RemoveAt("patient")
			do pRequest.SetParameter("patient",$zconvert(patID,"U"))
			
			do pRequest.AdditionalInfo.SetAt(tOAuthSessionId, "OAuthSessionId")
			do pRequest.AdditionalInfo.SetAt(tJWTString, "JSONWebToken")
			do pRequest.AdditionalInfo.SetAt(%fhircspconfig.ResourceServerOAuthClient, "OAuthClient")
			do pRequest.AdditionalInfo.SetAt(%fhircspconfig.DisableCORS, "DisableCORS")
		}
		
		// UserIDAndRoles may be based on access token or on CSP basic authentication.
		do ..GetUserIDAndRoles($get(tJWTObj), .tUserID, .tUserRoles)
		if tUserID'="" do pRequest.AdditionalInfo.SetAt(tUserID, "USER:UserID")
		if tUserRoles'="" do pRequest.AdditionalInfo.SetAt(tUserRoles, "USER:Roles")
		
		// Copy the HTTP body (if any)
		if $isobject(%request.Content) {
			set tRequestStream = ##class(HS.SDA3.QuickStream).%New()
			set pRequest.QuickStreamId = tRequestStream.%Id()
			// If the request body is XML, strip off the XML prolog, if present.
			// Any encoded characters have already been converted to internal format
			// (by virtue of having CONVERTINPUTSTREAM=1). Having the XML prolog, if it
			// contains "encoding='UTF-8'", will cause XML parsing to error, as it will
			// try to convert the already-converted characters.
			if ($zconvert(pRequest.ContentType,"U") [ "XML") && (%request.Content.Read(5) = "<?xml") {
				while (%request.Content.Read(1) '= ">") { }
				while ('%request.Content.AtEnd) { do tRequestStream.Write(%request.Content.Read()) }
			}
			else {
				// Copy the incoming payload
				set tStatus = tRequestStream.CopyFrom(%request.Content)
				quit:$$$ISERR(tStatus)
			}
		}

	} catch (tUnexpected) {
		set tStatus = tUnexpected.AsStatus()
	}
	
	kill %accesstokenjwtobj
	kill %accesstokenstring
	
	quit tStatus
]]></Implementation>
</Method>

<Method name="OnPreDispatch">
<Description>
OnPreDispatch overrides the same method from %CSP.Request.  If pContinue is set to 0,
the request will NOT be dispatched according to the UrlMap. If this case it's the
responsibility of the user to return a response.</Description>
<ClassMethod>1</ClassMethod>
<FormalSpec><![CDATA[pUrl:%String,pMethod:%String,&pContinue:%Boolean]]></FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	#dim %request as %CSP.Request
	
	set pContinue = 1
	try {
		// Hold the FHIR CSP Config data in a % variable or else this class does URLIndexOpen
		// four times for each CSP request.  Subsequent usage of this variable is guaranteed to have a
		// valid object in '%fhircspconfig'
		// If the Config data cannot be found, return a Http 500 indicating that the App has been mis-configured.
		set tApplication = %request.Application
		if $extract(tApplication, *)="/" set tApplication = $extract(tApplication, 1, *-1)
		set %fhircspconfig = ##class(HS.Registry.FHIRCSPConfig).URLIndexOpen(tApplication)
		if '$isobject($get(%fhircspconfig))  {
			$$$ThrowStatus($$$ERROR($$$GeneralError,"FHIR App Configuration Data is Missing for "_tApplication))
		}
		
		if ..ISOAuthRequired()=0 quit
		if %fhircspconfig.ResourceServerOAuthClient="" set %fhircspconfig.ResourceServerOAuthClient="HSRESOURCESERVER"
		
		#; metadata and OPTIONS are two ways of requesting the Conformance statement.
		#; Conformance holds the authorization end point and token end point.
		set tIsConformance = 0
		if (%request.PageName="smart-configuration")&&(%request.CgiEnvs("REQUEST_METHOD")="GET") set tIsConformance = 1
		if (%request.PageName="metadata")&&(%request.CgiEnvs("REQUEST_METHOD")="GET") set tIsConformance = 1
		if %request.CgiEnvs("REQUEST_METHOD")="OPTIONS" set tIsConformance = 1
		
		// Present but blank Authorization header value will return an error. Aside from that,
		// the absence of an access token will not give an error, and will just come back with
		// tAccessToken="".
		set tAccessToken = ##class(%SYS.OAuth2.AccessToken).GetAccessTokenFromRequest(.tStatus)
		if $$$ISERR(tStatus) {
			set pContinue = 0
			if ..ReportHttpStatusCode(..#HTTP401UNAUTHORIZED)
			quit
		}
		// Blank or missing access token is okay with a Conformance interaction, and is
		// not okay if not a Conformance interaction. In either case for blank access
		// token, no need for further processing.
		if tAccessToken="" {
			if 'tIsConformance {
				set pContinue = 0
				if ..ReportHttpStatusCode(..#HTTP401UNAUTHORIZED)
			}
			quit
		}
		
		set tSC = $$$OK
		set tStatus = $$$OK
		set tReturn = ##class(%SYS.OAuth2.Validation).ValidateJWT(%fhircspconfig.ResourceServerOAuthClient, tAccessToken, "", "", .tJWTObj, .tSecurityParams, .tSC)
		
		
		
		
		if tReturn=0 {
			// tSC of 8873 is OAuth2JWTNotValid, which is returned when it is a JWT
			// (passes structural integrity and encryption, etc) AND it fails on aud,
			// or exp, or iss, or scope.
			if ($$$ISERR(tSC))&&((","_$system.Status.GetErrorCodes(tSC)_",")'[",8873,") {
				// Does not appear to be a valid JWT, try GetIntrospection.
				// An example of a tSC that gets us to this point is:
				// ERROR #8896: No private key found for alg: RSA-OAEP.
				
				
				
				set tStatus = ##class(%SYS.OAuth2.AccessToken).GetIntrospection(%fhircspconfig.ResourceServerOAuthClient, tAccessToken, .tJWTObj)
				
				
			} else {
				#; Is a JWT, but not valid.
				set tStatus = tSC
				quit
			}
		}
		
		// If GetIntrospection failed due to an error then return 401 Unauthorized.
		if $$$ISERR(tStatus) {
			set pContinue = 0
			if ..ReportHttpStatusCode(..#HTTP401UNAUTHORIZED)
			quit
		}
		
		
		
		
		// If GetIntrospection returned a JWT then check the JWT "active" property.
		// If GetIntrospection detects invalid access token then it returns active=false.
		
		set ^zTRAK("HMF","FHIR","REST","json")=tJWTObj.%ToJSON()
		
		if $isobject($get(tJWTObj)) {
			if (tJWTObj.active'="")&&(tJWTObj.active=0) {
				set pContinue = 0
				if ..ReportHttpStatusCode(..#HTTP401UNAUTHORIZED)
				set ^zTRAK("HMF","FHIR","REST","status")="inactive token"
				quit
			} else {
				set tMatched = ##class(HS.FHIR.Utils).ValidateAudience(tJWTObj)
				if 'tMatched,..GetOAuthAudRequired()=1 {
					set pContinue = 0
					set ^zTRAK("HMF","FHIR","REST","status")="invalid aud"
					if ..ReportHttpStatusCode(..#HTTP401UNAUTHORIZED)
					quit
				}
				if tJWTObj.exp'="" {
					if tJWTObj.exp < ##class(%OAuth2.Utils).TimeInSeconds($ztimestamp,0) {
						set pContinue = 0
						set ^zTRAK("HMF","FHIR","REST","status")="expired token"
						if ..ReportHttpStatusCode(..#HTTP401UNAUTHORIZED)
						quit
					}
				}
				
				set %accesstokenstring = tAccessToken
				set %accesstokenjwtobj = tJWTObj
			}
		}
		
	} catch ex {
		set pContinue = 0
		do ..Http500(ex)
	}
	
	quit $$$OK
]]></Implementation>
</Method>

<Method name="ValidateOAuthToken">
<Description>
Validate Oauth2 Token</Description>
<ClassMethod>1</ClassMethod>
<FormalSpec><![CDATA[pInteraction:%String,&pOAuthSessionId:%String,&pJWTString:%String,&pJWTObj:%Library.DynamicObject]]></FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	set tSC = $$$OK
	
	set pOAuthSessionId = ""
	set pJWTString = ""
	set pJWTObj = ""
	
	try {
		// The OAuth token processing here is a little redundant to that done in OnPreDispatch.
		// Measures are taken here to minimize the overhead. OnPreDispatch is meant to catch
		// an invalid access token before the UrlMap is even reached. The processing here uses
		// the access token information to formulate a session id in case it is needed, and
		// to populate a field in the FHIR message request so that the JWT is carried forward
		// into the rest of the FHIR processing.
		// Regarding access token validation:
		// 1. Absence of access token in Conformance request is okay.
		// 2. Absence of access token in request that is NOT Conformance is an error.
		// 3. Invalid access token (has value but is invalid), even when in a Conformance request, is an error.
		// 4. Current audience must match one of the token audiences, if the token has any.
		
		// %accesstokenstring and %accesstokenjwtobj are created by OnPreDispatch upon
		// successful validation of the access token. Use those values if present.
		
		if $get(%accesstokenstring)'="" {
			set tAccessToken = %accesstokenstring
		} else {
			// For GetAccessTokenFromRequest, a present but blank Authorization header value will
			// return an error. Aside from that, the absence of an access token will not give an
			// error, it will just come back with tAccessToken="".
			set tAccessToken = ##class(%SYS.OAuth2.AccessToken).GetAccessTokenFromRequest(.tSC)
			if $$$ISERR(tSC) {
				set tSC = $$$ERROR($$$GeneralError, "Error getting access token from request - "_$system.Status.GetErrorText(tSC))
				quit
			}
		}
		
		// Blank or missing access token is okay with a Conformance interaction, and is
		// not okay if not a Conformance interaction.
		if (tAccessToken="") {
			if pInteraction'="capabilities" {
				set tSC = $$$ERROR($$$GeneralError, "Access token not found")
			}
			quit
		}
		
		// Formulate a user session id using the access token as a basis.
		set tHash = $system.Encryption.SHA1Hash(tAccessToken)
		set tString = ""
		for i = 1:1:$length(tHash) {
			set tC = $extract(tHash, i)
			set tA = $ascii(tC)
			#; Convert from extended ascii if needed.
			if (tA<32)||(tA>122) set tC = $char(32+(tA#91))
			set tString = tString_tC
		}
		set pOAuthSessionId = tString
		
		if $isobject($get(%accesstokenjwtobj)) {
			set pJWTObj = %accesstokenjwtobj
		} else {
			// Do not pass the current audience into ValidateJWT, we will do
			// our own compare of curent audience to token audience(s).
			set tReturn = ##class(%SYS.OAuth2.Validation).ValidateJWT(%fhircspconfig.ResourceServerOAuthClient, tAccessToken, "", "", .pJWTObj, .tSecurityParams, .tSC)
			if tReturn=0 {
				if ($$$ISERR(tSC))&&((","_$system.Status.GetErrorCodes(tSC)_",")[",8873,") {
					// tSC of 8873 is OAuth2JWTNotValid, which is returned when it is a JWT
					// (passes structural integrity and encryption, etc) AND it fails on aud,
					// or exp, or iss, or scope.
					// Is a JWT, but not valid.
					set tSC = $$$ERROR($$$GeneralError, "Invalid access token")
					quit
				} else {
					// Does not appear to be a valid JWT, try GetIntrospection.
					set tSC = ##class(%SYS.OAuth2.AccessToken).GetIntrospection(%fhircspconfig.ResourceServerOAuthClient, tAccessToken, .pJWTObj)
					if $$$ISERR(tSC) quit
				}
			}
		}
		
		// Unclear if pJWTObj can be not an object by this point.
		if '$isobject($get(pJWTObj)) {
			set tSC = $$$ERROR($$$GeneralError, "Invalid access token")
			quit
		}
		
		// If the JWT is invalid then GetIntrospection will return a JSON object with
		// a single property 'active' set to false (0).
		if (pJWTObj.active'="")&&(pJWTObj.active=0) {
			set tSC = $$$ERROR($$$GeneralError, "Invalid access token")
			quit
		}
		
		// Compare the current audience against the aud value(s), if any, in the access
		// token. This compare is trailing-slash-insensitive and case-insensitive.
		if '##class(HS.FHIR.Utils).ValidateAudience(pJWTObj) {
			set tSC = $$$ERROR($$$GeneralError, "Invalid audience for access token")
			quit
		}
		
		#; Create a JSON string of selected properties from the JWT object.
		#;
		#; Some pJWTObj properties available are:
		#; active (true/false - will be false if the access token was found to be invalid)
		#; scope (space delimited string of scopes)
		#; sub (username)
		#; iss (token issuer, e.g., https://argonaut.intersystems.com/oauth2)
		#; aud (audience, e.g., https://argonaut.intersystems.com/fhiroauth2)
		#; client_id (client id string)
		#; username (username)
		#; token_type (e.g., bearer)
		#; exp (expire time, expressed as number of seconds since start of the Unix epoch)
		#; iat (authoriztion time, expressed as number of seconds since start of the Unix epoch)
		#; nbf (authorization time, expressed as number of seconds since start of the Unix epoch)
		#;
		#; As part of creating the JSON string, this method creates a new
		#; object and adds properties to it.  We cannot remove properties
		#; from the existing object, because it is a DynamicAbstractObject,
		#; and does not have access to the %Remove() method.
		
		set tJWTProps = "patient,active,scope,client_id,username,token_type,exp,iat,nbf,sub,aud,iss,jti,healthshare_roles,healthshare_username,name"
		
		set tNewJWTObj = ##class(%DynamicAbstractObject).%FromJSON("{}")
		for i = 1:1:$length(tJWTProps,",") {
			set tJWTProp = $piece(tJWTProps,",",i)
			if tJWTProp="" continue
			set tValue = pJWTObj.%Get(tJWTProp)
			if tValue'="" set tNewJWTObj = tNewJWTObj.%Set(tJWTProp, tValue)
		}
		set pJWTString = tNewJWTObj.%ToJSON()
		
	} catch eException {
		set tSC = eException.AsStatus()
	}
	
	quit tSC
]]></Implementation>
</Method>

<Parameter name="SrcVer">
<Description>
This Parameter is updated by Perforce</Description>
<Default>$Id: //trak/main/projects/T2020/XX06_HMF/cls/TC/hmf/FHIR/STU3/REST/Handler.xml#3 $</Default>
</Parameter>
</Class>


<Class name="TC.hmf.FHIR.Server.Operation.TCOutbound">
<Description>
Sample class to demonstrate use of a Pure Query type edge</Description>
<Super>Ens.BusinessOperation</Super>
<TimeChanged>66012,49081.597532</TimeChanged>
<TimeCreated>62509,56668.646558</TimeCreated>

<Parameter name="ADAPTER">
<Default>EnsLib.SOAP.OutboundAdapter</Default>
</Parameter>

<Parameter name="SrcVer">
<Description>
This Parameter is updated by Perforce</Description>
<Default>$Id: //trak/main/DEV/element/config/TC/hmf/Adapter/Production/HSPORTAL.xml#7 $</Default>
</Parameter>

<Property name="TCOutboundService">
<Description>
SOAP Service Registry entry for the target TrakCare HMF System production 
Should target the inbound query servoce</Description>
<Type>%String</Type>
<Parameter name="MAXLEN" value="255"/>
</Property>

<Parameter name="SETTINGS">
<Type>%String</Type>
<Default><![CDATA[TCOutboundService:Basic:selector?Select=1&context={HS.Util.ContextSearch/ServiceNameItemsByParam?Type=SOAP}]]></Default>
</Parameter>

<Parameter name="DISTRIBUTESOURCE">
<Type>%String</Type>
<Default>1</Default>
</Parameter>

<XData name="MessageMap">
<Data><![CDATA[
<MapItems>
	<MapItem MessageType="HS.Message.XMLMessage">
		<Method>SendXML</Method>
	</MapItem>
</MapItems>
]]></Data>
</XData>

<Method name="SendXML">
<Description>
Grossly oversimplified example of an external on demand pure query.
Expect there to be a file in the specified file path for each patient, and the file name should be:
theFacility^theAA^theMRN.txt</Description>
<FormalSpec>pRequest:HS.Message.XMLMessage,pResponse:HS.Message.XMLMessage</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	#dim sc as %Status
	set sc=$$$OK
	// Specify the endpoint to connect
	if ..TCOutboundService'="" {
		set tEndPoint = ##class(HS.Registry.Service.SOAP).EndPointForNameType(..TCOutboundService,"SOAP")
		if $isobject(tEndPoint) {
			set tURL=tEndPoint.EndPoint
			set ..Adapter.SOAPCredentials=tEndPoint.UsernameTokenProfileConfig
			set ..Adapter.SSLConfig=tEndPoint.SSLConfig
			set ..Adapter.WebServiceURL = tURL
			set ..Adapter.WebServiceClientClass="TC.hmf.FHIR.Server.wsClient.TCOutbound"
			// Call the Web Service
			set tMethod="Send"
			set sc = ..Adapter.InvokeMethod(tMethod, .rtnSC, pRequest, .pResponse)
			if $$$ISERR(rtnSC) quit rtnSC
		}
	}else{
		if ..Adapter.WebServiceClientClass="" set sc=$$$ERROR("Error^No web service client class defined")
	}
	quit $$$OK
]]></Implementation>
</Method>
</Class>


<Class name="TC.hmf.FHIR.Server.Operation.TCQuery">
<IncludeCode>%occStatus</IncludeCode>
<Super>Ens.BusinessOperation</Super>
<TimeChanged>66012,52773.139392</TimeChanged>
<TimeCreated>65456,39601.915291</TimeCreated>

<Parameter name="ADAPTER">
<Default>EnsLib.SOAP.OutboundAdapter</Default>
</Parameter>

<Property name="TCQueryService">
<Description>
SOAP Service Registry entry for the target TrakCare HMF System production 
Should target the inbound query servoce</Description>
<Type>%String</Type>
<Parameter name="MAXLEN" value="255"/>
</Property>

<Parameter name="SETTINGS">
<Type>%String</Type>
<Default><![CDATA[TCQueryService:Basic:selector?Select=1&context={HS.Util.ContextSearch/ServiceNameItemsByParam?Type=SOAP},EnabledDataSegments:Basic:selector?multiSelect=1&context={TC.hmf.FHIR.Utils/GetSDA3SegmentList}]]></Default>
</Parameter>

<Property name="EnabledDataSegments">
<Description><![CDATA[
Supported SDA segments to be used for data retrieval from TrakCare.<br>
This data is used to populate FHIR respository for the FHIR response.<br>
If none selected then all supported segments will be retrieved.]]></Description>
<Type>Ens.DataType.ConfigName</Type>
<InitialExpression>"Alert,Allergy,Encounter,Patient,Problem,RadOrder,LabOrder,Diagnosis,Appointment,Medication,Observation,Vaccination"</InitialExpression>
<Parameter name="MAXLEN" value="1024"/>
</Property>

<XData name="MessageMap">
<Data><![CDATA[
<MapItems>
    <MapItem MessageType="HS.Message.ECRQueryRequest"> 
		<Method>PatientFetchRequest</Method>
	</MapItem>
	<MapItem MessageType="HS.Message.PatientSearchRequest"> 
		<Method>PatientSearchRequest</Method>
	</MapItem>
</MapItems>
]]></Data>
</XData>

<Method name="PatientFetchRequest">
<FormalSpec>pRequest:HS.Message.ECRQueryRequest,*pResponse:HS.Message.ECRQueryResponse</FormalSpec>
<ReturnType>%Library.Status</ReturnType>
<Implementation><![CDATA[
	#dim sc as %Status
	set sc=$$$OK
	do:pRequest.AdditionalInfo.GetAt("EnabledSegmentData")="" pRequest.AdditionalInfo.SetAt(..EnabledDataSegments,"EnabledSegmentData")
	
	// demo mode 
	if pRequest.MRN="DEMO"
	{
   		Set compiledXdata=##class(%Dictionary.CompiledXData).%OpenId("TC.hmf.FHIR.Demo.SDA.DemoPatient||DemoSDA")
   		Set pSDAStream=compiledXdata.Data
   		set pResponse=##class(HS.Message.ECRQueryResponse).%New()
   		do pResponse.ContentStream.CopyFrom(pSDAStream)
   		set pResponse.ResponseString="DEMO MODE"
		
		quit $$$OK
	}
	// Specify the endpoint to connect
	if ..TCQueryService'="" {
		set tEndPoint = ##class(HS.Registry.Service.SOAP).EndPointForNameType(..TCQueryService,"SOAP")
		set ^zTRAK("HMF","FHIR","Operation","tEndPoint")=tEndPoint
		if $isobject(tEndPoint) {
			set tURL=tEndPoint.EndPoint
			set ..Adapter.SOAPCredentials=tEndPoint.UsernameTokenProfileConfig
			set ..Adapter.SSLConfig=tEndPoint.SSLConfig
			set ..Adapter.WebServiceURL = tURL
			set ..Adapter.WebServiceClientClass="TC.hmf.FHIR.Server.wsClient.TCQuery"
			// Call the Web Service
			set tMethod="PatientFetch"
			set sc = ..Adapter.InvokeMethod(tMethod, .rtnSC, pRequest, .pResponse)
			if $$$ISERR(rtnSC) quit rtnSC
		}
	}else{
		if ..Adapter.WebServiceClientClass="" set sc=$$$ERROR("Error^No web service client class defined")
	}
	quit sc
]]></Implementation>
</Method>

<Method name="PatientSearchRequest">
<FormalSpec>pRequest:HS.Message.PatientSearchRequest,*pResponse:HS.Message.PatientSearchResponse</FormalSpec>
<ReturnType>%Library.Status</ReturnType>
<Implementation><![CDATA[
	#dim sc as %Status
	set sc=$$$OK
	
	// Specify the endpoint to connect
	if ..TCQueryService'="" {
		set tEndPoint = ##class(HS.Registry.Service.SOAP).EndPointForNameType(..TCQueryService,"SOAP")
		set ^zTRAK("HMF","FHIR","Operation","tEndPoint")=tEndPoint
		if $isobject(tEndPoint) {
			set tURL=tEndPoint.EndPoint
			set ..Adapter.SOAPCredentials=tEndPoint.UsernameTokenProfileConfig
			set ..Adapter.SSLConfig=tEndPoint.SSLConfig
			set ..Adapter.WebServiceURL = tURL
			set ..Adapter.WebServiceClientClass="TC.hmf.FHIR.Server.wsClient.TCQuery"
			set ^zTRAK("HMF","FHIR","Operation","tURL")=tURL
			
			// Call the Web Service
			set tMethod="PatientSearch"
			set sc = ..Adapter.InvokeMethod(tMethod, .rtnSC, pRequest, .pResponse)
			set ^zTRAK("HMF","FHIR","Operation","Invoke")=sc_"^"_rtnSC
			if $$$ISERR(rtnSC) quit rtnSC
		}
	}else{
		if ..Adapter.WebServiceClientClass="" set sc=$$$ERROR("Error^No web service client class defined")
	}
	quit sc
]]></Implementation>
</Method>

<Parameter name="SrcVer">
<Description>
This Parameter is updated by Perforce</Description>
<Default>$Id: //trak/main/projects/T2020/XX06_HMF/cls/TC/hmf/FHIR/Server/Operation.xml#3 $</Default>
</Parameter>
</Class>


<Class name="TC.hmf.FHIR.Server.Process.FHIRRouter">
<IncludeCode>HS.HC</IncludeCode>
<Super>Ens.BusinessProcess,HS.FHIR.FromSDA.DTL.Base</Super>
<TimeChanged>66031,39582.5172108</TimeChanged>
<TimeCreated>65420,51234.627704</TimeCreated>

<Parameter name="SETTINGS">
<Default><![CDATA[CleanupPatData:Basic,SessionApplication:Basic,SDAToFHIRConfigName:Basic:selector?context={Ens.ContextSearch/ProductionItems?targets=1&productionName=@productionId},FHIRToSDAConfigName:Basic:selector?context={Ens.ContextSearch/ProductionItems?targets=1&productionName=@productionId},FHIRRepoConfigName:Basic:selector?context={Ens.ContextSearch/ProductionItems?targets=1&productionName=@productionId},TCRouterConfigName:Basic:selector?context={Ens.ContextSearch/ProductionItems?targets=1&productionName=@productionId},FHIRVersion:Basic,DataRefreshInterval:Basic,ResourceSchemaRoot:Basic,TransmissionMode:Basic]]></Default>
</Parameter>

<Property name="CleanupPatData">
<Description>
clean patient clinical data on refresh </Description>
<Type>%Boolean</Type>
<InitialExpression>1</InitialExpression>
</Property>

<Property name="ResourceSchemaRoot">
<Description>
The class package that is the root of all resource schemas for the desired data model.</Description>
<Type>%String</Type>
<InitialExpression>"HS.FHIR.vSTU3.Model.Resource"</InitialExpression>
<Parameter name="MAXLEN" value="256"/>
</Property>

<Property name="FHIRRepoConfigName">
<Description>
Business host to which to forward the FHIR request message.</Description>
<Type>Ens.DataType.ConfigName</Type>
</Property>

<Property name="FHIRToSDAConfigName">
<Description>
Business host to which transform FHIR To SDA</Description>
<Type>Ens.DataType.ConfigName</Type>
</Property>

<Property name="SDAToFHIRConfigName">
<Description>
Business host to which transform FHIR To SDA</Description>
<Type>Ens.DataType.ConfigName</Type>
</Property>

<Property name="TCRouterConfigName">
<Description>
Business host to which to forward the FHIR request message.</Description>
<Type>Ens.DataType.ConfigName</Type>
</Property>

<Property name="DataRefreshInterval">
<Description><![CDATA[
Data time refresh interval in seconds.<br>
Only retrieve data from TrakCare if time interval since last<br>
refresh exceeds this interval parameter value.<br>
If not set then default value of 120 seconds is applied.]]></Description>
<Type>%Integer</Type>
<InitialExpression>0</InitialExpression>
</Property>

<Property name="FHIRVersion">
<Type>%String</Type>
<InitialExpression>"DSTU2"</InitialExpression>
<Parameter name="DISPLAYLIST" value=",DSTU2,STU3,R3,R4"/>
<Parameter name="VALUELIST" value=",DSTU2,STU3,R3,R4"/>
</Property>

<Property name="FHIRFormat">
<Description>
More Properties we added for Demo
The FHIR format to use for FHIR request message payload.</Description>
<Type>%String</Type>
<InitialExpression>"application/fhir+json"</InitialExpression>
<Parameter name="DISPLAYLIST" value=",JSON,XML"/>
<Parameter name="VALUELIST" value=",application/fhir+json,application/fhir+xml"/>
</Property>

<Property name="FormatFHIROutput">
<Description>
If checked, causes any created FHIR payload to include indent and line end
formatting characters to enhance the readability of the raw content.</Description>
<Type>%Boolean</Type>
<InitialExpression>0</InitialExpression>
</Property>

<Property name="ValidResourceRequired">
<Description>
If checked, then the FHIR that is generated by the SDA3 to FHIR DTL transformation
must be valid FHIR. If it fails validation, then it will not be forwarded.
Regardless of the value of this setting, validation failures will be logged in
the Event Log as alert messages.</Description>
<Type>%Boolean</Type>
<InitialExpression>1</InitialExpression>
</Property>

<Property name="OutputToQuickStream">
<Description>
If this setting is checked, the FHIR output will be placed in an
HS.SDA3.QuickStream, and the QuickStreamId property of the request message
will be set to the id of that QuickStream.</Description>
<Type>%Boolean</Type>
<InitialExpression>0</InitialExpression>
</Property>

<Property name="FullTransactionResponse">
<Description>
If checked, the FHIR request message that this process sends to the target
config will be created with a "PREFER" header value set to 
"return=representation". Per the FHIR spec, this header indicates to a FHIR
server that every created or updated resource should be returned in its
entirety as it is saved (ie, with any modifications applied by the server).
Whether the server actually does this depends on the server. In general,
this setting should be left unchecked except during debugging or if the
FHIR client has a specific need to receive back the created/updated
resources, as requesting this information is likely to increase response
time from the FHIR server.</Description>
<Type>%Boolean</Type>
<InitialExpression>0</InitialExpression>
</Property>

<Property name="CallbackClass">
<Description>
Class to use for the callback object that is invoked during the DTL transformation
process. If this setting is left blank, at run-time it is defaulted to
"HS.FHIR.DTL.Util.API.HC.Callback.Default.SDA3To"+FHIRVersion. FHIRVersion is
to be derived from the FHIRVersion setting on this business host.</Description>
<Type>%String</Type>
<Parameter name="MAXLEN" value="256"/>
</Property>

<Property name="TransmissionMode">
<Type>%String</Type>
<InitialExpression>"transaction"</InitialExpression>
<Parameter name="DISPLAYLIST" value=",transaction,individual"/>
<Parameter name="VALUELIST" value=",transaction,individual"/>
</Property>

<Property name="SessionApplication">
<Type>%String</Type>
</Property>

<Method name="OnRequest">
<FormalSpec>pRequest:%Library.Persistent,*pResponse:%Library.Persistent</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	//calls ProcessFHIRRequest for handling FHIR search requests
	set tSC = $$$OK
	
	try {
		set tSC=$$$OK
		
		if pRequest.%IsA("HS.Message.FHIR.Request") {
			if (pRequest.Interaction'="conformance")&&(pRequest.Interaction'="capabilities") {
				set tSC = ..ProcessFHIRRequestLegacy(pRequest, .pResponse)
			} else {
				set tSC = ..ProcessMetadataLegacyRequest(pRequest, .pResponse)
			}
		}
		elseif pRequest.%IsA("HS.FHIRServer.Interop.Request") {
			if pRequest.Request.RequestMethod="POST"
			{
				set tSC = ..PostFHIR(pRequest, .pResponse)
			}
			elseif pRequest.Request.RequestMethod="DELETE"
			{
				set tSC = ..SendRequestSync(..FHIRRepoConfigName, pRequest, .pResponse)
			}
			elseif pRequest.Request.RequestMethod="GET"
			{
				set tSC = ..ProcessFHIRRequest(pRequest, .pResponse)
			}
			
			
		}
		elseif pRequest.%IsA("HS.Message.ECRQueryRequest") {
			set pMRN=pRequest.MRN
			do ..RefreshPatientRepository(pMRN,1,"",1)
		}
		else {
			set tSC = $$$ERROR($$$GeneralError, "Request type not handled:  " _ pRequest.%ClassName(1)) quit
		}
	} catch ex {
		set tSC = ex.AsStatus()
	}
	
	quit tSC
]]></Implementation>
</Method>

<Method name="PostFHIR">
<FormalSpec><![CDATA[pRequest,&pResponse]]></FormalSpec>
<Implementation><![CDATA[
	
	set tSC=..FHIRToSDA(pRequest,.pSDA)
	set tSC=..SDAToTrakCare(pSDA,.pXMLResponse)
	#Dim pXMLResponse As HS.Message.XMLMessage
	set Error=pXMLResponse.AdditionalInfo.GetAt("Error")
	set Status=pXMLResponse.AdditionalInfo.GetAt("Status")
	do ..ReplyToFHIR(Error,Status,.pResponse)
	
	quit $$$OK
]]></Implementation>
</Method>

<Method name="ReplyToFHIR">
<FormalSpec>Error,Status,*pResponse</FormalSpec>
<Implementation><![CDATA[
	//do:Error'="" $$$ERROR($$$GeneralError,Error)		
	set pResponse=##class(HS.FHIRServer.Interop.Response).%New()
	Set tQuickStream = ##class(HS.SDA3.QuickStream).%New()
	set result={"Status":(Status),"Error":(Error)}.%ToJSON()
	do tQuickStream.Write(result)
	set pResponse.QuickStreamId=tQuickStream.%Id()
	set pResponse.ContentType="application/json+fhir"
	quit $$$OK
]]></Implementation>
</Method>

<Method name="FHIRToSDA">
<FormalSpec><![CDATA[pRequest:HS.FHIRServer.Interop.Request,&pResponse:HS.Message.XMLMessage]]></FormalSpec>
<Implementation><![CDATA[
	set tSC=..SendRequestSync(..FHIRToSDAConfigName,pRequest,.pResponse)
	quit tSC
]]></Implementation>
</Method>

<Method name="SDAToTrakCare">
<FormalSpec><![CDATA[pRequest:HS.Message.XMLMessage,&pResponse:HS.Message.XMLMessage]]></FormalSpec>
<Implementation><![CDATA[
	set tSC=..SendRequestSync(..TCRouterConfigName,pRequest,.pResponse)
	quit tSC
]]></Implementation>
</Method>

<Method name="OnInit">
<FormalSpec>pRequest:%Library.Persistent,*pResponse:%Library.Persistent</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	set sc=##super()
 
	quit sc
]]></Implementation>
</Method>

<Method name="parseQueryString">
<ClassMethod>1</ClassMethod>
<FormalSpec><![CDATA[query,&data]]></FormalSpec>
<Implementation><![CDATA[
 //w ##class(TC.hmf.FHIR.Server.FHIRProcess).parseURLQuery("given=eslam&lastname=ali",.data) zw data
   
  Set query=$zconvert(query,"l")
  For i=1:1:$Length(query,"&") {
    Set qry=$Piece(query,"&",i),name=$Piece(qry,"=",1),value=$Piece(qry,"=",2)
    Set:name'="" data(name)=$ZCONVERT(value,"i","URL")
  }
   
  
  Quit $$$OK
]]></Implementation>
</Method>

<Method name="ValidateSearchResult">
<ClassMethod>1</ClassMethod>
<FormalSpec>parameter,result</FormalSpec>
<Implementation><![CDATA[
	
	set parameter=$system.SQL.ALPHAUP(parameter)
	set result=$system.SQL.ALPHAUP(result)
	
	if (parameter)=""&&(result="")
	{
		q 1
	}
	elseif (parameter)'=""&&(result="")
	{
		q 0
	}
	elseif $find(parameter,result)<0
	{
		q 0
	}
	else
	{
		
		q 1	
	}
]]></Implementation>
</Method>

<Method name="ProcessFHIRRequest">
<FormalSpec>pFHIRRequest,*pFHIRResponse</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	set tSC = $$$OK
	
	try {
		
		
		if ..FHIRRepoConfigName="" {
			set tSC = $$$ERROR($$$GeneralError, "Message not processed - FHIRRepoConfigName setting not defined on business host")
			quit
		}
		set type=$piece(pFHIRRequest.Request.RequestPath,"/",1)
		set id=$piece(pFHIRRequest.Request.RequestPath,"/",2)
		set appname=pFHIRRequest.Request.SessionApplication
		set querystring=pFHIRRequest.Request.QueryString
		if ((type="Patient")&&(querystring'="")&&($length(pFHIRRequest.Request.RequestPath,"/")=1))
		{ 
			$$$TRACE("search mode") 
			 set searchDateTime=$ZDT($H,3,7)
 			do ..PatientSearch(querystring)
			 set querystring=querystring_"&_lastUpdated=ge"_searchDateTime // make sure results updated based on tc search 
			 set pFHIRRequest.Request.QueryString=querystring	
		}
		elseif type="Patient",id'=""
		{	
			set tSC=..RefreshPatientRepository(id)
		}
		
		
		/// Now we have the repository updated with latest data  we can process query request
		set tSC = ..SendRequestSync(..FHIRRepoConfigName, pFHIRRequest, .pFHIRResponse)
		#; If tSC is an error then let HS.FHIR.Service catch it and create an OperationOutcome from it.
		if $$$ISERR(tSC) quit
		
		
		
		
		
		
		
	} catch ex {
		set tSC = ex.AsStatus()
	}
	
	quit tSC
]]></Implementation>
</Method>

<Method name="PatientSearch">
<FormalSpec>querystring</FormalSpec>
<Implementation><![CDATA[
	set pSearchRequest=##class(HS.Message.PatientSearchRequest).%New()
	do ..parseQueryString(querystring,.qryData)
	set:$g(qryData("given"))'="" pSearchRequest.FirstName =$g(qryData("given"))
	set:$g(qryData("family"))'="" pSearchRequest.LastName =$g(qryData("family"))
	set:$g(qryData("birthdate"))'="" pSearchRequest.DOB =$zdateh($g(qryData("birthdate")),3) 
	set:$g(qryData("gender"))'="" pSearchRequest.Sex =$g(qryData("gender"))
	#Dim pSearchResponse as HS.Message.PatientSearchResponse
	set tSC=..SendRequestSync(..TCRouterConfigName,pSearchRequest,.pSearchResponse)
	$$$TRACE("search done")
	if $$$ISERR(tSC) return tSC
	set count=pSearchResponse.ResultsCount
	$$$TRACE("records count:"_count)
	set id=""
	FOR index=1:1:count {
    		// skip soundex option 
    		continue:..ValidateSearchResult(pSearchRequest.FirstName,pSearchResponse.Results.GetAt(index).FirstName)=0
    		continue:..ValidateSearchResult(pSearchRequest.LastName,pSearchResponse.Results.GetAt(index).LastName)=0
    		quit:index>10
    		 set pTCMRN=pSearchResponse.Results.GetAt(index).MRN
    		do ..RefreshPatientRepository(pTCMRN,0,"Patient",1)
  	}
	quit $$$OK
]]></Implementation>
</Method>

<Method name="IsPatientDataNeedrefresh">
<FormalSpec>patID</FormalSpec>
<Implementation><![CDATA[
	
	
	quit:patID="" 0
	set refreshFlag=0
	set updatedatetime=$get(^zPatRepoRefresh($$$CurrentClass,..FHIRVersion,patID))
	set diff=$zhorolog-updatedatetime
	set refreshInterval=+..DataRefreshInterval
	if ((diff>refreshInterval)||(refreshInterval=0))
	{
		
		set refreshFlag	=1
	}
	quit refreshFlag
]]></Implementation>
</Method>

<Method name="ProcessFHIRRequestLegacy">
<FormalSpec>pFHIRRequest:HS.Message.FHIR.Request,*pFHIRResponse:HS.Message.FHIR.Response</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	set tSC = $$$OK
	
	try {

		
		if ..FHIRRepoConfigName="" {
			set tSC = $$$ERROR($$$GeneralError, "Message not processed - FHIRRepoConfigName setting not defined on business host")
			quit
		}
		
		if (pFHIRRequest.Interaction="create")||(pFHIRRequest.Interaction="update")||(pFHIRRequest.Interaction="patch")||($extract(pFHIRRequest.Interaction)="$") {
			if pFHIRRequest.Type'="" {
				set tSC = ##class(HS.FHIR.Utils).ValidateResourceTypeFHIR(pFHIRRequest.Type, ..ResourceSchemaRoot, .tIsValid)
				if $$$ISERR(tSC) quit
				if 'tIsValid {
					set tSC = pFHIRRequest.NewResponse(.pFHIRResponse)
					if $$$ISERR(tSC) quit
					set pFHIRResponse.Id = pFHIRRequest.Id
					set pFHIRResponse.Type = pFHIRRequest.Type
					set pFHIRResponse.Status = 404
					quit
				}
			}
		}
	
		set (identifier,identifierList,rPatID,tcMRN,tMPIID,tResponseStreamID,tResponseURL,tProcessSDARequest)=""
		set interaction=pFHIRRequest.Interaction
		set type=pFHIRRequest.Type
		set compartment=pFHIRRequest.Compartment
		if compartment'="" {
			set qryType=compartment
		}elseif type'="" {
			set qryType=type
		}
		
		set qryid=""
		set page=pFHIRRequest.GetParameterValue("page",1)
		set queryId=pFHIRRequest.GetParameterValue("queryId",1)
		
		//passthru if conformance or code table search as not patient centric request
		set (passthru,patres)=0
		if interaction="conformance" set passthru=1
 
		
		if (type="Patient")&&(interaction="search")
		{
			 set passthru=1
			Set querystring= ##class(HS.FHIR.Utils).URLParameterArrayToString(pFHIRRequest.Parameters)
			 $$$TRACE("search mode") 
			 set searchDateTime=$ZDT($H,3,7)
			  $$$TRACE(querystring) 
 			do ..PatientSearch(querystring)
			do pFHIRRequest.SetParameter("_lastUpdated","ge"_searchDateTime)
		}
		
		
		if (page>1 && queryId'="")
		{
			set passthru=1
			
		}
		
		
		//get patient id from fhir request
		if qryType="Patient" {
			set qryid=pFHIRRequest.Id
			set sessionid=pFHIRRequest.AdditionalInfo.GetAt("OAuthSessionId")
		}elseif (pFHIRRequest.GetParameterCount("patient")=1)&&(pFHIRRequest.GetParameterValue("patient",1)'="") {
			set qryid = pFHIRRequest.GetParameterValue("patient",1)
			if $extract(qryid,1,8)="Patient/" set qryid = $extract(qryid,9,*)
		} elseif (pFHIRRequest.GetParameterCount("subject")=1)&&(pFHIRRequest.GetParameterValue("subject",1)'="") {
			set qryid = pFHIRRequest.GetParameterValue("subject",1)
			if $extract(qryid,1,8)="Patient/" {
				set qryid = $extract(qryid,9,*)
			} else {
				set qryid = ""
			}
		}
		set pMRN=qryid //search is always patient centric
		if qryType="Patient" {
			set patres=1
		}
		if 'patres set passthru=1
		if pMRN="",passthru=0 set tSC = $$$ERROR($$$GeneralError, "No patient match found in FHIR repository") quit
		if (pMRN'="")
		{
			set tSC=..RefreshPatientRepository(pMRN)
		}
		 
		
		/// Now we have the repository updated with latest data  we can process query request
		set tSC = ..SendRequestSync(..FHIRRepoConfigName, pFHIRRequest, .tFHIRResponse)
		#; If tSC is an error then let HS.FHIR.Service catch it and create an OperationOutcome from it.
		if $$$ISERR(tSC) quit
		
		set tSC = ..ProcessFHIRResponse(pFHIRRequest, tFHIRResponse, .pFHIRResponse)
		if $$$ISERR(tSC) quit
		
		if $$$HSTRACING {
			if pFHIRResponse.QuickStreamId'="" {
				set tQuickStream = ##class(HS.SDA3.QuickStream).%OpenId(pFHIRResponse.QuickStreamId)
				$$$HSTRACE("FHIR response message to be returned", "pFHIRResponse,tQuickStream", pFHIRResponse, tQuickStream)
			} else {
				$$$HSTRACE("FHIR response message to be returned", "pFHIRResponse", pFHIRResponse)
			}
		}
	} catch ex {
		set tSC = ex.AsStatus()
	}
	
	quit tSC
]]></Implementation>
</Method>

<Method name="ProcessFHIRResponse">
<Description>
ProcessFHIRResponse carries out any response post processing defined by CustomProcessor.</Description>
<FormalSpec>pFHIRRequest:HS.Message.FHIR.Request,pFHIRResponseIn:HS.Message.FHIR.Response,*pFHIRResponseOut:HS.Message.FHIR.Response</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	set tSC = $$$OK
	
	try {
		
		
		#; Copy any AdditionalInfo from the original request into the
		#; response input object.  Do not overwrite any AdditionalInfo
		#; already in the response input object.
		set tKey = ""
		for {
			set tVal = pFHIRRequest.AdditionalInfo.GetNext(.tKey)
			if tKey="" quit
			if 'pFHIRResponseIn.AdditionalInfo.IsDefined(tKey) {
				do pFHIRResponseIn.AdditionalInfo.SetAt(tVal,tKey)
			}
		}
		
		// The payload content, if any, for this response message will be held
		// in either the Payload property or in a QuickStream. The developer
		// of the CustomProcessor will need to use the response message instance
		// method GetPayloadOref() to obtain the pointer to the object that
		// holds the payload content, if any.
		
		#; If success but no returned object, assume that it is because the
		#; post processing method does not exist, i.e., CustomProcessor is
		#; defined, but it is used only for pre processing.
		if '$isobject($get(pFHIRResponseOut)) set pFHIRResponseOut = pFHIRResponseIn
		
	} catch ex {
		set tSC = ex.AsStatus()
	}
	
	quit tSC
]]></Implementation>
</Method>

<Method name="ProcessMetadataLegacyRequest">
<FormalSpec>pRequest:HS.Message.FHIR.Request,pResponse:HS.Message.FHIR.Response</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	set tSC = $$$OK
	
	try {
		set tHasFHIRTarget = 0
		
		if ..FHIRRepoConfigName'="" {
			set tProductionClass = ##class(Ens.Director).GetActiveProductionName()
			set tProductionObj = ##class(Ens.Config.Production).%OpenId(tProductionClass)
			#dim tItem as Ens.Config.Item
			for i = 1:1:tProductionObj.Items.Count() {
				set tItem = tProductionObj.Items.GetAt(i)
				if tItem.Name = ..FHIRRepoConfigName {
					if tItem.ClassName[".FHIR." set tHasFHIRTarget = 1 quit
				}
			}
			kill tProductionClass
			kill tProductionObj
		}
		
		if tHasFHIRTarget=1 {
			set tSC = ..SendRequestSync(..FHIRRepoConfigName, pRequest, .pResponse)
			#; If tSC is an error then let HS.FHIR.Service catch it and create an OperationOutcome from it.
			quit
		}
		
		set tResourceId= pRequest.AdditionalInfo.GetAt("ConformanceId")
		if tResourceId'="" {
			set tVersion = "DSTU2"
			set tXDataName = "InterSystemsNoRepoConformanceDSTU2"
		} else {
			set tResourceId = pRequest.AdditionalInfo.GetAt("CapabilityStatementId")
			if tResourceId'="" {
				set tVersion = "STU3"
				set tXDataName = "InterSystemsNoRepoCapabilitySTU3"
			} else {
				set tSC = $$$ERROR($$$GeneralError, "Conformance/CapabilityStatement resource id not specified")
				quit
			}
		}
		
		set tSC = pRequest.NewResponse(.pResponse)
		if $$$ISERR(tSC) quit
		
		set pResponse.ContentType = pRequest.ContentType
		
		// Unconditionally create a QuickStream for the response message to use for
		// the response payload content.
		set tResponseStream = ##class(HS.SDA3.QuickStream).%New()
		set pResponse.QuickStreamId = tResponseStream.%Id()
		
		set tSC = ##class(HS.FHIR.Utils).GetCapabilityStatementFromXData(pRequest.ContentType, tXDataName, ..%ClassName(1), ..ResourceSchemaRoot, tResourceId, pRequest.BaseURL, pRequest.AdditionalInfo.GetAt("OAuthClient"), ('pRequest.AdditionalInfo.GetAt("DisableCORS")=1), pRequest.FormatFHIROutput, .tResponseStream)
		if $$$ISERR(tSC) quit
		
		if $$$HSTRACING {
			if pResponse.QuickStreamId'="" {
				set tQuickStream = ##class(HS.SDA3.QuickStream).%OpenId(pResponse.QuickStreamId)
				$$$HSTRACE("FHIR response message to be returned", "pResponse,tQuickStream", pResponse, tQuickStream)
			} else {
				$$$HSTRACE("FHIR response message to be returned", "pResponse", pResponse)
			}
		}
		
	} catch ex {
		set tSC = ex.AsStatus()
	}
	
	quit tSC
]]></Implementation>
</Method>

<Method name="RefreshPatientRepository">
<Description>
Get TrakCare Patient SDA from TC MRN and inserts into FHIR repository</Description>
<FormalSpec>pTCMRN,AllowCleanup=1,EnabledSegmentData="",ForceRefresh=0</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	set tSC=$$$OK
	quit:pTCMRN="" $$$OK
	if ((ForceRefresh=0) )
	{	
		quit:..IsPatientDataNeedrefresh(pTCMRN)=0 $$$OK
	}
	if (..CleanupPatData=1 )&&(AllowCleanup=1)
	{
		do ##class(TC.hmf.FHIR.Server.Utils).CleanupPatData(pTCMRN,..FHIRVersion,..SessionApplication)
	}
	//get TC MRN from repository identifiers
	if pTCMRN'="" {
		
		set tSC=..GetPatientSDA(pTCMRN,EnabledSegmentData,.pQryResponse)
		if $$$ISERR(tSC) quit tSC
		set tSC=..SDAToFHIRBundle(pTCMRN,pQryResponse.ContentStream,.pFHIRResponse)
		if $$$ISERR(tSC) quit tSC
	 	#dim pFHIRResponse as HS.Message.FHIR.Response
	 	set tSC=..InsertPatientFHIRBundle(pTCMRN,pFHIRResponse.Payload,.pResponse)
		
		// flag patient data as been updated 
		set:ForceRefresh=0 ^zPatRepoRefresh($$$CurrentClass,..FHIRVersion,pTCMRN)=$zhorolog
	 	
	}
	quit tSC
]]></Implementation>
</Method>

<Method name="GetPatientSDA">
<FormalSpec>pTCMRN,EnabledSegmentData="",*pQryResponse</FormalSpec>
<Implementation><![CDATA[
	
	set pQryRequest=##class(HS.Message.ECRQueryRequest).%New()
	set pQryRequest.MRN=pTCMRN
	do pQryRequest.AdditionalInfo.SetAt(..SessionApplication,"SessionApplication")
	do pQryRequest.AdditionalInfo.SetAt(EnabledSegmentData,"EnabledSegmentData")
	set tSC=..SendRequestSync(..TCRouterConfigName,pQryRequest,.pQryResponse)
	quit tSC
]]></Implementation>
</Method>

<Method name="SDAToFHIRBundle">
<FormalSpec>pMRN,ContentStream,*pResponse:HS.Message.FHIR.Response</FormalSpec>
<Implementation><![CDATA[
	set pSDARequest=##class(HS.Message.XMLMessage).%New()
	do pSDARequest.AdditionalInfo.SetAt(pMRN,"MRN")
	do pSDARequest.AdditionalInfo.SetAt(..FHIRVersion,"FHIRVersion")
	set pSDARequest.ContentStream=ContentStream
	 set tSC=..SendRequestSync(..SDAToFHIRConfigName,pSDARequest,.pResponse)
	if $$$ISERR(tSC) return tSC
	quit $$$OK
]]></Implementation>
</Method>

<Method name="InsertPatientFHIRBundle">
<FormalSpec>pMRN,pBundleStream,*pFHIRResponse</FormalSpec>
<Implementation><![CDATA[
	set tSC=$$$OK
	if ..FHIRVersion="DSTU2"
	{
		set tSC=..InsertPatientFHIRDSTU2(pMRN,"transaction",pBundleStream,.pFHIRResponse)
	}
	elseif ..FHIRVersion="STU3"
	{
		set tSC=..InsertPatientFHIRSTU3(pMRN,"transaction",pBundleStream,.pFHIRResponse)
	}
 	elseif ((..FHIRVersion="R4")||(..FHIRVersion="R3"))
	{
		set tSC=..InsertPatientFHIRJSON(pMRN,"PUT",.pBundleStream,.pFHIRResponse)
	}
	quit tSC
]]></Implementation>
</Method>

<Method name="InsertPatientFHIRDSTU2">
<FormalSpec>pMRN,Interaction="transaction",pBundleStream,*tFHIRResponse</FormalSpec>
<Implementation><![CDATA[
		set tSC = ##class(%RoutineMgr).GetWebServerPort(.tPort)
		if $$$ISERR(tSC) set tSC = $$$ERROR($$$GeneralError, "Could not get web server port") quit
		set tHost = $zconvert($$$HSNetworkHostName, "L")
		set tLocalHostAndPort = tHost_$select(tPort'="":":",1:"")_tPort
		set FHIRVersion="DSTU2"
		set tBundleType = "transaction"
		set tMessageContentType = ..FHIRFormat
		set tMethodContentType = $select(..FHIRFormat["json":"json",1:"xml")
		set tFHIRRequest = ##class(HS.Message.FHIR.Request).%New()
		set tFHIRRequest.Interaction = Interaction
		set tFHIRRequest.Type = "Bundle"
		set tFHIRRequest.ContentType = tMessageContentType
		set tFHIRRequest.FHIRVersion = FHIRVersion
		set tFHIRRequest.FormatFHIROutput = ..FormatFHIROutput
		set tFHIRRequest.SessionApplication =..SessionApplication
		set tFHIRRequest.SessionId = ""
		set tFHIRRequest.Id = pMRN
		// Set the HOST header to provide for the case where the transaction is
		// being routed within this production (e.g., to HS.FHIR.Server.Process).
		do tFHIRRequest.Headers.SetAt(tLocalHostAndPort,"HOST")
		do tFHIRRequest.Payload.CopyFrom(pBundleStream)
		// *** Optional full transaction response
		//do tFHIRRequest.Headers.SetAt("return=representation","PREFER")
		
		#; Set the HOST header to provide for the case where the transaction is
		#; being routed within this production (e.g., to HS.FHIR.Server.Process).
		do tFHIRRequest.Headers.SetAt(tLocalHostAndPort,"HOST")
		set tFHIRRequest.FormatFHIROutput = ..FormatFHIROutput
		set tFHIRRequest.SessionApplication = ..SessionApplication
		set tFHIRRequest.SessionId = ""
		do tFHIRRequest.AdditionalInfo.SetAt(1,"ConvertUUIDs")
		// Add Patient data to FHIR repository
		set tSC = ..SendRequestSync(..FHIRRepoConfigName, tFHIRRequest, .tFHIRResponse)
		if $$$ISERR(tSC) quit
		 	if (..OutputToQuickStream)&&($isobject($get(tQuickStream))) do tQuickStream.Clear()
		if ($isobject($get(tFHIRResponse)))&&(tFHIRResponse.%Extends("HS.Message.FHIR.Base"))&&(tFHIRResponse.QuickStreamId'="") {
			set tResponseQuickStream = ##class(HS.SDA3.QuickStream).%OpenId(tFHIRResponse.QuickStreamId)
			if $isobject(tResponseQuickStream) do tResponseQuickStream.Clear()
			set tFHIRResponse.QuickStreamId = ""
		}
	
	
	quit tSC
]]></Implementation>
</Method>

<Method name="InsertPatientFHIRSTU3">
<FormalSpec>pMRN,Interaction="transaction",pBundleStream,*tFHIRResponse</FormalSpec>
<Implementation><![CDATA[
	
	set tSC = ##class(%RoutineMgr).GetWebServerPort(.tPort)
		if $$$ISERR(tSC) set tSC = $$$ERROR($$$GeneralError, "Could not get web server port") quit
		set tHost = $zconvert($$$HSNetworkHostName, "L")
		set tLocalHostAndPort = tHost_$select(tPort'="":":",1:"")_tPort
		
		set tFHIRRequest = ##class(HS.Message.FHIR.Request).%New()
		set tFHIRRequest.Interaction =Interaction
		set tFHIRRequest.Type = "Bundle"
		set tFHIRRequest.ContentType = ..FHIRFormat
		set tFHIRRequest.FHIRVersion = ..FormatFHIROutput
		set tFHIRRequest.FormatFHIROutput = ..FormatFHIROutput
		set tFHIRRequest.SessionApplication = ..SessionApplication
		set tFHIRRequest.SessionId = ""
		set tFHIRRequest.Id = pMRN
		do tFHIRRequest.Headers.SetAt(tLocalHostAndPort,"HOST")
		if ..OutputToQuickStream {
			set tQuickStream = ##class(HS.SDA3.QuickStream).%New()
			set tFHIRRequest.QuickStreamId = tQuickStream.%Id()
			set tSC = tQuickStream.CopyFrom(pBundleStream)
		} else {
			set tSC = tFHIRRequest.Payload.CopyFrom(pBundleStream)
		}
		if $$$ISERR(tSC) quit
		do:..FullTransactionResponse tFHIRRequest.Headers.SetAt("return=representation", "PREFER")
		set tSC = ..SendRequestSync(..FHIRRepoConfigName, tFHIRRequest, .tFHIRResponse)
		if $$$ISERR(tSC) quit
		if (..OutputToQuickStream)&&($isobject($get(tQuickStream))) do tQuickStream.Clear()
			if ($isobject($get(tFHIRResponse)))&&(tFHIRResponse.%Extends("HS.Message.FHIR.Base"))&&(tFHIRResponse.QuickStreamId'="") {
			set tResponseQuickStream = ##class(HS.SDA3.QuickStream).%OpenId(tFHIRResponse.QuickStreamId)
			if $isobject(tResponseQuickStream) do tResponseQuickStream.Clear()
			set tFHIRResponse.QuickStreamId = ""
		}
	quit tSC
]]></Implementation>
</Method>

<Method name="InsertPatientFHIRJSON">
<FormalSpec>pMRN,Interaction="PUT",pBundleStream,*tFHIRResponse</FormalSpec>
<Implementation><![CDATA[
	
	set tFHIRRequest=$classmethod("HS.FHIRServer.Interop.Request","%New")
	do pBundleStream.Rewind()
	set tQuickStream = ##class(HS.SDA3.QuickStream).%New()
	set tFHIRRequest.QuickStreamId = tQuickStream.%Id()
	set tSC = tQuickStream.CopyFrom(pBundleStream)
	set tFHIRRequest.Request.SessionId = ""
	set tFHIRRequest.Request.SessionApplication=..SessionApplication  
	set tFHIRRequest.Request.ResponseFormatCode="JSON"
	set tFHIRRequest.Request.RequestFormatCode="JSON"
	if Interaction="PUT"
	{
		set tFHIRRequest.Request.RequestPath=""
	}
	else
	{
		set tFHIRRequest.Request.RequestPath="/Patient/"_pMRN
	}
	set tFHIRRequest.Request.RequestMethod="POST"
	$$$TRACE("before request")
	
	set tSC = ..SendRequestSync(..FHIRRepoConfigName, tFHIRRequest, .tFHIRResponse)
	
	if $$$ISERR(tSC) quit
	if (..OutputToQuickStream)&&($isobject($get(tQuickStream))) do tQuickStream.Clear()
	if ($isobject($get(tFHIRResponse)))&&(tFHIRResponse.%Extends("HS.Message.FHIR.Base"))&&(tFHIRResponse.QuickStreamId'="") {
		set tResponseQuickStream = ##class(HS.SDA3.QuickStream).%OpenId(tFHIRResponse.QuickStreamId)
		if $isobject(tResponseQuickStream) do tResponseQuickStream.Clear()
		set tFHIRResponse.QuickStreamId = ""
	}
	
	quit tSC
]]></Implementation>
</Method>

<Parameter name="SrcVer">
<Description>
This Parameter is updated by Perforce</Description>
<Default>$Id: //trak/main/projects/T2020/XX06_HMF/cls/TC/hmf/FHIR/Server/Process.xml#5 $</Default>
</Parameter>

<Storage name="Default">
<Type>%Storage.Persistent</Type>
<DefaultData>FHIRRouterDefaultData</DefaultData>
<Data name="FHIRRouterDefaultData">
<Subscript>"FHIRRouter"</Subscript>
<Value name="1">
<Value>CleanupPatData</Value>
</Value>
<Value name="2">
<Value>CustomDTLPackage</Value>
</Value>
<Value name="3">
<Value>FHIRRepoConfigName</Value>
</Value>
<Value name="4">
<Value>TCRouterConfigName</Value>
</Value>
<Value name="5">
<Value>DataRefreshInterval</Value>
</Value>
<Value name="6">
<Value>FHIRVersion</Value>
</Value>
<Value name="7">
<Value>FHIRFormat</Value>
</Value>
<Value name="8">
<Value>FormatFHIROutput</Value>
</Value>
<Value name="9">
<Value>ValidResourceRequired</Value>
</Value>
<Value name="10">
<Value>OutputToQuickStream</Value>
</Value>
<Value name="11">
<Value>FullTransactionResponse</Value>
</Value>
<Value name="12">
<Value>CallbackClass</Value>
</Value>
<Value name="13">
<Value>TransmissionMode</Value>
</Value>
<Value name="14">
<Value>ResourceSchemaRoot</Value>
</Value>
<Value name="15">
<Value>TraceOperations</Value>
</Value>
<Value name="16">
<Value>FHIRToSDAConfigName</Value>
</Value>
<Value name="17">
<Value>SessionApplication</Value>
</Value>
<Value name="18">
<Value>SDAToFHIRConfigName</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="TC.hmf.FHIR.Server.Process.FHIRToSDA">
<IncludeCode>HS.HC</IncludeCode>
<Super>Ens.BusinessProcess</Super>
<TimeChanged>66013,28583.541457</TimeChanged>
<TimeCreated>65420,51234.627704</TimeCreated>

<Parameter name="SETTINGS">
<Default>FHIRVersion:Basic</Default>
</Parameter>

<Property name="ResourceSchemaRoot">
<Description>
The class package that is the root of all resource schemas for the desired data model.</Description>
<Type>%String</Type>
<InitialExpression>"HS.FHIR.vSTU3.Model.Resource"</InitialExpression>
<Parameter name="MAXLEN" value="256"/>
</Property>

<Property name="FHIRVersion">
<Type>%String</Type>
<InitialExpression>"DSTU2"</InitialExpression>
<Parameter name="DISPLAYLIST" value=",DSTU2,STU3,R3,R4"/>
<Parameter name="VALUELIST" value=",DSTU2,STU3,R3,R4"/>
</Property>

<Property name="FHIRFormat">
<Description>
More Properties we added for Demo
The FHIR format to use for FHIR request message payload.</Description>
<Type>%String</Type>
<InitialExpression>"application/fhir+json"</InitialExpression>
<Parameter name="DISPLAYLIST" value=",JSON,XML"/>
<Parameter name="VALUELIST" value=",application/fhir+json,application/fhir+xml"/>
</Property>

<Property name="FormatFHIROutput">
<Description>
If checked, causes any created FHIR payload to include indent and line end
formatting characters to enhance the readability of the raw content.</Description>
<Type>%Boolean</Type>
<InitialExpression>0</InitialExpression>
</Property>

<Property name="ValidResourceRequired">
<Description>
If checked, then the FHIR that is generated by the SDA3 to FHIR DTL transformation
must be valid FHIR. If it fails validation, then it will not be forwarded.
Regardless of the value of this setting, validation failures will be logged in
the Event Log as alert messages.</Description>
<Type>%Boolean</Type>
<InitialExpression>1</InitialExpression>
</Property>

<Property name="OutputToQuickStream">
<Description>
If this setting is checked, the FHIR output will be placed in an
HS.SDA3.QuickStream, and the QuickStreamId property of the request message
will be set to the id of that QuickStream.</Description>
<Type>%Boolean</Type>
<InitialExpression>0</InitialExpression>
</Property>

<Property name="FullTransactionResponse">
<Description>
If checked, the FHIR request message that this process sends to the target
config will be created with a "PREFER" header value set to 
"return=representation". Per the FHIR spec, this header indicates to a FHIR
server that every created or updated resource should be returned in its
entirety as it is saved (ie, with any modifications applied by the server).
Whether the server actually does this depends on the server. In general,
this setting should be left unchecked except during debugging or if the
FHIR client has a specific need to receive back the created/updated
resources, as requesting this information is likely to increase response
time from the FHIR server.</Description>
<Type>%Boolean</Type>
<InitialExpression>0</InitialExpression>
</Property>

<Method name="OnRequest">
<FormalSpec>pRequest:%Library.Persistent,*pResponse:HS.Message.XMLMessage</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	//calls ProcessFHIRRequest for handling FHIR search requests
	set tSC = $$$OK
	
	try {
		set tSC=$$$OK
		
		$$$TRACE("start fhir to sda process")
		if pRequest.%IsA("HS.FHIRServer.Interop.Request") {
			#Dim pRequest As HS.FHIRServer.Interop.Request
		 	if pRequest.Request.RequestPath="Observation" 
		 	{
			 	
			 	 
			 	set APIExist=##class(%Dictionary.CompiledClass).%ExistsId("TC.hmf.FHIR.Transform.API.FHIRToSDA3")
				set FHIRVersion=..FHIRVersion
				if ((APIExist=1)&&((FHIRVersion="R3")||(FHIRVersion="R4")||(FHIRVersion="STU3")))
				{
					
					set:FHIRVersion="R3" FHIRVersion="STU3" // native api use STU3 for R3
					
					Set tStream = ##class(HS.SDA3.QuickStream).%OpenId(pRequest.QuickStreamId)
					set dynObj = {}.%FromJSON(tStream)
					set FHIRToSDA3Object = ##class(TC.hmf.FHIR.Transform.API.FHIRToSDA3).TransformStream(tStream,FHIRVersion,pRequest.Request.RequestFormatCode)	
					#Dim SDAContainer as HS.SDA3.Container
					set SDAContainer=FHIRToSDA3Object.container
					do SDAContainer.ToQuickXMLStream( .sdaStream)
					set pResponse=##class(HS.Message.XMLMessage).%New()
					set pResponse.ContentStream=sdaStream
					 
				}
			 
 
			}
			 	
			 	
		 }
			
	 
		 
		
		
		
		$$$TRACE("end fhir to sda process")
		
	
	} catch ex {
		set tSC = ex.AsStatus()
	}
	
	quit tSC
]]></Implementation>
</Method>

<Method name="OnInit">
<FormalSpec>pRequest:%Library.Persistent,*pResponse:%Library.Persistent</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	set sc=##super()
 
	quit sc
]]></Implementation>
</Method>

<Parameter name="SrcVer">
<Description>
This Parameter is updated by Perforce</Description>
<Default>$Id: //trak/main/projects/T2020/XX06_HMF/cls/TC/hmf/FHIR/Server/Process.xml#5 $</Default>
</Parameter>

<Storage name="Default">
<Type>%Storage.Persistent</Type>
<DefaultData>FHIRToSDADefaultData</DefaultData>
<Data name="FHIRToSDADefaultData">
<Subscript>"FHIRToSDA"</Subscript>
<Value name="1">
<Value>ResourceSchemaRoot</Value>
</Value>
<Value name="2">
<Value>FHIRToSDAConfigName</Value>
</Value>
<Value name="3">
<Value>TRAKConfigName</Value>
</Value>
<Value name="4">
<Value>FHIRVersion</Value>
</Value>
<Value name="5">
<Value>FHIRFormat</Value>
</Value>
<Value name="6">
<Value>FormatFHIROutput</Value>
</Value>
<Value name="7">
<Value>ValidResourceRequired</Value>
</Value>
<Value name="8">
<Value>OutputToQuickStream</Value>
</Value>
<Value name="9">
<Value>FullTransactionResponse</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="TC.hmf.FHIR.Server.Process.SDAToFHIR">
<IncludeCode>HS.HC</IncludeCode>
<Super>Ens.BusinessProcess,HS.FHIR.FromSDA.DTL.Base</Super>
<TimeChanged>66013,20697.07836</TimeChanged>
<TimeCreated>65420,51234.627704</TimeCreated>

<Parameter name="SETTINGS">
<Default>SessionApplication:Basic,FHIRVersion:Basic,ResourceSchemaRoot:Basic,TransmissionMode:Basic,SDATransformClass:Basic</Default>
</Parameter>

<Property name="ResourceSchemaRoot">
<Description>
The class package that is the root of all resource schemas for the desired data model.</Description>
<Type>%String</Type>
<InitialExpression>"HS.FHIR.vSTU3.Model.Resource"</InitialExpression>
<Parameter name="MAXLEN" value="256"/>
</Property>

<Property name="FHIRVersion">
<Type>%String</Type>
<InitialExpression>"DSTU2"</InitialExpression>
<Parameter name="DISPLAYLIST" value=",DSTU2,STU3,R3,R4"/>
<Parameter name="VALUELIST" value=",DSTU2,STU3,R3,R4"/>
</Property>

<Property name="FHIRFormat">
<Description>
More Properties we added for Demo
The FHIR format to use for FHIR request message payload.</Description>
<Type>%String</Type>
<InitialExpression>"application/fhir+json"</InitialExpression>
<Parameter name="DISPLAYLIST" value=",JSON,XML"/>
<Parameter name="VALUELIST" value=",application/fhir+json,application/fhir+xml"/>
</Property>

<Property name="FormatFHIROutput">
<Description>
If checked, causes any created FHIR payload to include indent and line end
formatting characters to enhance the readability of the raw content.</Description>
<Type>%Boolean</Type>
<InitialExpression>0</InitialExpression>
</Property>

<Property name="ValidResourceRequired">
<Description>
If checked, then the FHIR that is generated by the SDA3 to FHIR DTL transformation
must be valid FHIR. If it fails validation, then it will not be forwarded.
Regardless of the value of this setting, validation failures will be logged in
the Event Log as alert messages.</Description>
<Type>%Boolean</Type>
<InitialExpression>1</InitialExpression>
</Property>

<Property name="OutputToQuickStream">
<Description>
If this setting is checked, the FHIR output will be placed in an
HS.SDA3.QuickStream, and the QuickStreamId property of the request message
will be set to the id of that QuickStream.</Description>
<Type>%Boolean</Type>
<InitialExpression>0</InitialExpression>
</Property>

<Property name="FullTransactionResponse">
<Description>
If checked, the FHIR request message that this process sends to the target
config will be created with a "PREFER" header value set to 
"return=representation". Per the FHIR spec, this header indicates to a FHIR
server that every created or updated resource should be returned in its
entirety as it is saved (ie, with any modifications applied by the server).
Whether the server actually does this depends on the server. In general,
this setting should be left unchecked except during debugging or if the
FHIR client has a specific need to receive back the created/updated
resources, as requesting this information is likely to increase response
time from the FHIR server.</Description>
<Type>%Boolean</Type>
<InitialExpression>0</InitialExpression>
</Property>

<Property name="CallbackClass">
<Description>
Class to use for the callback object that is invoked during the DTL transformation
process. If this setting is left blank, at run-time it is defaulted to
"HS.FHIR.DTL.Util.API.HC.Callback.Default.SDA3To"+FHIRVersion. FHIRVersion is
to be derived from the FHIRVersion setting on this business host.</Description>
<Type>%String</Type>
<Parameter name="MAXLEN" value="256"/>
</Property>

<Property name="SDATransformClass">
<Description>
Class to use to transform SDA conatiner coming from TC before send to FHIR (optional)
can be used to update tc codes or do any prefix to SDA before transform to FHIR</Description>
<Type>%String</Type>
<InitialExpression>"TC.hmf.FHIR.Transform.SDA3.Container"</InitialExpression>
<Parameter name="MAXLEN" value="256"/>
</Property>

<Property name="TransmissionMode">
<Type>%String</Type>
<InitialExpression>"transaction"</InitialExpression>
<Parameter name="DISPLAYLIST" value=",transaction,individual"/>
<Parameter name="VALUELIST" value=",transaction,individual"/>
</Property>

<UDLText name="T">
<Content><![CDATA[
// web app path for FHIR end point

]]></Content>
</UDLText>

<Property name="SessionApplication">
<Type>%String</Type>
</Property>

<Method name="OnInit">
<FormalSpec>pRequest:HS.Message.XMLMessage,*pResponse:HS.Message.FHIR.Response</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	set sc=##super()
	 
	quit sc
]]></Implementation>
</Method>

<Method name="OnRequest">
<FormalSpec>pRequest:HS.Message.XMLMessage,*pResponse:HS.Message.FHIR.Response</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	//calls ProcessFHIRRequest for handling FHIR search requests
	set tSC = $$$OK
	set tSC=$$$OK
	$$$TRACE("start sda process")
	set MRN=pRequest.AdditionalInfo.GetAt("MRN")
	q:MRN=""
	do ..SDAToFHIR(MRN,pRequest,..SessionApplication,.pResponse) 
	$$$TRACE("done sda process")
	 
	quit tSC
]]></Implementation>
</Method>

<Method name="SDAToFHIR">
<Description>
Get TrakCare Patient SDA from TC MRN and inserts into FHIR repository</Description>
<FormalSpec>pTCMRN,pRequest:HS.Message.XMLMessage,appname="",*pResponse:HS.Message.XMLMessage</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	set tSC=$$$OK
	if pTCMRN'="" {
			if ..FHIRVersion="DSTU2"
			{
				set tSC=..TransformSDAToDSTU2(pRequest.ContentStream,"","",pTCMRN,"transaction",.pResponse)
			}
			elseif ..FHIRVersion="STU3"
			{
				set tSC=..TransformSDAToSTU3(pRequest.ContentStream,"","",pTCMRN,"transaction",.pResponse)
			}
			elseif ((..FHIRVersion="R4")||(..FHIRVersion="R3"))
			{
				set tSC=..TransformSDAToJSON(pRequest,pRequest.ContentStream,"","",pTCMRN,"POST",.pResponse)
			}
			set tTransformSDAToDSTU2=1
			
			if $$$ISERR(tSC) quit tSC
		 
	}
	quit tSC
]]></Implementation>
</Method>

<Method name="TransformSDAToSTU3">
<Description>
Transform the given SDA3 stream to FHIR format and save it in the repository</Description>
<FormalSpec>pSDAStream,pSessionApplication:%String="",pSessionId:%String="",pPatientResourceId:%String="",Interaction:%String="",*pResponse:HS.Message.FHIR.Response</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	set tSC = $$$OK
	try {
		set tMethodContentType = $select(..FHIRFormat["json":"json",1:"xml")
		set tSC=..TransformSDATOFHIRBundle(pSDAStream,pPatientResourceId,.tBundleStream)
		set pResponse=##class(HS.Message.FHIR.Response).%New()
		set pResponse.Payload=tBundleStream
	} catch eException {
		set tSC = eException.AsStatus()
	}
	quit tSC
]]></Implementation>
</Method>

<Method name="TransformSDAToDSTU2">
<Description>
Transform the given SDA3 stream to FHIR format and save it in the repository</Description>
<FormalSpec>pSDAStream,pSessionApplication:%String="",pSessionId:%String="",pPatientResourceId:%String="",Interaction:%String="",*pResponse:HS.Message.FHIR.Response</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	set tSC = $$$OK
	
	try {

		set tSC=..TransformSDATOFHIRBundle(pSDAStream,pPatientResourceId,.tFHIRStream)
		set pResponse=##class(HS.Message.FHIR.Response).%New()
		do pResponse.Payload.CopyFrom(tFHIRStream)
	
		
	} catch eException {
		set tSC = eException.AsStatus()
	}
	

	
	quit tSC
]]></Implementation>
</Method>

<Method name="TransformSDAToJSON">
<Description>
Transform the given SDA3 stream to FHIR format and save it in the repository</Description>
<FormalSpec>pRequest,pSDAStream,pSessionApplication:%String="",pSessionId:%String="",pPatientResourceId:%String="",Interaction:%String="",*pResponse:HS.Message.FHIR.Response</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	set tSC = $$$OK
	set tSC=..TransformSDATOFHIRBundle(pSDAStream,pPatientResourceId,.tBundleStream)
	set pResponse=##class(HS.Message.FHIR.Response).%New()
	do pResponse.Payload.CopyFrom(tBundleStream)
	$$$TRACE("After request")
	quit tSC
]]></Implementation>
</Method>

<Method name="TransformSDATOFHIRBundle">
<FormalSpec><![CDATA[pSDAStream,pPatientResourceId,&tBundleStream]]></FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	set tSC=1
	if (..SDATransformClass'="")
	{
		set SDATransformClassExist=##class(%Dictionary.CompiledClass).%ExistsId(..SDATransformClass)
		if SDATransformClassExist=1
		{
			set tSDAContainer = ##class(HS.SDA3.Container).%New()
			set tSDAContainer=##class(TC.hmf.FHIR.Utils).SDAStreamToObject(pSDAStream)
			#Dim newSDAObj As HS.SDA3.Container
			set tsc=$classmethod(..SDATransformClass, "Transform", tSDAContainer,.newSDAObj) 
	    	set pSDAStream=##class(TC.hmf.FHIR.Utils).SDAObjectToStream(newSDAObj)
		}
	}
	// check if transform api exisit
	set APIExist=##class(%Dictionary.CompiledClass).%ExistsId("TC.hmf.FHIR.Transform.API.SDA3ToFHIR")
	set FHIRVersion=..FHIRVersion
	if ((APIExist=1)&&((FHIRVersion="R3")||(FHIRVersion="R4")||(FHIRVersion="STU3")))
	{
		set:FHIRVersion="R3" FHIRVersion="STU3"
		set SDA3ToFHIRObject = $classmethod("TC.hmf.FHIR.Transform.API.SDA3ToFHIR", "TransformStream", pSDAStream,"HS.SDA3.Container",FHIRVersion,pPatientResourceId,"")
		set tBundleStream = ##class(%Stream.TmpCharacter).%New()
		do SDA3ToFHIRObject.bundle.%ToJSON(tBundleStream)
		do tBundleStream.Rewind()
		quit 1
	}
	elseif(FHIRVersion="R3")||(FHIRVersion="R4")||(FHIRVersion="STU3")
	{
		$$$TRACE("before transform")
		//STU3 Only Supported
		set tErrors = ##class(HS.Types.FHIR.Errors).%New()
		set tCallbackObject = ##class(TC.hmf.FHIR.STU3.SDA3ToSTU3.Callback).%New()
		set tCallbackObject.PatientURN=pPatientResourceId
		set FHIRVersion="STU3"
		set tBundleType = "transaction"
		set tMethodContentType = $select(..FHIRFormat["json":"json",1:"xml")
		set tMethod = "SDA3To"_FHIRVersion_"Stream"
		set tSC = $classmethod("HS.FHIR.DTL.Util.API.HC.Transform", tMethod, pSDAStream, .tBundleStream, tBundleType, tMethodContentType, tCallbackObject, .tErrors)
		$$$TRACE("after transform")
		
		if $$$ISERR(tSC) {
			quit tSC
		} elseif '$isobject($get(tBundleStream)) {
			set tSC = $$$ERROR($$$GeneralError, "Bundle stream object missing from "_tMethod_" output")
		} elseif 'tBundleStream.Size {
			set tSC = $$$ERROR($$$GeneralError, "Empty Bundle stream returned by "_tMethod)
			quit tSC
		} elseif tErrors.Errors.Count() {
			// SDA3ToXXXStream already logs alerts for validation errors.
			if ..ValidResourceRequired {
				set tString = ""
				for i = 1:1:tErrors.Errors.Count() {
					if i>1 set tString = tString_","
					set tString = tString_tErrors.Errors.GetAt(i).DetailsText_" at "_tString_tErrors.Errors.GetAt(i).Location
				}
				set tSC = $$$ERROR($$$GeneralError, tString)
				quit tSC
			}
		}
	}
	elseif(FHIRVersion="DSTU2")
	{
		// DSTU2
		set FHIRVersion="DSTU2"
		set tBundleType = "transaction"
		set tErrors = ##class(HS.Types.FHIR.Errors).%New()
		if $$$ISERR(tSC) quit tSC
		
		#; Initialize the Bundle.
		set tBundle = ##class(HS.FHIR.vDSTU2.Model.Resource.Bundle).%New()
		set tSC = tBundle.SetType(tBundleType)
		
		#; Allow the opportunity to use DTL to modify properties of
		#; the FHIR Bundle, except for the Bundle entries themselves.
		set tTargetDTL = ..GetDTLPackageAndClass("FHIRBundle")
		if tTargetDTL'="" {
			set tSC = $classmethod(tTargetDTL, "Transform", tBundle, .tNewBundle)
			if $$$ISERR(tSC) quit tSC
			kill tBundle
			set tBundle = tNewBundle.%ConstructClone(1)
			kill tNewBundle
		}
		
		set tSDAContainer = ##class(HS.SDA3.Container).%New()
		set tSC = tSDAContainer.InitializeXMLParse(pSDAStream, "SDA3")
		if $$$ISERR(tSC) quit tSC
		
		set tSC = ..TransformSDAContainer(tSDAContainer, pPatientResourceId, tBundleType, .tBundle, .tBundleStream)
		if $$$ISERR(tSC) quit tSC
		
		
		
	}
	
	
	
	quit tSC
]]></Implementation>
</Method>

<Parameter name="SrcVer">
<Description>
This Parameter is updated by Perforce</Description>
<Default>$Id: //trak/main/projects/T2020/XX06_HMF/cls/TC/hmf/FHIR/Server/Process.xml#5 $</Default>
</Parameter>

<Storage name="Default">
<Type>%Storage.Persistent</Type>
<DefaultData>SDAToFHIRDefaultData</DefaultData>
<Data name="SDAToFHIRDefaultData">
<Subscript>"SDAToFHIR"</Subscript>
<Value name="1">
<Value>CleanupPatData</Value>
</Value>
<Value name="2">
<Value>CustomDTLPackage</Value>
</Value>
<Value name="3">
<Value>FHIRRepoConfigName</Value>
</Value>
<Value name="4">
<Value>FHIRVersion</Value>
</Value>
<Value name="5">
<Value>FHIRFormat</Value>
</Value>
<Value name="6">
<Value>FormatFHIROutput</Value>
</Value>
<Value name="7">
<Value>ValidResourceRequired</Value>
</Value>
<Value name="8">
<Value>OutputToQuickStream</Value>
</Value>
<Value name="9">
<Value>FullTransactionResponse</Value>
</Value>
<Value name="10">
<Value>CallbackClass</Value>
</Value>
<Value name="11">
<Value>SDATransformClass</Value>
</Value>
<Value name="12">
<Value>TransmissionMode</Value>
</Value>
<Value name="13">
<Value>SessionApplication</Value>
</Value>
<Value name="14">
<Value>ResourceSchemaRoot</Value>
</Value>
<Value name="15">
<Value>TraceOperations</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="TC.hmf.FHIR.Server.Process.TCRouter">
<IncludeCode>HS.HC</IncludeCode>
<Super>Ens.BusinessProcess</Super>
<TimeChanged>66013,16569.14055</TimeChanged>
<TimeCreated>65420,51234.627704</TimeCreated>

<Parameter name="SETTINGS">
<Default><![CDATA[TCOutboundConfigName:Basic:selector?context={Ens.ContextSearch/ProductionItems?targets=1&productionName=@productionId},TCQueryConfigName:Basic:selector?context={Ens.ContextSearch/ProductionItems?targets=1&productionName=@productionId},SDAToFHIRConfigName:Basic:selector?context={Ens.ContextSearch/ProductionItems?targets=1&productionName=@productionId},]]></Default>
</Parameter>

<Property name="TCQueryConfigName">
<Description>
Business host to which to call TrakCare query</Description>
<Type>Ens.DataType.ConfigName</Type>
<InitialExpression>"TC.hmf.FHIR.Server.Operation"</InitialExpression>
</Property>

<Property name="TCOutboundConfigName">
<Description>
Business host to which to call TrakCare outbound</Description>
<Type>Ens.DataType.ConfigName</Type>
<InitialExpression>"TC.hmf.FHIR.Server.Operation"</InitialExpression>
</Property>

<Method name="OnRequest">
<FormalSpec>pRequest:%Library.Persistent,*pResponse:%Library.Persistent</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	//calls ProcessFHIRRequest for handling FHIR search requests
	set tSC = $$$OK
	try {
		set tSC=$$$OK
		$$$TRACE("start trak process")	
		if pRequest.%IsA("HS.Message.ECRQueryRequest") {
			do ..PatientQuery(pRequest,.pResponse)
			//do ..SendSDAToFHIRRepo(pRequest.MRN,pQryResponse.ContentStream)
		}
		elseif(pRequest.%IsA("HS.Message.PatientSearchRequest"))
		{
			do ..PatientSearch(pRequest,.pResponse)
		}
		elseif(pRequest.%IsA("HS.Message.XMLMessage"))
		{
			do ..SendSDAToTrakCare(pRequest,.pResponse)
		}
		$$$TRACE("done trak process")
		
	
	} catch ex {
		set tSC = ex.AsStatus()
	}
	
	quit tSC
]]></Implementation>
</Method>

<Method name="PatientQuery">
<FormalSpec><![CDATA[pRequest:HS.Message.ECRQueryRequest,&pQryResponse:HS.Message.ECRQueryResponse]]></FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	set tSC=..SendRequestSync(..TCQueryConfigName,pRequest,.pQryResponse)
	if $$$ISERR(tSC) return tSC
	quit $$$OK
]]></Implementation>
</Method>

<UDLText name="T">
<Content><![CDATA[
/*
Method SendSDAToFHIRRepo(pMRN, ContentStream)
{
	
	
	set pSDARequest=##class(HS.Message.XMLMessage).%New()
	do pSDARequest.AdditionalInfo.SetAt(pMRN,"MRN")
	do pSDARequest.AdditionalInfo.SetAt(..FHIRVersion,"FHIRVersion")
	set pSDARequest.ContentStream=ContentStream
	 set tSC=..SendRequestSync(..SDAToFHIRConfigName,pSDARequest,.pResponse)
	if $$$ISERR(tSC) return tSC
	quit $$$OK
}
*/
]]></Content>
</UDLText>

<Method name="SendSDAToTrakCare">
<FormalSpec><![CDATA[pRequest,&pResponse]]></FormalSpec>
<Implementation><![CDATA[
	set tSC=..SendRequestSync(..TCOutboundConfigName,pRequest,.pResponse)
	quit tSC
]]></Implementation>
</Method>

<Method name="PatientSearch">
<FormalSpec><![CDATA[pRequest,&pResponse]]></FormalSpec>
<Implementation><![CDATA[
	set tSC=..SendRequestSync(..TCQueryConfigName,pRequest,.pResponse)
	quit tSC
]]></Implementation>
</Method>

<Method name="OnInit">
<FormalSpec>pRequest:%Library.Persistent,*pResponse:%Library.Persistent</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	set sc=##super()
 
	quit sc
]]></Implementation>
</Method>

<Storage name="Default">
<Type>%Storage.Persistent</Type>
<DefaultData>TCRouterDefaultData</DefaultData>
<Data name="TCRouterDefaultData">
<Subscript>"TCRouter"</Subscript>
<Value name="1">
<Value>ResourceSchemaRoot</Value>
</Value>
<Value name="2">
<Value>TCQueryConfigName</Value>
</Value>
<Value name="3">
<Value>TCOutboundConfigName</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="TC.hmf.FHIR.Server.Service.FHIRRouterService">
<Super>Ens.BusinessService</Super>
<TimeChanged>66013,24761.389442</TimeChanged>
<TimeCreated>65420,51234.627704</TimeCreated>

<Parameter name="SETTINGS">
<Default><![CDATA[FHIRRouterConfigName:Basic:selector?context={Ens.ContextSearch/ProductionItems?targets=1&productionName=@productionId}]]></Default>
</Parameter>

<Property name="FHIRRouterConfigName">
<Description>
Business host to which to forward the api request message.</Description>
<Type>Ens.DataType.ConfigName</Type>
</Property>

<Method name="OnProcessInput">
<FormalSpec>pInput:HS.Message.ECRQueryRequest,*pOutput:HS.Message.ECRQueryResponse</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	set sc=$$$OK
	set sc=..SendRequestSync(..FHIRRouterConfigName,pInput,.pOutput)
	quit sc
]]></Implementation>
</Method>

<Method name="SendECRQuery">
<FormalSpec>pInput:HS.Message.ECRQueryRequest,*pOutput:HS.Message.ECRQueryResponse</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	
	set sc=..ProcessInput(pInput,.pOutput)
	if $$$ISERR(sc) q sc
	quit $$$OK
]]></Implementation>
</Method>
</Class>


<Class name="TC.hmf.FHIR.Server.Utils">
<Description>
utility to clean patient data from FHIR repositry </Description>
<Super>%RegisteredObject</Super>
<TimeChanged>66031,39423.4820228</TimeChanged>
<TimeCreated>65839,59668.728224</TimeCreated>

<UDLText name="T">
<Content><![CDATA[
// clean patient data from FHIR repositry 

]]></Content>
</UDLText>

<Method name="CleanupPatData">
<ClassMethod>1</ClassMethod>
<FormalSpec>PatientID,pFHIRVersion,appname</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	
	 
	
	if (pFHIRVersion="DSTU2")
	{
		return ..CleanupDSTU2PatData(PatientID)
		
	}
	elseif (pFHIRVersion="STU3")
	{
		return ..CleanupvSTU3PatData(PatientID)
		
	}
	elseif (pFHIRVersion="R3") ||(pFHIRVersion="R4")
	{
		
		return ..CleanPatJOSNData(PatientID,appname)
	}
	
	
	quit 0
]]></Implementation>
</Method>

<Method name="CleanupDSTU2PatData">
<Description>
 Call Delete API to cleanup vDSTU2 patient clinical data from FHIR Repository</Description>
<ClassMethod>1</ClassMethod>
<FormalSpec>PatientID</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	
	//do ##class(TC.hmf.FHIR.Server.Utils).CleanupDSTU2PatData("0018290")
	
	set sc=$$$OK
	//get list of FHIR resources linked to patient
	&SQL(
		DECLARE RESDSTU2 CURSOR FOR
		SELECT parent FROM %Dictionary.PropertyDefinition
		WHERE parent LIKE 'NSLocal.FHIR.Search.vDSTU2%'
		AND id LIKE '%||patient'
	)
	set tLocal="NSLocal.FHIR.Search.vDSTU2."
	&SQL(OPEN RESDSTU2)
	&SQL(FETCH RESDSTU2 INTO :tLocalRes)
	set listcnt=0
	set resList=""
	//loop through each table in fhir repository and cleanup patient clinical data
	while 'SQLCODE {
		set tResource=$piece(tLocalRes,tLocal,2)
		set tUrlParam="patient="_PatientID
		
		set sc=##class(HS.FHIR.vDSTU2.Repository.Storage).Delete(tResource,,"multiple",tUrlParam,99999)
		&SQL(FETCH RESDSTU2 INTO :tLocalRes)
	}
	&SQL(CLOSE RESDSTU2)
	quit sc
]]></Implementation>
</Method>

<Method name="CleanupvSTU3PatData">
<Description>
 Call Delete API to cleanup vSTU3 patient clinical data from FHIR Repository</Description>
<ClassMethod>1</ClassMethod>
<FormalSpec>PatientID</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	//do ##class(TC.hmf.FHIR.Server.Utils).CleanupDSTU2PatData("0018290")
	
	set sc=$$$OK
	//get list of FHIR resources linked to patient
	&SQL(
		DECLARE RESSTU3 CURSOR FOR
		SELECT parent FROM %Dictionary.PropertyDefinition
		WHERE parent LIKE 'NSLocal.FHIR.Search.vSTU3%'
		AND id LIKE '%||patient'
	)
	set tLocal="NSLocal.FHIR.Search.vSTU3."
	&SQL(OPEN RESSTU3)
	&SQL(FETCH RESSTU3 INTO :tLocalRes)
	set listcnt=0
	set resList=""
	//loop through each table in fhir repository and cleanup patient clinical data
	while 'SQLCODE {
		set tResource=$piece(tLocalRes,tLocal,2)
		set tUrlParam="patient="_PatientID
		set sc=##class(HS.FHIR.vSTU3.Repository.Storage).Delete(tResource,,"multiple",tUrlParam,99999)
		&SQL(FETCH RESSTU3 INTO :tLocalRes)
	}
	&SQL(CLOSE RESSTU3)
	quit sc
]]></Implementation>
</Method>

<Method name="CleanupPackagePatData">
<Description>
 Call Delete API to cleanup JSON V3 patient clinical data from FHIR Repository</Description>
<ClassMethod>1</ClassMethod>
<FormalSpec>PatientID,package,debug=0</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	//do ##class(TC.hmf.FHIR.Server.Utils).CleanupvJSONVR4PatData("0018290")
	set sc=$$$OK
	//get list of FHIR resources linked to patient
	&SQL(
		DECLARE RESJSON CURSOR FOR
		SELECT parent FROM %Dictionary.PropertyDefinition
		WHERE parent LIKE :package||'%'
		AND id LIKE '%||patient'
	)
	&SQL(OPEN RESJSON)
	&SQL(FETCH RESJSON INTO :tLocalRes)
	set listcnt=0
	set resList=""
	//loop through each table in fhir repository and cleanup patient clinical data
	while 'SQLCODE {
		
		set table=..GetSQLTableName(tLocalRes)
		set sql="delete  "_table_" where patient='Patient/"_PatientID_"'"
		write:debug !,sql
		set rset=$system.SQL.Execute(sql)
		&SQL(FETCH RESJSON INTO :tLocalRes)
	}
	&SQL(CLOSE RESJSON)

	quit sc
]]></Implementation>
</Method>

<Method name="CleanupFHIRAllData">
<Description>
 Call Delete API to cleanup JSON V3 patient clinical data from FHIR Repository</Description>
<ClassMethod>1</ClassMethod>
<FormalSpec>package,debug=0</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	//do ##class(TC.hmf.FHIR.Server.Utils).CleanupvJSONVR4PatData("0018290")
	set sc=$$$OK
	//get list of FHIR resources linked to patient
	&SQL(
		DECLARE RESJSON CURSOR FOR
		SELECT parent FROM %Dictionary.PropertyDefinition
		WHERE parent LIKE :package||'%'
	)
	&SQL(OPEN RESJSON)
	&SQL(FETCH RESJSON INTO :tLocalRes)
	set listcnt=0
	set resList=""
	//loop through each table in fhir repository and cleanup patient clinical data
	while 'SQLCODE {
		
		set table=..GetSQLTableName(tLocalRes)
		set sql="delete  "_table_" "
		write:debug !,sql
		set rset=$system.SQL.Execute(sql)
		&SQL(FETCH RESJSON INTO :tLocalRes)
	}
	&SQL(CLOSE RESJSON)

	quit sc
]]></Implementation>
</Method>

<Method name="CleanJOSNData">
<Description>
Clean all data in FHIR JOSN structure</Description>
<ClassMethod>1</ClassMethod>
<FormalSpec>restURL,debug=0</FormalSpec>
<Implementation><![CDATA[
	//do ##class(TC.hmf.FHIR.Server.Utils).CleanJOSNData("/tcfhir/trakr4")
	set strategy =$classmethod("HS.FHIRServer.API.InteractionsStrategy","GetStrategyForEndpoint",restURL)
	set clsdatapack= strategy.GetResourceClassesPackage()
	set clssearchpack= strategy.GetSearchClassesPackage()
	
	do ##class(TC.hmf.FHIR.Server.Utils).CleanupFHIRAllData(clsdatapack,debug)
	do ##class(TC.hmf.FHIR.Server.Utils).CleanupFHIRAllData(clssearchpack,debug)
	
	// clear everything
	
	set everythingcls=clsdatapack_".Rsrc"
	set everythingtable=..GetSQLTableName(everythingcls)
	
	set sql="delete from "_everythingtable_"  "
	set rset=$system.SQL.Execute(sql)
	
	
	k ^HSFHIR.X0001.V.RsrcVerD
	k ^HSFHIR.X0001.V.RsrcVerI
	
	quit 1
]]></Implementation>
</Method>

<Method name="CleanPatJOSNData">
<Description>
Clean pateint data in FHIR JOSN structure</Description>
<ClassMethod>1</ClassMethod>
<FormalSpec>patientid,restURL</FormalSpec>
<Implementation><![CDATA[
	//do ##class(TC.hmf.FHIR.Server.Process).CleanPatJOSNData()
	set strategy =$classmethod("HS.FHIRServer.API.InteractionsStrategy","GetStrategyForEndpoint",restURL)
	set clsdatapack= strategy.GetResourceClassesPackage()
	set clssearchpack= strategy.GetSearchClassesPackage()
	
	do ##class(TC.hmf.FHIR.Server.Utils).CleanupPackagePatData(patientid,clsdatapack,0)
	do ##class(TC.hmf.FHIR.Server.Utils).CleanupPackagePatData(patientid,clssearchpack,0)
	
	// clear everything
	
	set everythingcls=clsdatapack_".Rsrc"
	set everythingtable=..GetSQLTableName(everythingcls)
	
	set sql="delete from "_everythingtable_" where FOR SOME %ELEMENT(Compartments) (%VALUE='Patient/"_patientid_"')"
	set rset=$system.SQL.Execute(sql)
	
	
	quit 1
]]></Implementation>
</Method>

<Method name="GetSQLTableName">
<Description>
get sql table name by class name </Description>
<ClassMethod>1</ClassMethod>
<CodeMode>expression</CodeMode>
<FormalSpec>pClass:%String</FormalSpec>
<ReturnType>%String</ReturnType>
<Implementation><![CDATA[$$$comClassKeyGet(pClass,$$$cCLASSsqlschemaname)_"."_$$$comClassKeyGet(pClass,$$$cCLASSsqltablename)
]]></Implementation>
</Method>

<Parameter name="SrcVer">
<Description>
This Parameter is updated by Perforce</Description>
<Default>$Id: //trak/main/projects/T2020/XX06_HMF/cls/TC/hmf/FHIR/Server/Utils.xml#3 $</Default>
</Parameter>
</Class>


<Class name="TC.hmf.FHIR.Server.wsClient.TCOutbound">
<ProcedureBlock>1</ProcedureBlock>
<Super>%SOAP.WebClient</Super>
<TimeChanged>66012,47114.989403</TimeChanged>
<TimeCreated>63203,63962.808152</TimeCreated>

<Parameter name="SrcVer">
<Description>
This Parameter is updated by Perforce</Description>
<Default>$Id: //trak/main/DEV/cls/TC/hmf/HS/ws/Client/QueryTrak.xml#3 $</Default>
</Parameter>

<Parameter name="LOCATION">
<Description>
This is the URL used to access the web service.</Description>
<Default>http://172.27.97.50:57772/csp/healthshare/trak/TC.hmf.System.Service.Inbound.SOAP.cls</Default>
</Parameter>

<Parameter name="NAMESPACE">
<Description>
This is the namespace used by the Service</Description>
<Default>http://www.intersystems.com/trak/ws</Default>
</Parameter>

<Parameter name="OUTPUTTYPEATTRIBUTE">
<Description>
Use xsi:type attribute for literal types.</Description>
<Default>1</Default>
</Parameter>

<Parameter name="SECURITYIN">
<Description>
Determines handling of Security header.</Description>
<Default>ALLOW</Default>
</Parameter>

<Parameter name="SERVICENAME">
<Description>
This is the name of the Service</Description>
<Default>Soap</Default>
</Parameter>

<Parameter name="SOAPVERSION">
<Description>
This is the SOAP version supported by the service.</Description>
<Default>1.1</Default>
</Parameter>

<Parameter name="DISTRIBUTESOURCE">
<Description>
Flag to determine whether to distribute source</Description>
<Type>%String</Type>
<Default>1</Default>
</Parameter>

<Property name="Timeout">
<Description>
Required to override default %Net.HttpRequest Timeout, i.e. the amount of time to wait for a response from the 
web server before assuming that the web server is not responding. If not set here then default is 30 seconds.</Description>
<Type>%Integer</Type>
<InitialExpression>120</InitialExpression>
</Property>

<Method name="Send">
<Final>1</Final>
<FormalSpec>pInput:HS.Message.XMLMessage,*pOutput:HS.Message.XMLMessage</FormalSpec>
<ProcedureBlock>1</ProcedureBlock>
<ReturnType>%Status</ReturnType>
<WebMethod>1</WebMethod>
<SoapBindingStyle>document</SoapBindingStyle>
<SoapBodyUse>literal</SoapBodyUse>
<Implementation><![CDATA[

	quit ..WebMethod("Send").Invoke($this,"http://www.intersystems.com/trak/ws/TC.hmf.System.Service.Inbound.SOAP.Send",pInput,.pOutput)
]]></Implementation>
</Method>

<Method name="Test">
<ClassMethod>1</ClassMethod>
<Implementation><![CDATA[
	
	//do ##class(TC.hmf.FHIR.Server.wsClient.TRAKOutbound).Test()
	set client=##class(TC.hmf.FHIR.Server.wsClient.TRAKOutbound).%New()
	set pInput=##class(HS.Message.XMLMessage).%New()
 
	w client.Send(.pInput,.pOutput)
	
	
	q 1
]]></Implementation>
</Method>
</Class>


<Class name="TC.hmf.FHIR.Server.wsClient.TCQuery">
<ProcedureBlock>1</ProcedureBlock>
<Super>%SOAP.WebClient</Super>
<TimeChanged>66012,47128.565824</TimeChanged>
<TimeCreated>65456,59806.821148</TimeCreated>

<Parameter name="NAMESPACE">
<Default>http://www.intersystems.com/trak/ws</Default>
</Parameter>

<Parameter name="SECURITYIN">
<Default>ALLOW</Default>
</Parameter>

<Parameter name="SERVICENAME">
<Default>TC.hmf.System.Service.Inbound.Query</Default>
</Parameter>

<Parameter name="SOAPVERSION">
<Default>1.1</Default>
</Parameter>

<Method name="PatientFetch">
<Final>1</Final>
<FormalSpec><![CDATA[pInput:HS.Message.ECRQueryRequest,&pOutput:HS.Message.ECRQueryResponse]]></FormalSpec>
<ProcedureBlock>1</ProcedureBlock>
<ReturnType>%Status</ReturnType>
<WebMethod>1</WebMethod>
<SoapBindingStyle>document</SoapBindingStyle>
<SoapBodyUse>literal</SoapBodyUse>
<Implementation><![CDATA[	quit ..WebMethod("PatientFetch").Invoke($this,"http://www.intersystems.com/trak/ws/TC.hmf.System.Service.Inbound.Query.PatientFetch",pInput,.pOutput)
]]></Implementation>
</Method>

<Method name="PatientSearch">
<Final>1</Final>
<FormalSpec><![CDATA[pInput:HS.Message.PatientSearchRequest,&pOutput:HS.Message.PatientSearchResponse]]></FormalSpec>
<ProcedureBlock>1</ProcedureBlock>
<ReturnType>%Status</ReturnType>
<WebMethod>1</WebMethod>
<SoapBindingStyle>document</SoapBindingStyle>
<SoapBodyUse>literal</SoapBodyUse>
<Implementation><![CDATA[	quit ..WebMethod("PatientSearch").Invoke($this,"http://www.intersystems.com/trak/ws/TC.hmf.System.Service.Inbound.Query.PatientSearch",pInput,.pOutput)
]]></Implementation>
</Method>

<Parameter name="SrcVer">
<Description>
This Parameter is updated by Perforce</Description>
<Default>$Id: //trak/main/projects/T2020/XX06_HMF/cls/TC/hmf/FHIR/Server/wsClient.xml#3 $</Default>
</Parameter>
</Class>


<Class name="TC.hmf.FHIR.Transform.API.FHIRToSDA3">
<Super>HS.FHIR.DTL.Util.API.Transform.FHIRToSDA3</Super>
<TimeChanged>66012,32820.852223</TimeChanged>
<TimeCreated>66004,60957.067712</TimeCreated>

<Method name="GetIdentifier">
<Description>
Given a resource type and id, will return a unique (to this transformer) identifier
that will be used for EncounterNumbers and in some cases ExternalId.
@API.Overrideable</Description>
<FormalSpec>resourceType:%String,id:%String</FormalSpec>
<ReturnType>%String</ReturnType>
<Implementation><![CDATA[
	q:resourceType="Encounter" id
	
	if (id = "") {
		if ..%currentReference [ "urn:uuid" {
			set id = $piece(..%currentReference, "urn:uuid:", *)
		}
		else {
			set id = $piece(..%currentReference, "/", *)
		}
	}
	if (id = "") {
		return ""
	}
	
	 
	
	if $get(..%resourceIds(resourceType, id)) = "" {
		set ..%resourceIds(resourceType, id) = $i(..%resourceIds(resourceType, "count"))
	}
	
	return ..%resourceIds(resourceType, id)
]]></Implementation>
</Method>
</Class>


<Class name="TC.hmf.FHIR.Transform.API.SDA3ToFHIR">
<Super>HS.FHIR.DTL.Util.API.Transform.SDA3ToFHIR</Super>
<TimeChanged>66031,35401.0969596</TimeChanged>
<TimeCreated>66004,60957.067712</TimeCreated>

<Method name="GetId">
<Description>
Overrideable method that allows custom designation of a resource id. SDA source
and the generated resource are provided.
@API.Overrideable</Description>
<FormalSpec>source:HS.SDA3.SuperClass,resource:%DynamicObject</FormalSpec>
<ReturnType>%String</ReturnType>
<Implementation><![CDATA[
	// user encounter number as id for encounter 
	if resource.resourceType = "Encounter" {
		return source.EncounterNumber
	}
 
 	 

 	if resource.resourceType = "Organization" {
	 	 return $system.SQL.ALPHAUP(resource.identifier.name.value)	
 	}

 	
 	if resource.resourceType = "Practitioner" {
		if $CLASSNAME(source)="HS.SDA3.CodeTableDetail.CareProvider"
		{
			 return $system.SQL.ALPHAUP(resource.identifier.name.value)	
		}
	}
	if resource.resourceType = "Location" {
		if $CLASSNAME(source)="HS.SDA3.CodeTableDetail.HealthCareFacility"
		{
			 return $replace(source.Code," ","")	
		}
	}
	
	
	
	return ""
]]></Implementation>
</Method>

<Method name="IsDuplicate">
<FormalSpec>resource:%DynamicObject,id:%String</FormalSpec>
<Private>1</Private>
<ReturnType>HS.FHIR.DTL.vR4.Model.Base.Reference</ReturnType>
<Implementation><![CDATA[
	
	
	
	if ..%schema.IsSharedResourceType(resource.resourceType) {
		
	 
		do $system.Encryption.SHA1HashResult()
		
	
		if resource.resourceType = "Organization" 
		 {
			 do $system.Encryption.SHA1HashInput(resource.identifier.value.value)
		}
		elseif resource.resourceType = "Practitioner" 
		 {
			 do $system.Encryption.SHA1HashInput(resource.identifier.value.value)
		}
		elseif resource.resourceType = "Location" 
		 {
			do $system.Encryption.SHA1HashInput(resource.identifier.value.value)
			
		}
		else
		{
			do $system.Encryption.SHA1HashInput(resource.%ToJSON())
		}
	 	
		
		
		//Hash will be computed on first 32KB of resource stream
		
		set hash = $system.Encryption.Base64Encode($system.Encryption.SHA1HashResult())
		
		if $data(..%resourceIndex("hash", hash)) {
			return ..CreateReference(resource.resourceType, ..%resourceIndex("hash", hash))
		}
		
		set ..%resourceIndex("hash", hash) = id
	}
	return ""
]]></Implementation>
</Method>

<Method name="HandleInvalidResource">
<Description>
Overrideable method that allows custom handling of an invalid resource. The default behavior
is to throw an exception and exit transformation.
@API.Overrideable</Description>
<FormalSpec>resource:%DynamicObject,exception:%Exception.AbstractException</FormalSpec>
<Private>1</Private>
<Implementation><![CDATA[
	if resource.resourceType = "Provenance" {
		return
	}
	// ignore extension basic issues 
	if $find(exception.DisplayString(),"The type 'Basic' requires a property named 'code'")> 0 quit 
	if $find(exception.DisplayString(),"Type 'Extension' is a malformed")> 0 quit 
	
	
	throw exception
]]></Implementation>
</Method>
</Class>


<Class name="TC.hmf.FHIR.Transform.SDA3.Container">
<Super>Ens.DataTransformDTL</Super>
<TimeChanged>66030,68890.2307129</TimeChanged>
<TimeCreated>66007,37868.816818</TimeCreated>
<DependsOn>HS.SDA3.Container</DependsOn>

<Parameter name="IGNOREMISSINGSOURCE">
<Default>1</Default>
</Parameter>

<Parameter name="REPORTERRORS">
<Default>1</Default>
</Parameter>

<Parameter name="TREATEMPTYREPEATINGFIELDASNULL">
<Default>0</Default>
</Parameter>

<XData name="DTL">
<XMLNamespace>http://www.intersystems.com/dtl</XMLNamespace>
<Data><![CDATA[
<transform sourceClass='HS.SDA3.Container' targetClass='HS.SDA3.Container' create='new' language='objectscript' >
<assign value='source' property='target' action='set' />
<foreach property='source.Encounters()' key='k1' >
<subtransform class='TC.hmf.FHIR.Transform.SDA3.Encounter' targetObj='target.Encounters.(k1)' sourceObj='source.Encounters.(k1)' />
</foreach>
<foreach property='source.Observations()' key='k1' >
<subtransform class='TC.hmf.FHIR.Transform.SDA3.Observation' targetObj='target.Observations.(k1)' sourceObj='source.Observations.(k1)' />
</foreach>
</transform>
]]></Data>
</XData>
</Class>


<Class name="TC.hmf.FHIR.Transform.SDA3.Encounter">
<Super>Ens.DataTransformDTL</Super>
<TimeChanged>66030,86072.4019058</TimeChanged>
<TimeCreated>66007,28459.299186</TimeCreated>
<DependsOn>HS.SDA3.Encounter</DependsOn>

<Parameter name="IGNOREMISSINGSOURCE">
<Default>1</Default>
</Parameter>

<Parameter name="REPORTERRORS">
<Default>1</Default>
</Parameter>

<Parameter name="TREATEMPTYREPEATINGFIELDASNULL">
<Default>0</Default>
</Parameter>

<Method name="GetLocationCode">
<ClassMethod>1</ClassMethod>
<FormalSpec>Ward,Room,Bed</FormalSpec>
<Implementation><![CDATA[
	set location=Ward
	if $g(Room)'=""
	{
		set location=location_"."_Room
	}
	if $g(Bed)'=""
	{
		set location=location_"."_Bed
	}
	quit location
]]></Implementation>
</Method>

<Method name="GetLocationDesc">
<ClassMethod>1</ClassMethod>
<FormalSpec>Ward,Room,Bed</FormalSpec>
<Implementation><![CDATA[
	set location="Ward "_Ward
	if $g(Room)'=""
	{
		set location=location_",Room "_Room
	}
	if $g(Bed)'=""
	{
		set location=location_",Bed "_Bed
	}
	quit location
]]></Implementation>
</Method>

<XData name="DTL">
<XMLNamespace>http://www.intersystems.com/dtl</XMLNamespace>
<Data><![CDATA[
<transform sourceClass='HS.SDA3.Encounter' targetClass='HS.SDA3.Encounter' create='new' language='objectscript' >
<assign value='source' property='target' action='set' />
<assign value='source.HealthCareFacility.Organization.Code' property='target.HealthCareFacility.Code' action='set' />
<assign value='source.HealthCareFacility.Organization.Description' property='target.HealthCareFacility.Description' action='set' />
<if condition='##class(%Dictionary.CompiledProperty).%ExistsId("HS.SDA3.Encounter||Locations")' >
<true>
<assign value='..GetLocationCode(source.AssignedWard,source.AssignedRoom,source.AssignedBed)' property='target.Locations.(1).LocationDetail.Code' action='set' />
<assign value='..GetLocationDesc(source.AssignedWard,source.AssignedRoom,source.AssignedBed)' property='target.Locations.(1).LocationDetail.Description' action='set' />
<assign value='""' property='target.HealthCareFacility.Organization' action='set' />

</true>
</if>
</transform>
]]></Data>
</XData>
</Class>


<Class name="TC.hmf.FHIR.Transform.SDA3.Observation">
<Super>Ens.DataTransformDTL</Super>
<TimeChanged>66007,40425.282418</TimeChanged>
<TimeCreated>66007,28459.299186</TimeCreated>
<DependsOn>HS.SDA3.Observation</DependsOn>

<Parameter name="IGNOREMISSINGSOURCE">
<Default>1</Default>
</Parameter>

<Parameter name="REPORTERRORS">
<Default>1</Default>
</Parameter>

<Parameter name="TREATEMPTYREPEATINGFIELDASNULL">
<Default>0</Default>
</Parameter>

<XData name="DTL">
<XMLNamespace>http://www.intersystems.com/dtl</XMLNamespace>
<Data><![CDATA[
<transform sourceClass='HS.SDA3.Observation' targetClass='HS.SDA3.Observation' create='new' language='objectscript' >
<assign value='source' property='target' action='set' />
<if condition='..Lookup("Local.FromSDAObservationCode",source.ObservationCode.Code,"")&apos;=""' >
<annotation>check if external code exist</annotation>
<true>
<assign value='..Lookup("Local.FromSDAObservationCode",source.ObservationCode.Code,source.ObservationCode.Code)' property='target.ObservationCode.Code' action='set' />
<assign value='"LN"' property='target.ObservationCode.SDACodingStandard' action='set' />
</true>
</if>
<if condition='..Lookup("Local.FromSDAObservationCodeUOM",source.ObservationCode.ObservationValueUnits.Code,"")&apos;=""' >
<annotation>check if ucm exist</annotation>
<true>
<assign value='..Lookup("Local.FromSDAObservationCodeUOM",source.ObservationCode.ObservationValueUnits.Code,source.ObservationCode.ObservationValueUnits.Code)' property='target.ObservationCode.ObservationValueUnits.Code' action='set' />
<assign value='"UCUM"' property='target.ObservationCode.ObservationValueUnits.SDACodingStandard' action='set' />
</true>
</if>
<assign value='+source.ObservationValue' property='target.ObservationValue' action='set' />
</transform>
]]></Data>
</XData>
</Class>


<Class name="TC.hmf.FHIR.Utils">
<Copyright>/* Copyright (c) 2019 by InterSystems Corporation.
   Cambridge, Massachusetts, U.S.A.  All rights reserved.
   Confidential property of InterSystems Corporation. */</Copyright>
<Description>
Context search methods.</Description>
<IncludeCode>Ensemble</IncludeCode>
<Super>%ZEN.Portal.ContextSearch</Super>
<System>4</System>
<TimeChanged>66007,38894.670949</TimeChanged>
<TimeCreated>61579,56265.914196</TimeCreated>

<Method name="TransformSDAContainer">
<ClassMethod>1</ClassMethod>
<Implementation><![CDATA[
		//do ##class(TC.hmf.FHIR.Utils).TransformSDAContainer()
		
		Set compiledXdata=##class(%Dictionary.CompiledXData).%OpenId("TC.hmf.FHIR.Installer.DemoPatient||DemoSDA")
   		Set pSDAStream=compiledXdata.Data
		set tSDAContainer = ##class(HS.SDA3.Container).%New()
		set tSDAContainer=##class(TC.hmf.FHIR.Utils).SDAStreamToObject(pSDAStream)
		#Dim newSDAObj As HS.SDA3.Container
		set tsc=##class(TC.hmf.FHIR.Transform.SDA3.Container).Transform(tSDAContainer,.newSDAObj) 
	    do newSDAObj.ToQuickXML()
		 
		 
		/*
		if $$$ISERR(tSC) quit tSC
		while tSDAContainer.GetNextSDA(.tSDAType, .tSDAObj, .tSC) {
			quit:$$$ISERR(tSC)
			if tSDAType = "Observation" {
				#Dim tSDAObj As HS.SD3.Observation
				set tsc=##class(TC.hmf.FHIR.Transform.SDA3.Observation).Transform(tSDAObj,.newSDAObj)
				set tSDAObj=newSDAObj
			}
			kill tSDAObj
		}
		
	 	 */
  		
		 
		
		quit $$$OK
]]></Implementation>
</Method>

<Method name="SDAStreamToObject">
<Description>
Convert SDA Stream to SDA Object</Description>
<ClassMethod>1</ClassMethod>
<FormalSpec>sSDA:%Stream</FormalSpec>
<ReturnType>HS.SDA3.Container</ReturnType>
<Implementation><![CDATA[
	set oSDA=##class(HS.SDA3.Container).%New()
	set tReader = ##class(%XML.Reader).%New()
	set sc = tReader.OpenStream(sSDA)
	do tReader.Correlate("Container", "HS.SDA3.Container")
	set x=tReader.Next(.oSDA,.sc)
	quit oSDA
]]></Implementation>
</Method>

<Method name="SDAObjectToStream">
<Description>
Convert SDA Object to Stream</Description>
<ClassMethod>1</ClassMethod>
<FormalSpec>oSDA:HS.SDA3.Container</FormalSpec>
<ReturnType>%Stream.GlobalCharacter</ReturnType>
<Implementation><![CDATA[
	do oSDA.XMLExportToStream(.sSDA)
	quit sSDA
]]></Implementation>
</Method>

<Method name="GetSDA3SegmentList">
<Description><![CDATA[
Search method for business host parameter.<br/>
Execute a search for all Config Item names that are message sources.<br/>]]></Description>
<ClassMethod>1</ClassMethod>
<FormalSpec><![CDATA[*pCaption:%String,*pTopResults,*pResults,&pParms:%String,pSearchKey:%String=""]]></FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	kill pResults  set tSC=$$$OK
	
	//get list of SDA3 classes
	&SQL(
		DECLARE SDA CURSOR FOR
		SELECT name FROM %Dictionary.ClassDefinition
		WHERE super LIKE '%HS.SDA3.SuperClass%'
	)
	
	&SQL(OPEN SDA)
	&SQL(FETCH SDA INTO :sdaClass)
	set listcnt=0
	set sdaList=""
	while 'SQLCODE {
		set sdaSegment=$piece(sdaClass,".",3)
		set excludeList=",CustomObject,DocumentOrganization,DocumentProvider,AdvanceDirective,ProgramMembership,SocialDeterminant,Guarantor,DosageStep,HealthConcern,Intervention,PatientLanguage,PhysicalExam,Specimen,Outcome,LabResultItem,Administration,MedicalClaimLine,PatientNumber,MembershipEnrollemnt,GenomicsOrder,"
		set sdaCheck=","_sdaSegment_","
		if excludeList'[sdaCheck {
			set pResults($increment(pResults)) = sdaSegment
		}
		&SQL(FETCH SDA INTO :sdaClass)
	}
	&SQL(CLOSE SDA)
	
	quit $$$OK
]]></Implementation>
</Method>
</Class>


<Class name="TC.hmf.FHIR.vDSTU2.REST.Handler">
<Description>
TrakCare FHIR REST Handler</Description>
<Super>HS.FHIR.vDSTU2.REST.Handler,TC.hmf.FHIR.REST.Abstract</Super>
<TimeChanged>66007,22068.410357</TimeChanged>
<TimeCreated>63364,61791.853388</TimeCreated>

<XData name="UrlMap">
<Description>
The UrlMap describes how incoming REST URL requests and their parameters get
dispatched to each of the handler-methods in this class.</Description>
<Data><![CDATA[
<Routes>
<Route Url="/.well-known/:suffix" 	 	Method="GET" 		Call="processWellKnown"/>
<Route Url="/_history" 					Method="GET" 		Call="HistoryAll"/>
<Route Url="/metadata" 					Method="GET" 		Call="MetaData"/>
<Route Url="/Mailbox" 					Method="POST" 		Call="Mailbox"/>
<Route Url="/Document" 					Method="POST" 		Call="Document"/>
<Route Url="/_search" 					Method="POST" 		Call="SearchAllPost"/>
<Route Url="/" 							Method="POST" 		Call="Transaction"/>
<Route Url="/" 							Method="GET" 		Call="SearchAll"/>
<Route Url="/:type/_search" 			Method="POST" 		Call="SearchPost"/>
<Route Url="/:type/_history" 			Method="GET" 		Call="HistoryType"/>
<Route Url="/:type/_validate/:id" 		Method="POST" 		Call="Validate"/>
<Route Url="/:type/_validate" 			Method="POST" 		Call="Validate"/>
<Route Url="/:type/:id/_history/:vid"	Method="GET" 		Call="VRead"/>
<Route Url="/:type/:id/_history" 		Method="GET" 		Call="History"/>
<Route Url="/:type/:id" 				Method="GET" 		Call="Read"/>
<Route Url="/:type/:id" 				Method="PUT" 		Call="Update"/>
<Route Url="/:type" 					Method="PUT" 		Call="ConditionalUpdate"/>
<Route Url="/:type/:id" 				Method="DELETE" 	Call="Delete"/>
<Route Url="/:type" 					Method="DELETE" 	Call="ConditionalDelete"/>
<Route Url="/:type"			 			Method="GET" 		Call="Search"/>
<Route Url="/:type" 					Method="POST" 		Call="Create"/>
<Route Url="/:type/:operation" 			Method="POST" 		Call="OperationResourceType"/>
<Route Url="/:type/:id/:operation" 		Method="POST" 		Call="OperationResourceInstance"/>
<Route Url="/:compartment/:id/:type" 	Method="GET" 		Call="CompartmentSearch"/>
</Routes>
]]></Data>
</XData>

<Method name="marshallRequest">
<Description>

Marshall the incoming FHIR REST request into a message ready for dispatch to the FHIR business service
</Description>
<Internal>1</Internal>
<ClassMethod>1</ClassMethod>
<FormalSpec><![CDATA[pContentType:%String,pInteraction:%String,pType:%String,pId:%String,pVersion:%String,pCompartment:%String,pParamCount:%Integer,&pRequest:HS.Message.FHIR.Request]]></FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	#dim tStatus as %Status = $$$OK
	try {
		
		#dim tKey as %String
		#dim tSubKey as %String
		#dim tItem as %String
		#dim tHeader as %String
		#dim tContentType as %String
		#dim %request as %CSP.Request
		
		// Construct a new FHIR request object and populate it with the contents of the HTTP request
		set pRequest = ##class(HS.Message.FHIR.Request).%New()
		
		set tBaseURL = %request.Application
		if $extract(tBaseURL, *)="/" set tBaseURL = $extract(tBaseURL, 1, *-1)
		set pRequest.BaseURL = tBaseURL
		
		set pRequest.Interaction = pInteraction
		set pRequest.ContentType = pContentType
		set pRequest.Type = pType
		set pRequest.Id = $zconvert(pId,"u")
		set pRequest.VId = pVersion
		set pRequest.Compartment = pCompartment
		set pRequest.FHIRVersion = %fhircspconfig.FHIRVersion
		
		// Copy in any HTTP query values
		set tKey = ""
		for {
			set tKey = $order(%request.Data(tKey))
			quit:tKey=""
			
			// Look for subkeys in case of duplicate query parameters
			set (tSubKey, tItem) = ""
			for {
				set tSubKey = $order(%request.Data(tKey,tSubKey))
				quit:tSubKey=""
				
				set tVal = %request.Data(tKey,tSubKey)
				
				// Force the URL query parameter Order value into the request data for sort keys.
				if $extract(tKey,1,5)="_sort" {
					set tVal = tVal_":"_%request.Data(tKey,tSubKey,"O")
				}
				
				// NOTE: We store this as a $LIST of possible values in order of appearance
				set tItem = tItem_$listbuild(tVal)
			}
			
			// Copy the URL query parameters
			do pRequest.Parameters.SetAt(tItem, tKey)
		}
		
		// Copy in any HTTP header values
		set tKey = ""
		for {
			set tKey = $order(%request.CgiEnvs(tKey))
			quit:tKey=""
			
			if tKey?1"HTTP_"1.E {
				// Determine the proper header name (will be all caps unfortunately)
				set tHeader = $piece(tKey,"HTTP_",2,*)
				
				// Copy the HTTP headers
				do pRequest.Headers.SetAt(%request.CgiEnvs(tKey), tHeader)
			} elseif tKey="REMOTE_ADDR" {
				// AdditionalInfo ClientAddr is added to provide an
				// indication in the message trace of the client IP
				// address.
				do pRequest.AdditionalInfo.SetAt(%request.CgiEnvs(tKey), "ClientAddr")
			}
		}
		
		do pRequest.AdditionalInfo.SetAt(%request.Secure, "Secure")
		do pRequest.AdditionalInfo.SetAt(%session.SessionId, "CSPSessionId")
		
		set tConformance = %fhircspconfig.ConformanceId
		set tOAuth = %fhircspconfig.UseOAuth
		set tResourceServerClient = %fhircspconfig.ResourceServerOAuthClient
		
		set ^zTRAK("HMF","FHIR","REST","marshallRequest")=$get(tConformance)_"^"_$get(tOAuth)_"^"_tResourceServerClient
		
		if tConformance'="" do pRequest.AdditionalInfo.SetAt(tConformance, "ConformanceId")
		
		// The OAuth token processing here is a little redundant to that done in OnPreDispatch.
		// Measures are taken here to minimize the overhead. OnPreDispatch is meant to catch
		// an invalid access token before the UrlMap is even reached. marshallRequest needs
		// the access token information to formulate a session id in case it is needed, and
		// to populate a field in the FHIR message request so that the JWT is carried
		// forward into the rest of the FHIR processing.
		// Regarding access token validation:
		// 1. Absence of access token in Conformance request is okay.
		// 2. Absence of access token in request that is NOT Conformance is an error.
		// 3. Invalid access token (has value but is invalid), even when in a Conformance request, is an error.
		// 4. Current audience must match one of the token audiences, if the token has any.
		
		// *** TC Custom code - initialize tAccessToken to fix undefined error ***
		set tAccessToken=""
		
		if tOAuth {
			set tStatus = ..ValidateOAuthToken(pRequest.Interaction, .tOAuthSessionId, .tJWTString, .tJWTObj)
			if $$$ISERR(tStatus) quit
			
			
			set patID = ##class(%DynamicAbstractObject).%FromJSON(tJWTString).%Get("patient")
			
			if pRequest.Type="Patient",pRequest.Id'=patID
			{
				do ..ReportHttpStatusCode(..#HTTP401UNAUTHORIZED)	 // try access another patient with same token error 404
			}
			do:patID'="" pRequest.AdditionalInfo.SetAt(patID, "patient")
			
			if pRequest.GetParameterValue("patient")=""
			{
				do:patID'="" pRequest.SetParameter("patient",patID)
			}
			elseif pRequest.GetParameterValue("patient")'=patID
			{
				do ..ReportHttpStatusCode(..#HTTP401UNAUTHORIZED)	// try access another patient with same token error 404
			}
			
			
			do pRequest.AdditionalInfo.SetAt(tOAuthSessionId, "OAuthSessionId")
			do pRequest.AdditionalInfo.SetAt(tJWTString, "JSONWebToken")
		}
		
		// UserIDAndRoles may be based on access token or on CSP basic authentication.
		do ..GetUserIDAndRoles($get(tJWTObj), .tUserID, .tUserRoles)
		if tUserID'="" do pRequest.AdditionalInfo.SetAt(tUserID, "USER:UserID")
		if tUserRoles'="" do pRequest.AdditionalInfo.SetAt(tUserRoles, "USER:Roles")
		
		
		/// *** TC Custom code to validate patient for access token ***
		if $get(%accesstokenstring)'="" {
			set tAccessToken = %accesstokenstring
		} else {
			set tAccessToken = ##class(%SYS.OAuth2.AccessToken).GetAccessTokenFromRequest(.tSC)
		}
		
		if pRequest.Type="Patient" {
			set patID=pRequest.Id
		}else{
			set patID=pRequest.GetParameterValue("patient")
		}
		
		do pRequest.Parameters.RemoveAt("patient")
		do pRequest.SetParameter("patient",$zconvert(patID,"U"))
		
		// Enforce patient id for oauth token except for superuser / code tables / conformance
		// Daisy Tinsley is Health App QA user so also allow passthru
		set passthru=0
		if pInteraction="conformance" set passthru=1
		if (($$$LOWER(tUserID)="superuser") || ($$$LOWER(tUserID)="daisytinsley")) set passthru=1
		if ((pRequest.Type="Medication") || (pRequest.Type="Organization") || (pRequest.Type="Practitioner")) set passthru=1
		
		
		set ^zTRAK("HMF","FHIR","REST","marshallRequest","Response")=$get(tOAuthSessionId)_"^"_$get(tOAuth)_"^"_$get(tUserID)_"^"_$get(patID)_"^"_$get(tAccessToken)
		
		// Copy the HTTP body (if any)
		if $isobject(%request.Content) {
			set tRequestStream = ##class(HS.SDA3.QuickStream).%New()
			set pRequest.QuickStreamId = tRequestStream.%Id()
			// If the request body is XML, strip off the XML prolog, if present.
			// Any encoded characters have already been converted to internal format
			// (by virtue of having CONVERTINPUTSTREAM=1). Having the XML prolog, if it
			// contains "encoding='UTF-8'", will cause XML parsing to error, as it will
			// try to convert the already-converted characters.
			if ($zconvert(pRequest.ContentType,"U") [ "XML") && (%request.Content.Read(5) = "<?xml") {
				while (%request.Content.Read(1) '= ">") { }
				while ('%request.Content.AtEnd) { do tRequestStream.Write(%request.Content.Read()) }
			}
			else {
				// Copy the incoming payload
				set tStatus = tRequestStream.CopyFrom(%request.Content)
				quit:$$$ISERR(tStatus)
			}
		}

	} catch (tUnexpected) {
		set tStatus = tUnexpected.AsStatus()
	}
	
	kill %accesstokenjwtobj
	kill %accesstokenstring
	
	quit tStatus
]]></Implementation>
</Method>

<Method name="OnPreDispatch">
<Description>
OnPreDispatch overrides the same method from %CSP.Request.  If pContinue is set to 0,
the request will NOT be dispatched according to the UrlMap. If this case it's the
responsibility of the user to return a response.</Description>
<ClassMethod>1</ClassMethod>
<FormalSpec><![CDATA[pUrl:%String,pMethod:%String,&pContinue:%Boolean]]></FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	#dim %request as %CSP.Request
	
	set ^zTRAK("HMF","FHIR","REST","OnPreDispatch2")=$zutil(90,21,$namespace)
	
	set pContinue = 1
	try {
		// Hold the FHIR CSP Config data in a % variable or else this class does URLIndexOpen
		// four times for each CSP request.  Subsequent usage of this variable is guaranteed to have a
		// valid object in '%fhircspconfig'
		// If the Config data cannot be found, return a Http 500 indicating that the App has been mis-configured.
		set tApplication = %request.Application
		if $extract(tApplication, *)="/" set tApplication = $extract(tApplication, 1, *-1)
		set %fhircspconfig = ##class(HS.Registry.FHIRCSPConfig).URLIndexOpen(tApplication)
		if '$isobject($get(%fhircspconfig))  {
			$$$ThrowStatus($$$ERROR($$$GeneralError,"FHIR App Configuration Data is Missing for "_tApplication))
		}
		
		if ..ISOAuthRequired()=0  quit
		if %fhircspconfig.ResourceServerOAuthClient="" set %fhircspconfig.ResourceServerOAuthClient="HSRESOURCESERVER"
		
		#; metadata and OPTIONS are two ways of requesting the Conformance statement.
		#; Conformance holds the authorization end point and token end point.
		set tIsConformance = 0
		
		
		if (%request.PageName="smart-configuration")&&(%request.CgiEnvs("REQUEST_METHOD")="GET") set tIsConformance = 1
		if (%request.PageName="metadata")&&(%request.CgiEnvs("REQUEST_METHOD")="GET") set tIsConformance = 1
		if %request.CgiEnvs("REQUEST_METHOD")="OPTIONS" set tIsConformance = 1
		
		
		
		
		// Present but blank Authorization header value will return an error. Aside from that,
		// the absence of an access token will not give an error, and will just come back with
		// tAccessToken="".
		set tAccessToken = ##class(%SYS.OAuth2.AccessToken).GetAccessTokenFromRequest(.tStatus)
		if $$$ISERR(tStatus) {
			set pContinue = 0
			if ..ReportHttpStatusCode(..#HTTP401UNAUTHORIZED)
			quit
		}
		
		set ^zTRAK("HMF","FHIR","REST","tAccessToken")=tAccessToken
		
		// Blank or missing access token is okay with a Conformance interaction, and is
		// not okay if not a Conformance interaction. In either case for blank access
		// token, no need for further processing.
		if tAccessToken="" {
			if 'tIsConformance {
				set pContinue = 0
				if ..ReportHttpStatusCode(..#HTTP401UNAUTHORIZED)
			}
			quit
		}
		
		set tSC = $$$OK
		set tStatus = $$$OK
		set tReturn = ##class(%SYS.OAuth2.Validation).ValidateJWT(%fhircspconfig.ResourceServerOAuthClient, tAccessToken, "", "", .tJWTObj, .tSecurityParams, .tSC)
		set ^zTRAK("HMF","FHIR","REST","ValidateJWT")=tAccessToken_"^"_tReturn_"^"_tSC
		
		if tReturn=0 {
			if ($$$ISERR(tSC))&&((","_$system.Status.GetErrorCodes(tSC)_",")'[",8873,") {
				#; Is not a JWT, try GetIntrospection.
				set tStatus = ##class(%SYS.OAuth2.AccessToken).GetIntrospection(%fhircspconfig.ResourceServerOAuthClient, tAccessToken, .tJWTObj)
				set ^zTRAK("HMF","FHIR","REST","GetIntrospection")=tAccessToken_"^"_tReturn_"^"_tSC
				set ^zTRAK("HMF","FHIR","REST","GetIntrospection_Status")=tStatus
			} else {
				#; Is a JWT, but not valid.
				set tStatus = tSC
				quit
			}
		}

		// If GetIntrospection failed due to an error then return 401 Unauthorized.
		if $$$ISERR(tStatus) {
			set pContinue = 0
			set ^zTRAK("HMF","FHIR","REST","OnPreDispatch","JWTOBJ_ERR")=tStatus
			if ..ReportHttpStatusCode(..#HTTP401UNAUTHORIZED)
			quit
		}
		
		// If GetIntrospection returned a JWT then check the JWT "active" property.
		// If GetIntrospection detects invalid access token then it returns active=false.
		if $isobject($get(tJWTObj)) {
			if (tJWTObj.active'="")&&(tJWTObj.active=0) {
				set pContinue = 0
				if ..ReportHttpStatusCode(..#HTTP401UNAUTHORIZED)
				quit
			} else {
				
				set AudRequiredFlag=..GetOAuthAudRequired()
				set tJWTAud = tJWTObj.aud
				if ((tJWTAud'="") && (AudRequiredFlag)) {
					// Compare the current audience against the aud value(s), if any, in the access
					// token. This compare is trailing-slash-insensitive and case-insensitive.
					set tCurrentAud = ""
					set tCurrentAud = tCurrentAud_$select(%request.Secure:"https://",1:"http://")
					set tCurrentAud = tCurrentAud_%request.CgiEnvs("HTTP_HOST")
					set tCurrentAud = tCurrentAud_%request.Application
					if $extract(tCurrentAud, *)="/" set tCurrentAud = $extract(tCurrentAud, 1, *-1)
					set tCurrentAud = $zconvert(tCurrentAud, "L")
					set tMatched = 0
					if '$isobject(tJWTAud) {
						// Compare single audience from JWT
						if $extract(tJWTAud, *)="/" set tJWTAud = $extract(tJWTAud, 1, *-1)
						set tJWTAud = $zconvert(tJWTAud, "L")
						if tJWTAud=tCurrentAud set tMatched = 1
					} else {
						// Compare multiple audience from JWT
						set tIterator = tJWTAud.%GetIterator()
						while tIterator.%GetNext(.tKey, .tJWTAudN) {
							if $extract(tJWTAudN, *)="/" set tJWTAudN = $extract(tJWTAudN, 1, *-1)
							set tJWTAudN = $zconvert(tJWTAudN, "L")
							if tJWTAudN=tCurrentAud {
								set tMatched = 1
								quit
							}
						}
					}
					
					// *** TC Custom Code to override AUD validation ***
					// set tMatched = 1
					
					if 'tMatched {
						set pContinue = 0
						if ..ReportHttpStatusCode(..#HTTP401UNAUTHORIZED)
						quit
					}
				}
				
				set %accesstokenstring = tAccessToken
				set %accesstokenjwtobj = tJWTObj
			}
		}
		
	} catch ex {
		set ^zTRAK("HMF","FHIR","REST","OnPreDispatch","ErrTrap")=ex
		set pContinue = 0
		do ..Http500(ex)
	}
	
	quit $$$OK
]]></Implementation>
</Method>

<Method name="ValidateOAuthToken">
<ClassMethod>1</ClassMethod>
<FormalSpec><![CDATA[pInteraction:%String,&pOAuthSessionId:%String,&pJWTString:%String,&pJWTObj:%Library.DynamicObject]]></FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	set tSC = $$$OK
	
	set pOAuthSessionId = ""
	set pJWTString = ""
	set pJWTObj = ""
	
	try {
		// The OAuth token processing here is a little redundant to that done in OnPreDispatch.
		// Measures are taken here to minimize the overhead. OnPreDispatch is meant to catch
		// an invalid access token before the UrlMap is even reached. The processing here uses
		// the access token information to formulate a session id in case it is needed, and
		// to populate a field in the FHIR message request so that the JWT is carried forward
		// into the rest of the FHIR processing.
		// Regarding access token validation:
		// 1. Absence of access token in Conformance request is okay.
		// 2. Absence of access token in request that is NOT Conformance is an error.
		// 3. Invalid access token (has value but is invalid), even when in a Conformance request, is an error.
		// 4. Current audience must match one of the token audiences, if the token has any.
		
		// %accesstokenstring and %accesstokenjwtobj are created by OnPreDispatch upon
		// successful validation of the access token. Use those values if present.
		
		if $get(%accesstokenstring)'="" {
			set tAccessToken = %accesstokenstring
		} else {
			// For GetAccessTokenFromRequest, a present but blank Authorization header value will
			// return an error. Aside from that, the absence of an access token will not give an
			// error, it will just come back with tAccessToken="".
			set tAccessToken = ##class(%SYS.OAuth2.AccessToken).GetAccessTokenFromRequest(.tSC)
			if $$$ISERR(tSC) {
				set tSC = $$$ERROR($$$GeneralError, "Error getting access token from request - "_$system.Status.GetErrorText(tSC))
				quit
			}
		}
		
		// Blank or missing access token is okay with a Conformance interaction, and is
		// not okay if not a Conformance interaction.
		if (tAccessToken="") {
			if pInteraction'="conformance" {
				set tSC = $$$ERROR($$$GeneralError, "Access token not found")
			}
			quit
		}
		
		// Formulate a user session id using the access token as a basis.
		set tHash = $system.Encryption.SHA1Hash(tAccessToken)
		set tString = ""
		for i = 1:1:$length(tHash) {
			set tC = $extract(tHash, i)
			set tA = $ascii(tC)
			#; Convert from extended ascii if needed.
			if (tA<32)||(tA>122) set tC = $char(32+(tA#91))
			set tString = tString_tC
		}
		set pOAuthSessionId = tString
		
		if $isobject($get(%accesstokenjwtobj)) {
			set pJWTObj = %accesstokenjwtobj
		} else {
			// Do not pass the current audience into ValidateJWT, we will do
			// our own compare of curent audience to token audience(s).
			set tReturn = ##class(%SYS.OAuth2.Validation).ValidateJWT(tResourceServerClient, tAccessToken, "", "", .pJWTObj, .tSecurityParams, .tSC)
			if tReturn=0 {
				if ($$$ISERR(tSC))&&((","_$system.Status.GetErrorCodes(tSC)_",")[",8873,") {
					// tSC of 8873 is OAuth2JWTNotValid, which is returned when it is a JWT
					// (passes structural integrity and encryption, etc) AND it fails on aud,
					// or exp, or iss, or scope.
					// Is a JWT, but not valid.
					set tSC = $$$ERROR($$$GeneralError, "Invalid access token")
					quit
				} else {
					// Does not appear to be a valid JWT, try GetIntrospection.
					set tSC = ##class(%SYS.OAuth2.AccessToken).GetIntrospection(tResourceServerClient, tAccessToken, .pJWTObj)
					if $$$ISERR(tSC) quit
				}
			}
		}
		
		// Unclear if pJWTObj can be not an object by this point.
		if '$isobject($get(pJWTObj)) {
			set tSC = $$$ERROR($$$GeneralError, "Invalid access token")
			quit
		}
		
		// If the JWT is invalid then GetIntrospection will return a JSON object with
		// a single property 'active' set to false (0).
		if (pJWTObj.active'="")&&(pJWTObj.active=0) {
			set tSC = $$$ERROR($$$GeneralError, "Invalid access token")
			quit
		}
		
		// Compare the current audience against the aud value(s), if any, in the access
		// token. This compare is trailing-slash-insensitive and case-insensitive.
		if '##class(HS.FHIR.Utils).ValidateAudience(pJWTObj) {
			set tSC = $$$ERROR($$$GeneralError, "Invalid audience for access token")
			quit
		}
		
		#; Create a JSON string of selected properties from the JWT object.
		#;
		#; Some pJWTObj properties available are:
		#; active (true/false - will be false if the access token was found to be invalid)
		#; scope (space delimited string of scopes)
		#; sub (username)
		#; iss (token issuer, e.g., https://argonaut.intersystems.com/oauth2)
		#; aud (audience, e.g., https://argonaut.intersystems.com/fhiroauth2)
		#; client_id (client id string)
		#; username (username)
		#; token_type (e.g., bearer)
		#; exp (expire time, expressed as number of seconds since start of the Unix epoch)
		#; iat (authoriztion time, expressed as number of seconds since start of the Unix epoch)
		#; nbf (authorization time, expressed as number of seconds since start of the Unix epoch)
		#;
		#; As part of creating the JSON string, this method creates a new
		#; object and adds properties to it.  We cannot remove properties
		#; from the existing object, because it is a DynamicAbstractObject,
		#; and does not have access to the %Remove() method.
		
		set tJWTProps = "patient,active,scope,client_id,username,token_type,exp,iat,nbf,sub,aud,iss,jti,healthshare_roles,healthshare_username,name"
		
		set tNewJWTObj = ##class(%DynamicAbstractObject).%FromJSON("{}")
		for i = 1:1:$length(tJWTProps,",") {
			set tJWTProp = $piece(tJWTProps,",",i)
			if tJWTProp="" continue
			set tValue = pJWTObj.%Get(tJWTProp)
			if tValue'="" set tNewJWTObj = tNewJWTObj.%Set(tJWTProp, tValue)
		}
		set pJWTString = tNewJWTObj.%ToJSON()
		
	} catch eException {
		set tSC = eException.AsStatus()
	}
	
	quit tSC
]]></Implementation>
</Method>

<Parameter name="SrcVer">
<Description>
This Parameter is updated by Perforce</Description>
<Default>$Id: //trak/main/projects/T2020/XX06_HMF/cls/TC/hmf/FHIR/vDSTU2/REST/Handler.xml#3 $</Default>
</Parameter>
</Class>


<Routine name="TC.hmf.FHIRServer" type="INC" timestamp="65890,56243.519844"><![CDATA[
#define CurrentClass         $classname()
#define CurrentMethod        ##safeexpression(""""_$get(%methodname)_"""")

#define FHIRContentCodeJSON "JSON"
#define FHIRContentCodeXML "XML"
#define FHIRContentCodeForm "Form"
#define FHIRContentCodeXPatch "XPatch"
#define FHIRContentCodeJPatch "JPatch"

/// Debug Flags provided in the DebugMode configuration item
#define FHIRDebugAllowNoAuthCheck	4
#define FHIRDebugNewInstance		2
#define FHIRDebugIncludeTracebacks	1


#define DefaultSessionId "_"

#define FSLogGlobal ^FSLOG
#define FSChanGlobal ^FSLogChannel

#define FSChannelGeneral "Msg"
#define FSChannelSQL "SQL"
#define FSChannelInclude "_include"

#define FSChannelList  $LB($$$FSChannelGeneral, $$$FSChannelSQL, $$$FSChannelInclude)

#define FSLogSQL(%msg) $$$FSDebug($$$FSChannelSQL, %msg)
#define FSLogInclude(%msg) $$$FSDebug($$$FSChannelInclude, %msg)
#define FSLog(%msg) $$$FSDebug($$$FSChannelGeneral, %msg)
#define FSLogIsActive(%chan) ($Get($$$FSChanGlobal("all")) || $Get($$$FSChanGlobal(%chan))) 

#define FSDebug(%chan, %msg) if $$$FSLogIsActive(%chan) { set $$$FSLogGlobal($increment($$$FSLogGlobal))=$$$CurrentMethod_"^"_$$$CurrentClass_"|"_%chan_"|"_%msg }

#define FSLogStream(%msg, %stream) set $$$FSLogGlobal($increment($$$FSLogGlobal))=$$$CurrentMethod_"^"_$$$CurrentClass_"|"_%msg_"; "_$E(##class(HS.Util.StreamUtils).EnsureString(%stream),1,100)
#define FSLogEx(%ex) Do %ex.StackAsArray(.eXiXa) for eXiX=1:1:%ex { Set $$$FSLogGlobal($increment($$$FSLogGlobal))="    :: "_eXiXa(eXiX) }
#define ParseToJSON(%s) ##class(%Library.DynamicAbstractObject).%FromJSON(%s)
#define NewJSONObject ##class(%Library.DynamicObject).%New()
#define NewJSONArray ##class(%Library.DynamicArray).%New()
#define FormatJSON(%json) ##class(HS.FHIRServer.Util.JsonHelper).ToJSONString(%json)
#define FormatJSONToStream(%json,%stream) Do ##class(HS.FHIRServer.Util.JsonHelper).ToJSONStream(%json,%stream)

#def1arg ThrowFHIR(%arglist) $$$ThrowStatus($$$ERROR(%arglist))
#define FHIRAddError(%to, %err) Set %to = $System.Status.AppendStatus(%to, %err)

#define AppKeyFromApp(%app) $Select($E(%app,*)="/":$E(%app,1,*-1), 1:%app)

/// INTERNAL - Build key
#define BuildRsrcKey(%type, %id)  (%type _ "/" _ %id) 
#define BuildRsrcVerKey(%type, %id, %vid)  ($$$BuildRsrcKey(%type,%id) _ "/" _ %vid)
#define CollateSQLUpper(%s) $system.Util.Collation(%s, 7)


#define OutcomeIs(%http, %severity, %code) "|"_%http_"|"_%severity_"|"_%code
#define OutcomeWithPath(%http, %severity, %code, %path) $$$OutcomeIs(%http,%severity,%code)_"|"_%path
#define OutcomeInvalidPath(%path) $$$OutcomeInvalid(400)_"|"_%path
#define HttpIs(%http) "|"_%http
#define OutcomeNotFound     $$$OutcomeIs(404, "error", "not-found")
#define OutcomeNotSupported(%http) $$$OutcomeIs(%http, "error", "not-supported")
#define OutcomeInvalid(%http)      $$$OutcomeIs(%http, "error", "invalid")
#define HttpOnlyResponse(%http) $$$HSFHIRErrHttpOnlyResponse, $$$HttpIs(%http)

/// Macros defining the scope of a FHIR Request
#define ReqScopeInstance "Instance"
#define ReqScopeType "Type"
#define ReqScopeSystem "System"

/// Macros to manipulate the FHIR Session key (which is 2-part)
#define FHIRSessionKey(%app, %id)  $ListBuild(%app, %id)
#define FHIRSessionApp(%key) $ListGet(%key, 1)
#define FHIRSessionId(%key) $ListGet(%key, 2)
#define FHIRSessionString(%key) $Select(%key="":"_", 1:$ListToString(%key, "||"))

/// ------ Macros to access Multidimensional Schema Data (in the Schema object) ------
#define FSMetaGlobal ^HS.FHIRServer.Meta
#define FSMetaVersion(%key)           $$$FSMetaGlobal(%key, "v")
#define FSMetaTypeInfoGlobal(%key)    $$$FSMetaGlobal(%key, "ti")
#define FSMetaSearchParamGlobal(%key) $$$FSMetaGlobal(%key, "sp")
#define FSMetaCompartmentGlobal(%key) $$$FSMetaGlobal(%key, "cp")
#define FSRegexGlobal(%key)           $$$FSMetaGlobal(%key, "rx")

/// Type-level Accessors
///
#define TypeInfoCache(%schema) %schema.propertyTypeCache
#define GetPropertyNameList(%schema, %type) %schema.propertyTypeCache(%type, "*pn")
#define GetSuperclass(%schema, %type) %schema.propertyTypeCache(%type, "*dt")
#define IsDatatypeDefined(%schema, %type) ($Data(%schema.propertyTypeCache(%type)) '= 0)


/// Property-Level Accessors
#define IsPropertyDefined(%schema, %type, %name) ($Data(%schema.propertyTypeCache(%type, %name)) '= 0)
#define GetPropertyJsonType(%schema, %type, %name) $Get(%schema.propertyTypeCache(%type, %name, "jt"))
#define GetPropertyFHIRType(%schema, %type, %name) $Get(%schema.propertyTypeCache(%type, %name, "dt"))
#define GetPropertyFHIRTypeList(%schema, %type, %name) %schema.propertyTypeCache(%type, %name, "dt", "list")
#define GetPropertyTargetList(%schema, %type, %name) %schema.propertyTypeCache(%type, %name, "tl")
#define GetPropertyIndex(%schema, %type, %name) %schema.propertyTypeCache(%type, %name, "ix")
#define GetRegexForType(%schema, %type) $Get(@%schema.regexGlobal@(%type))
#define IsPropertyValueInSet(%schema, %type, %name, %val) ($Get(%schema.propertyTypeCache(%type, %name, "enum", %val)) = 1)
#define NextValueInPropertyValueSet(%schema, %type, %name, %val) $Order(%schema.propertyTypeCache(%type, %name, "enum", %val))
#define NextPropertyNameInType(%schema, %type, %name) $Order(%schema.propertyTypeCache(%type, %name))
#define NextXMLAttrProperty(%schema, %type, %name) $Order(%schema.propertyTypeCache(%type, "*xa", %name))
#define IsPropertyRequired(%schema, %type, %name) ($D(%schema.propertyTypeCache(%type, "*rq", %name)) '= 0)
#define NextRequiredProperty(%schema, %type, %name) $Order(%schema.propertyTypeCache(%type, "*rq", %name))

/// Property Type Booleans
#define IsPropertyArray(%schema, %type, %name) ($Get(%schema.propertyTypeCache(%type, %name, "arr")) = 1)
#define IsPropertyValueSet(%schema, %type, %name) ($Data(%schema.propertyTypeCache(%type, %name, "enum")) >= 10)
#define IsPropertyXMLAttr(%schema, %type, %name) ($D(%schema.propertyTypeCache(%type, "*xa", %name)) '= 0)
#define IsChoiceProperty(%schema, %type, %name) ($$$GetPropertyJsonType(%schema, %type, %name) = "c")
#define IsStringProperty(%schema, %type, %name) ($$$GetPropertyJsonType(%schema, %type, %name) = "s")
#define IsNumberProperty(%schema, %type, %name) ($$$GetPropertyJsonType(%schema, %type, %name) = "n")
#define IsObjectProperty(%schema, %type, %name) ($$$GetPropertyJsonType(%schema, %type, %name) = "o")
#define IsBooleanProperty(%schema, %type, %name) ($$$GetPropertyJsonType(%schema, %type, %name) = "b")
#define IsXMLDivProperty(%schema, %type, %name) ($$$GetPropertyJsonType(%schema, %type, %name) = "x")

/// ------ Macros to access Multidimensional Search Param Data (in the Schema object) ------
#define NextSearchParamName(%schema, %type, %name) Set %name = $Order(%schema.searchParams(%type, %name))
#define NextSearchParam(%schema, %type, %name, %param) Set %name = $Order(%schema.searchParams(%type, %name), 1, %param)

/// ------ Macros to access Multidimensional Compartment Data (in the Schema object) ------
#define NextParamNameInCompartment(%schema, %comp, %type, %name) Set %name = $Order(%schema.compartmentDefs(%comp, %type, %name))
#define IsCompartmentParameter(%schema, %comp, %type, %name)  ($Data(%schema.compartmentDefs(%comp, %type, %name))'=0)
#define IsTypeInCompartment(%schema, %comp, %type)  ($Data(%schema.compartmentDefs(%comp, %type))'=0)
#define IsCompartment(%schema, %comp)  ($Data(%schema.compartmentDefs(%comp))'=0)
#define CompartmentName(%rsrc) $ZConvert(%rsrc, "L")

#def1arg LOGERROR(%param) $$$FSLog(%param)
#def1arg LOGWARNING(%param) $$$FSLog(%param)

/// ----- Macros for Indexes into GetResourceMeta result $LIST
#define IxRsrcObjectKey 1 
#define IxRsrcVersionId 2 
#define IxRsrcIsDeleted 3 
#define IxRsrcIsCurrent 4 
#define IxRsrcLastModified 5
#define IxRsrcVerb 6

#define RsrcMetaObjectKey(%meta)  $ListGet(%meta, $$$IxRsrcObjectKey)
#define RsrcMetaVersionId(%meta) $ListGet(%meta, $$$IxRsrcVersionId)
#define RsrcMetaIsDeleted(%meta) $ListGet(%meta, $$$IxRsrcIsDeleted)
#define RsrcMetaIsCurrent(%meta) $ListGet(%meta, $$$IxRsrcIsCurrent)
#define RsrcMetaLastModified(%meta) $ListGet(%meta, $$$IxRsrcLastModified)
#define RsrcMetaVerb(%meta)      $ListGet(%meta, $$$IxRsrcVerb)


#define HSFHIRErrAPIContractViolation                    "<HSFHIRErr>APIContractViolation"
#define HSFHIRErrAmbiguousReferenceParam                 "<HSFHIRErr>AmbiguousReferenceParam"
#define HSFHIRErrAmbiguousReferenceTarget                "<HSFHIRErr>AmbiguousReferenceTarget"
#define HSFHIRErrBadReferenceModifier                    "<HSFHIRErr>BadReferenceModifier"
#define HSFHIRErrBadValidateMode                         "<HSFHIRErr>BadValidateMode"
#define HSFHIRErrBundleEntryUrlWithoutResource           "<HSFHIRErr>BundleEntryUrlWithoutResource"
#define HSFHIRErrCodeSystemNotAllowed                    "<HSFHIRErr>CodeSystemNotAllowed"
#define HSFHIRErrConditionalCreateNotSupported           "<HSFHIRErr>ConditionalCreateNotSupported"
#define HSFHIRErrConditionalDeleteNotSupported           "<HSFHIRErr>ConditionalDeleteNotSupported"
#define HSFHIRErrConditionalDeleteOfMultipleNotSupported "<HSFHIRErr>ConditionalDeleteOfMultipleNotSupported"
#define HSFHIRErrConditionalDeleteOverflow               "<HSFHIRErr>ConditionalDeleteOverflow"
#define HSFHIRErrConditionalUpdateFoundMultiple          "<HSFHIRErr>ConditionalUpdateFoundMultiple"
#define HSFHIRErrConditionalUpdateNotSupported           "<HSFHIRErr>ConditionalUpdateNotSupported"
#define HSFHIRErrConflictingReferenceParam               "<HSFHIRErr>ConflictingReferenceParam"
#define HSFHIRErrContentTypeNotSupported                 "<HSFHIRErr>ContentTypeNotSupported"
#define HSFHIRErrCrossResourceSort                       "<HSFHIRErr>CrossResourceSort"
#define HSFHIRErrDataLoaderObjectNotCreated              "<HSFHIRErr>DataLoaderObjectNotCreated"
#define HSFHIRErrDirectoryNotFound                       "<HSFHIRErr>DirectoryNotFound"
#define HSFHIRErrDirectoryNotSpecified                   "<HSFHIRErr>DirectoryNotSpecified"
#define HSFHIRErrDuplicateBundleEntryUrl                 "<HSFHIRErr>DuplicateBundleEntryUrl"
#define HSFHIRErrDuplicateSortKey                        "<HSFHIRErr>DuplicateSortKey"
#define HSFHIRErrDuplicateValue                          "<HSFHIRErr>DuplicateValue"
#define HSFHIRErrEmptyStreamSpecified                    "<HSFHIRErr>EmptyStreamSpecified"
#define HSFHIRErrEmptyStringOrStreamSpecified            "<HSFHIRErr>EmptyStringOrStreamSpecified"
#define HSFHIRErrEmptyValue                              "<HSFHIRErr>EmptyValue"
#define HSFHIRErrEnsembleTimeout                         "<HSFHIRErr>EnsembleTimeout"
#define HSFHIRErrExtensionUnmatched                      "<HSFHIRErr>ExtensionUnmatched"
#define HSFHIRErrFHIRRequestFailed                       "<HSFHIRErr>FHIRRequestFailed"
#define HSFHIRErrHttpOnlyResponse                        "<HSFHIRErr>HttpOnlyResponse"
#define HSFHIRErrIfMatchDoesNotMatchResource             "<HSFHIRErr>IfMatchDoesNotMatchResource"
#define HSFHIRErrIfMatchViolation                        "<HSFHIRErr>IfMatchViolation"
#define HSFHIRErrIfNoneExistsFoundMultiple               "<HSFHIRErr>IfNoneExistsFoundMultiple"
#define HSFHIRErrInteractionNotSupported                 "<HSFHIRErr>InteractionNotSupported"
#define HSFHIRErrInteractionsNotSupported                "<HSFHIRErr>InteractionsNotSupported"
#define HSFHIRErrInvalidAcceptCharset                    "<HSFHIRErr>InvalidAcceptCharset"
#define HSFHIRErrInvalidAcceptSpec                       "<HSFHIRErr>InvalidAcceptSpec"
#define HSFHIRErrInvalidBundleEntryProperty              "<HSFHIRErr>InvalidBundleEntryProperty"
#define HSFHIRErrInvalidBundleEntryPropertyValue         "<HSFHIRErr>InvalidBundleEntryPropertyValue"
#define HSFHIRErrInvalidBundleEntryResource              "<HSFHIRErr>InvalidBundleEntryResource"
#define HSFHIRErrInvalidBundleEntryUrl                   "<HSFHIRErr>InvalidBundleEntryUrl"
#define HSFHIRErrInvalidBundleIdentifier                 "<HSFHIRErr>InvalidBundleIdentifier"
#define HSFHIRErrInvalidBundleTotal                      "<HSFHIRErr>InvalidBundleTotal"
#define HSFHIRErrInvalidBundleTypeForTransaction         "<HSFHIRErr>InvalidBundleTypeForTransaction"
#define HSFHIRErrInvalidChainLink                        "<HSFHIRErr>InvalidChainLink"
#define HSFHIRErrInvalidConditionalDelete                "<HSFHIRErr>InvalidConditionalDelete"
#define HSFHIRErrInvalidConditionalUpdate                "<HSFHIRErr>InvalidConditionalUpdate"
#define HSFHIRErrInvalidContentCharset                   "<HSFHIRErr>InvalidContentCharset"
#define HSFHIRErrInvalidContentCode                      "<HSFHIRErr>InvalidContentCode"
#define HSFHIRErrInvalidContentType                      "<HSFHIRErr>InvalidContentType"
#define HSFHIRErrInvalidDelete                           "<HSFHIRErr>InvalidDelete"
#define HSFHIRErrInvalidExtensionArraySize               "<HSFHIRErr>InvalidExtensionArraySize"
#define HSFHIRErrInvalidExtensionCardinality             "<HSFHIRErr>InvalidExtensionCardinality"
#define HSFHIRErrInvalidFHIRServiceSpecified             "<HSFHIRErr>InvalidFHIRServiceSpecified"
#define HSFHIRErrInvalidFileLimitSpecified               "<HSFHIRErr>InvalidFileLimitSpecified"
#define HSFHIRErrInvalidGlobalNameSpecified              "<HSFHIRErr>InvalidGlobalNameSpecified"
#define HSFHIRErrInvalidHTTPServiceSpecified             "<HSFHIRErr>InvalidHTTPServiceSpecified"
#define HSFHIRErrInvalidId                               "<HSFHIRErr>InvalidId"
#define HSFHIRErrInvalidIfMatch                          "<HSFHIRErr>InvalidIfMatch"
#define HSFHIRErrInvalidIfNoneExist                      "<HSFHIRErr>InvalidIfNoneExist"
#define HSFHIRErrInvalidIncludeBaseType                  "<HSFHIRErr>InvalidIncludeBaseType"
#define HSFHIRErrInvalidIncludeReference                 "<HSFHIRErr>InvalidIncludeReference"
#define HSFHIRErrInvalidJsonContent                      "<HSFHIRErr>InvalidJsonContent"
#define HSFHIRErrInvalidNamespace                        "<HSFHIRErr>InvalidNamespace"
#define HSFHIRErrInvalidNumber                           "<HSFHIRErr>InvalidNumber"
#define HSFHIRErrInvalidOperationName                    "<HSFHIRErr>InvalidOperationName"
#define HSFHIRErrInvalidParameterModifier                "<HSFHIRErr>InvalidParameterModifier"
#define HSFHIRErrInvalidParameterValue                   "<HSFHIRErr>InvalidParameterValue"
#define HSFHIRErrInvalidPrefixValue                      "<HSFHIRErr>InvalidPrefixValue"
#define HSFHIRErrInvalidQueryParameter                   "<HSFHIRErr>InvalidQueryParameter"
#define HSFHIRErrInvalidQueryParameterValue              "<HSFHIRErr>InvalidQueryParameterValue"
#define HSFHIRErrInvalidReferenceTarget                  "<HSFHIRErr>InvalidReferenceTarget"
#define HSFHIRErrInvalidReferenceType                    "<HSFHIRErr>InvalidReferenceType"
#define HSFHIRErrInvalidReferencedType                   "<HSFHIRErr>InvalidReferencedType"
#define HSFHIRErrInvalidRevIncludeBaseType               "<HSFHIRErr>InvalidRevIncludeBaseType"
#define HSFHIRErrInvalidRevIncludeReference              "<HSFHIRErr>InvalidRevIncludeReference"
#define HSFHIRErrInvalidRevIncludeTargetType             "<HSFHIRErr>InvalidRevIncludeTargetType"
#define HSFHIRErrInvalidServiceCredentials               "<HSFHIRErr>InvalidServiceCredentials"
#define HSFHIRErrInvalidServiceTypeSpecified             "<HSFHIRErr>InvalidServiceTypeSpecified"
#define HSFHIRErrInvalidSortKey                          "<HSFHIRErr>InvalidSortKey"
#define HSFHIRErrInvalidUpdate                           "<HSFHIRErr>InvalidUpdate"
#define HSFHIRErrInvalidUpdateId                         "<HSFHIRErr>InvalidUpdateId"
#define HSFHIRErrMalformedRelativeReference              "<HSFHIRErr>MalformedRelativeReference"
#define HSFHIRErrMalformedValue                          "<HSFHIRErr>MalformedValue"
#define HSFHIRErrMetadataNotConfigured                   "<HSFHIRErr>MetadataNotConfigured"
#define HSFHIRErrMissingBundleEntryProperty              "<HSFHIRErr>MissingBundleEntryProperty"
#define HSFHIRErrMissingBundleEntryResource              "<HSFHIRErr>MissingBundleEntryResource"
#define HSFHIRErrMissingBundleEntryUrl                   "<HSFHIRErr>MissingBundleEntryUrl"
#define HSFHIRErrMissingBundleTotal                      "<HSFHIRErr>MissingBundleTotal"
#define HSFHIRErrMissingOrInvalidBundleType              "<HSFHIRErr>MissingOrInvalidBundleType"
#define HSFHIRErrMissingPatientId                        "<HSFHIRErr>MissingPatientId"
#define HSFHIRErrMissingReferencedType                   "<HSFHIRErr>MissingReferencedType"
#define HSFHIRErrMissingRequiredProperty                 "<HSFHIRErr>MissingRequiredProperty"
#define HSFHIRErrModifierInvalidForURN                   "<HSFHIRErr>ModifierInvalidForURN"
#define HSFHIRErrMultipleParameters                      "<HSFHIRErr>MultipleParameters"
#define HSFHIRErrNoCreateUpdate                          "<HSFHIRErr>NoCreateUpdate"
#define HSFHIRErrNoFilesFound                            "<HSFHIRErr>NoFilesFound"
#define HSFHIRErrNotAnArray                              "<HSFHIRErr>NotAnArray"
#define HSFHIRErrNotAnObject                             "<HSFHIRErr>NotAnObject"
#define HSFHIRErrNotCurrentResource                      "<HSFHIRErr>NotCurrentResource"
#define HSFHIRErrNotInCompartment                        "<HSFHIRErr>NotInCompartment"
#define HSFHIRErrOperationNotSupported                   "<HSFHIRErr>OperationNotSupported"
#define HSFHIRErrOperationPayloadMissing                 "<HSFHIRErr>OperationPayloadMissing"
#define HSFHIRErrParameterNotSupported                   "<HSFHIRErr>ParameterNotSupported"
#define HSFHIRErrParameterTypeNotSupported               "<HSFHIRErr>ParameterTypeNotSupported"
#define HSFHIRErrPayloadDoesNotMatchResource             "<HSFHIRErr>PayloadDoesNotMatchResource"
#define HSFHIRErrPayloadIdMismatch                       "<HSFHIRErr>PayloadIdMismatch"
#define HSFHIRErrPayloadMissing                          "<HSFHIRErr>PayloadMissing"
#define HSFHIRErrPayloadTypeMismatch                     "<HSFHIRErr>PayloadTypeMismatch"
#define HSFHIRErrPrefixValueNotSupported                 "<HSFHIRErr>PrefixValueNotSupported"
#define HSFHIRErrProfileValidationNotSupported           "<HSFHIRErr>ProfileValidationNotSupported"
#define HSFHIRErrResourceIdFound                         "<HSFHIRErr>ResourceIdFound"
#define HSFHIRErrResourceNotAllowed                      "<HSFHIRErr>ResourceNotAllowed"
#define HSFHIRErrResourceNotFound                        "<HSFHIRErr>ResourceNotFound"
#define HSFHIRErrResourceNotInRepo                       "<HSFHIRErr>ResourceNotInRepo"
#define HSFHIRErrResourceNotSupported                    "<HSFHIRErr>ResourceNotSupported"
#define HSFHIRErrResourceTypeUnknown                     "<HSFHIRErr>ResourceTypeUnknown"
#define HSFHIRErrResourceVersionNotFound                 "<HSFHIRErr>ResourceVersionNotFound"
#define HSFHIRErrResourceWasDeleted                      "<HSFHIRErr>ResourceWasDeleted"
#define HSFHIRErrSearchTooCostly                         "<HSFHIRErr>SearchTooCostly"
#define HSFHIRErrServiceDisabled                         "<HSFHIRErr>ServiceDisabled"
#define HSFHIRErrServiceNameNotSpecified                 "<HSFHIRErr>ServiceNameNotSpecified"
#define HSFHIRErrServiceNotConfigured                    "<HSFHIRErr>ServiceNotConfigured"
#define HSFHIRErrServiceTypeNotSpecified                 "<HSFHIRErr>ServiceTypeNotSpecified"
#define HSFHIRErrSingleResourceRequired                  "<HSFHIRErr>SingleResourceRequired"
#define HSFHIRErrStreamRequired                          "<HSFHIRErr>StreamRequired"
#define HSFHIRErrStringOrStreamRequired                  "<HSFHIRErr>StringOrStreamRequired"
#define HSFHIRErrSystemInteractionNotSupported           "<HSFHIRErr>SystemInteractionNotSupported"
#define HSFHIRErrTooManySortKeys                         "<HSFHIRErr>TooManySortKeys"
#define HSFHIRErrUnexpectedArray                         "<HSFHIRErr>UnexpectedArray"
#define HSFHIRErrUnexpectedExtension                     "<HSFHIRErr>UnexpectedExtension"
#define HSFHIRErrUnexpectedObject                        "<HSFHIRErr>UnexpectedObject"
#define HSFHIRErrUnexpectedPropertyName                  "<HSFHIRErr>UnexpectedPropertyName"
#define HSFHIRErrUnimplementedIndexer                    "<HSFHIRErr>UnimplementedIndexer"
#define HSFHIRErrUnknownCompartment                      "<HSFHIRErr>UnknownCompartment"
#define HSFHIRErrUnknownSearchParameterType              "<HSFHIRErr>UnknownSearchParameterType"
#define HSFHIRErrUnresolvedBundlePlaceholder             "<HSFHIRErr>UnresolvedBundlePlaceholder"
#define HSFHIRErrUnsupportedModifier                     "<HSFHIRErr>UnsupportedModifier"
#define HSFHIRErrUnsupportedParameter                    "<HSFHIRErr>UnsupportedParameter"
#define HSFHIRErrUnsupportedParameterModifier            "<HSFHIRErr>UnsupportedParameterModifier"
#define HSFHIRErrUnsupportedSortKey                      "<HSFHIRErr>UnsupportedSortKey"
#define HSFHIRErrUnsupportedTypeForEverything            "<HSFHIRErr>UnsupportedTypeForEverything"
#define HSFHIRErrValidationFailure                       "<HSFHIRErr>ValidationFailure"
#define HSFHIRErrValueNotInEnumeration                   "<HSFHIRErr>ValueNotInEnumeration"
#define HSFHIRErrWrongJsonType                           "<HSFHIRErr>WrongJsonType"
#define HSFHIRErrWrongReadPostProcessorVersion           "<HSFHIRErr>WrongReadPostProcessorVersion"
#define HSFHIRErrWrongSearchPostProcessorVersion         "<HSFHIRErr>WrongSearchPostProcessorVersion"
#define HSFHIRErrWrongSessionHandlerVersion              "<HSFHIRErr>WrongSessionHandlerVersion"
]]></Routine>




<Class name="TCITK.Config.HMF">
<Super>%Persistent</Super>
<TimeChanged>66014,18229.82979</TimeChanged>
<TimeCreated>66009,13484.077257</TimeCreated>

<Property name="Server">
<Type>%String</Type>
<Parameter name="MAXLEN"/>
</Property>

<Property name="Port">
<Type>%String</Type>
<Parameter name="MAXLEN"/>
</Property>

<Property name="Location">
<Type>%String</Type>
<Parameter name="MAXLEN"/>
</Property>

<Property name="UserName">
<Type>%String</Type>
<Parameter name="MAXLEN"/>
</Property>

<Property name="Password">
<Type>%String</Type>
<Parameter name="MAXLEN"/>
</Property>

<Property name="HTTPS">
<Type>%Integer</Type>
</Property>

<Storage name="Default">
<Type>%Storage.Persistent</Type>
<DataLocation>^TCITK.Config.HMFD</DataLocation>
<DefaultData>HMFDefaultData</DefaultData>
<IdLocation>^TCITK.Config.HMFD</IdLocation>
<IndexLocation>^TCITK.Config.HMFI</IndexLocation>
<StreamLocation>^TCITK.Config.HMFS</StreamLocation>
<Data name="HMFDefaultData">
<Value name="1">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="2">
<Value>Server</Value>
</Value>
<Value name="3">
<Value>Port</Value>
</Value>
<Value name="4">
<Value>Location</Value>
</Value>
<Value name="5">
<Value>UserName</Value>
</Value>
<Value name="6">
<Value>Password</Value>
</Value>
<Value name="7">
<Value>HTTPS</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="TCITK.Config.SmartOnFHIRApp">
<Super>%Persistent</Super>
<TimeChanged>66014,46960.87925</TimeChanged>
<TimeCreated>66014,31761.936445</TimeCreated>

<Property name="ClientID">
<Type>%String</Type>
<Parameter name="MAXLEN"/>
</Property>

<Index name="idxClientID">
<IdKey>1</IdKey>
<PrimaryKey>1</PrimaryKey>
<Properties>ClientID</Properties>
<Unique>1</Unique>
</Index>

<Property name="Name">
<Type>%String</Type>
<Parameter name="MAXLEN"/>
</Property>

<Property name="Description">
<Type>%String</Type>
<Parameter name="MAXLEN"/>
</Property>

<Property name="RedirectURL">
<Type>%String</Type>
<Parameter name="MAXLEN"/>
</Property>

<Property name="LaunchURL">
<Type>%String</Type>
<Parameter name="MAXLEN"/>
</Property>

<Query name="ConfigQuery">
<Type>%SQLQuery</Type>
<SqlQuery>SELECT %ID ID,ClientID,Name,Description,LaunchURL,RedirectURL FROM TCITK_Config.SmartOnFHIRApp</SqlQuery>
<Parameter name="CONTAINID" value="1"/>
</Query>

<Storage name="Default">
<Type>%Storage.Persistent</Type>
<DataLocation>^TCITK.Config.SmartOnFHIRAppD</DataLocation>
<DefaultData>SmartOnFHIRAppDefaultData</DefaultData>
<IdLocation>^TCITK.Config.SmartOnFHIRAppD</IdLocation>
<IndexLocation>^TCITK.Config.SmartOnFHIRAppI</IndexLocation>
<StreamLocation>^TCITK.Config.SmartOnFHIRAppS</StreamLocation>
<Data name="SmartOnFHIRAppDefaultData">
<Value name="1">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="2">
<Value>Name</Value>
</Value>
<Value name="3">
<Value>Description</Value>
</Value>
<Value name="4">
<Value>RedirectURL</Value>
</Value>
<Value name="5">
<Value>LaunchURL</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="TCITK.Config.System">
<Super>%Persistent</Super>
<TimeChanged>66009,13506.693692</TimeChanged>
<TimeCreated>66009,13484.077257</TimeCreated>

<Property name="NetworkHostName">
<Type>%String</Type>
<Parameter name="MAXLEN"/>
</Property>

<Storage name="Default">
<Type>%Storage.Persistent</Type>
<DataLocation>^TCITK.Config.SystemD</DataLocation>
<DefaultData>SystemDefaultData</DefaultData>
<IdLocation>^TCITK.Config.SystemD</IdLocation>
<IndexLocation>^TCITK.Config.SystemI</IndexLocation>
<StreamLocation>^TCITK.Config.SystemS</StreamLocation>
<Data name="SystemDefaultData">
<Value name="1">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="2">
<Value>NetworkHostName</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="TCITK.Config.TCAPI">
<Super>%Persistent</Super>
<TimeChanged>66014,20206.524779</TimeChanged>
<TimeCreated>66009,13484.077257</TimeCreated>

<Property name="UserName">
<Type>%String</Type>
<Parameter name="MAXLEN"/>
</Property>

<Property name="Password">
<Type>%String</Type>
<Parameter name="MAXLEN"/>
</Property>

<Storage name="Default">
<Type>%Storage.Persistent</Type>
<DataLocation>^TCITK.Config.TCAPID</DataLocation>
<DefaultData>TCAPIDefaultData</DefaultData>
<IdLocation>^TCITK.Config.TCAPID</IdLocation>
<IndexLocation>^TCITK.Config.TCAPII</IndexLocation>
<StreamLocation>^TCITK.Config.TCAPIS</StreamLocation>
<Data name="TCAPIDefaultData">
<Structure>listnode</Structure>
<Subscript/>
<Value name="1">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="2">
<Value>UserName</Value>
</Value>
<Value name="3">
<Value>Password</Value>
</Value>
</Data>
</Storage>
</Class>




<Project name="TCITK" LastModified="2021-10-13 19:02:08.0436518">
  <Items>
    <ProjectItem name="Local.FromSDALabTestItemCode.LUT" type="LUT"></ProjectItem>
    <ProjectItem name="Local.FromSDAObservationCode.LUT" type="LUT"></ProjectItem>
    <ProjectItem name="Local.FromSDAObservationCodeUOM.LUT" type="LUT"></ProjectItem>
    <ProjectItem name="TC" type="PKG"></ProjectItem>
    <ProjectItem name="TC.hmf" type="PKG"></ProjectItem>
    <ProjectItem name="TC.hmf.FHIRServer.INC" type="MAC"></ProjectItem>
    <ProjectItem name="TCITK" type="PKG"></ProjectItem>
    <ProjectItem name="TrakCare.WebServices.SYSAPI" type="PKG"></ProjectItem>
  </Items>
</Project>


<Class name="TCITK.UI.APIQuery">
<Super>%RegisteredObject</Super>
<TimeChanged>66027,32612.475629</TimeChanged>
<TimeCreated>66021,17458.570176</TimeCreated>

<Query name="InpatientListQuery">
<Type>%Query</Type>
<FormalSpec>endpoint="trakr4",maxcount=100,traceid</FormalSpec>
<SqlProc>1</SqlProc>
<Parameter name="ROWSPEC" value="MRN,GivenName,MiddleName,FamilyName,Gender,DateOfBirth"/>
</Query>

<Method name="InpatientListQueryExecute">
<ClassMethod>1</ClassMethod>
<FormalSpec><![CDATA[&qHandle:%Binary,endpoint="",maxcount=100,traceid=""]]></FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	 
	
    	set repid=$increment(^CacheTemp("TRAK"))
    	set ind=1, END = 0, END1 = 0
    	
    	
    	if endpoint'=""
    	{
	    	
	    	set namespace=##class(TCITK.Utils).GetEndpointNamespace(endpoint)  
	    	
    		set currentNS = $Namespace
		set $Namespace = namespace
		set sc=##class(Ens.Director).CreateBusinessService("TCAPI.Service",.tAPIService)
		set tRequest=##class(TrakCare.WebServices.SYSAPI.Production.Request.PAPersonListExecuteQueryRequest).%New()
		set tRequest.params.MAXCOUNT=maxcount
		set tRequest.params.hiddenFlag="On^^^^^^^^On" // inpatient only
		#Dim tResponse as TrakCare.WebServices.SYSAPI.Production.Response.PAPersonListExecuteQueryResponse
		set sc=tAPIService.SendAPI(tRequest,.tResponse)
		
	
		
		
		
		
		
		if traceid'=""
		{
			set tRequestID=tRequest.%Id()
 			set tRequestClass=tRequest.%ClassName()
 			set SessionId=""
			&sql(Select %nolock ID Into :SessionId From Ens.MessageHeader where  MessageBodyId = :tRequestID and SourceConfigName='TCAPI.Service')
			set tURL="/csp/healthshare/"_namespace_"/EnsPortal.VisualTrace.zen?SESSIONID="_SessionId
			
			set $Namespace = currentNS
			
			set ^zTrace(traceid,"sessionurl")=	tURL
			set ^zTrace(traceid,"tRequestID")=	tRequestID
		}
		else
		{
			set $Namespace = currentNS	
		}
		
		if (sc=$$$OK)
		{
			set count=tResponse.PAPersonListExecuteQueryResult.Count()
			FOR index=1:1:count {
    				set MRN=tResponse.PAPersonListExecuteQueryResult.GetAt(index).RegistrationNo
    				set GivenName=tResponse.PAPersonListExecuteQueryResult.GetAt(index).Name2
    				set MiddleName=tResponse.PAPersonListExecuteQueryResult.GetAt(index).Name3
    				set FamilyName=tResponse.PAPersonListExecuteQueryResult.GetAt(index).Name
    				set Gender=tResponse.PAPersonListExecuteQueryResult.GetAt(index).Sex
    				set DateOfBirth=$zdate(tResponse.PAPersonListExecuteQueryResult.GetAt(index).Dob,3)
    			 
    			
    			
				set ^CacheTemp("TRAK",repid,ind)=$lb(MRN,GivenName,MiddleName,FamilyName,Gender,DateOfBirth)
 				set ind=ind+1		
    	
			}
		}
    	}

 
    set qHandle=$listbuild(0,repid,0)
    QUIT $$$OK
]]></Implementation>
</Method>

<Method name="InpatientListQueryFetch">
<ClassMethod>1</ClassMethod>
<FormalSpec><![CDATA[&qHandle:%Binary,&Row:%List,&AtEnd:%Integer=0]]></FormalSpec>
<PlaceAfter>InpatientListQueryExecute</PlaceAfter>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
     // This fetch method should never have to change.
	// Restore QHandle
	set AtEnd=$list(qHandle,1)
	set repid=$list(qHandle,2)
	set ind=$list(qHandle,3)
	set ind=$order(^CacheTemp("TRAK",repid,ind))
	if ind="" {	// if there are no more rows, finish fetching
		set AtEnd=1
		set Row=""
	}  else  {	// fetch row
		set Row=^CacheTemp("TRAK",repid,ind)
	}
	// Save QHandle
	set qHandle=$listbuild(AtEnd,repid,ind)
        QUIT $$$OK
]]></Implementation>
</Method>

<Method name="InpatientListQueryClose">
<ClassMethod>1</ClassMethod>
<FormalSpec><![CDATA[&qHandle:%Binary]]></FormalSpec>
<PlaceAfter>InpatientListQueryExecute</PlaceAfter>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
        KILL qHandle   //probably not necesary as killed by the SQL Call framework
        QUIT $$$OK
]]></Implementation>
</Method>
</Class>


<Class name="TCITK.UI.Application">
<Description>
This is the base class for HealthShare UI. Used by Forms and Installer under UI.</Description>
<IncludeCode>HS.HC,%ZHSLIB,HS.HC.UI.Home</IncludeCode>
<Super>%ZEN.Portal.Application</Super>
<TimeChanged>66031,43428.7616495</TimeChanged>
<TimeCreated>65468,76496.395738</TimeCreated>

<Parameter name="APPLICATIONNAME">
<Description>
This is the name of this application.</Description>
<Default>HealthShare UI</Default>
</Parameter>

<Parameter name="HOMEPAGE">
<Description>
URL of home page (used in links).</Description>
<Default>/csp/sys/%25CSP.Portal.Home.zen</Default>
</Parameter>

<Parameter name="DOMAIN">
<Description>
Domain used for localization.</Description>
<Default>HS</Default>
</Parameter>

<XData name="Style">
<Description>
This Style block contains application-wide CSS style definitions.</Description>
<Data><![CDATA[
<style type="text/css">
/*reskin
body {
	font-family: verdana,Tahoma;
}
.portalTitleMenuBox {
	left: 10px;
}

.portalTitleInfoBox {
	position: absolute;
	bottom: 0px;
	left: 500px;
}

.portalTitleLink {
	  font-family: tahoma,arial,verdana;
}
*/
.HSportalTitleLink {
	color: #3b84bc;
	text-decoration: none;
	font-size: 9pt;
	white-space:nowrap;
}
/*
a.link {
	color: blue;
	font-family: tahoma,arial,verdana;
	font-size: 12px;
	text-decoration: none;
}
a.link:visited {
	color: red;
	text-decoration: none;
}
a.link:hover {
	color: #D36D00;
}
a.link:active {
	color: red;
}
*/
.caption {
	color: #3D2423;
	font-size: 12px;
	font-weight: bold;
	padding-right: 5px;
}

.lblNormal {
	color: black;
	font-size: 12px;
	font-weight: normal;
	padding-right: 5px;
}
.zenLabelDisabled
{
	color: gray;
	font-size: 12px;
	font-weight: normal;
	padding-right: 5px;	
}
.text {
	border: 1px solid #77A8D0;
}

.textarea {
	border: 1px solid #77A8D0;
}

.select {
	border: 1px solid #77A8D0;
}

.comboboxInput {
	border-right: 1px solid #77A8D0;
	border-top: 1px solid #77A8D0;
	border-bottom: 1px solid #77A8D0;
}

.comboboxImgButton {
	border: 1px solid #77A8D0;
}

.HSCenterBox {
	color: darkblue;
	background: #D3E1EE;
	border: 1px solid #D3E1EE;
	height: 280px;
	font-size: 1.0em;
	margin:5px;
	padding: 10px;
	width: 400px;	
}
table.HSTitle {
	color: #3D2423;
	background: #77A8D0;
	border-bottom: 1px solid #7D7D7D;
	font-size: 18pt;
	font-weight: normal;	
	margin: 0px;
	padding: 0px;
	width: 100%;
}


/* status div in PatientSearch page */
.searchStatus {
	border: solid #AC7070 1px;
	background: #FF9900;
	font-size: 0.75em;
	padding: 2px;
}

.searchStatusLabel {
	padding-top: 10px;
	font-size: 0.75em;
}
.ltlabel {
	font-size: 0.8em;
	color: #333333;
	text-align: left;
}
a.midnav1, a.midnavC:visited { padding:7px 0 3px 10px; margin:0 0 0 0; text-transform:uppercase; letter-spacing:2px; font-size:11px; font-weight:bold; text-decoration:none; display:block;background:#CCCCCC; color:#666666; text-align:left; vertical-align:middle;}
a.midnav1:hover{ background:#FF9933; text-decoration:none; color:#FFFFFF;}
a.midnav2, a.midnavR:visited { padding:7px 0 3px 10px; margin:0 0 0 0; text-transform:uppercase; font-size:11px; letter-spacing:2px; font-weight:bold; text-decoration:none; display:block;background:#CCCCCC; color:#666666; text-align:left; vertical-align:middle;}
a.midnav2:hover{ background:#99CC33; text-decoration:none;  color:#FFFFFF;}
a.midnav3,a.midnavD:visited{ padding:7px 0 3px 10px; margin:0 0 0 0; text-transform:uppercase; font-size:11px; letter-spacing:2px; font-weight:bold; text-decoration:none; display:block;background:#CCCCCC; color:#666666; text-align:left;  vertical-align:middle;}
a.midnav3:hover{ background:#99CCFF; text-decoration:none; color:#FFFFFF;}

.expandoNode {
	width: 700;
	padding: 4px; 
	padding-bottom: 6px;
	font-size: 12px;
	font-weight: bold;
	background: url(images/expando_header.gif) repeat-x left bottom;
}
.expandoNode a {
	color: #FFFFFF;
	border: none;
	font-size: 12px;
	text-decoration: none;
}
.expandoNode a:hover {
	color: #FF9933;
	border: none;
	font-size: 12px;
	text-decoration: none;
}

.headerlink {
	background: transparent;
	border:none;
	font-size: 12px;	
}

.zenLabel,.radioSetSpan {
	color: #3D2423;
	font-size: 12px;
	font-weight: bold;
	padding-left: 5px;
	padding-right: 5px;
}
.radioSetSpan {
	font-weight: normal;
}
a.radioButtonCaption {
font-size: 0.9em;	
}
/* Customized table styles */
table.tpTable {
	background: white;
	border: 1px solid black;
	width: 100%;
	font-size: 0.9em;
	
}

/* column header (th) */
table.tpTable th {
	border-right: 1px solid gray;
	border-bottom: 1px solid gray;
	background: #E1C07D;
	color: black;
	font-weight: bold;
	text-align: left;
	padding: 2px;
}

/* selected column header (th) */
table.tpTable th.tpHdrSelected {
	background: #00A0EE;
}

table.tpTable td {
	border-right: 1px solid gray;
	border-bottom: 1px solid gray;
	padding: 2px;
}

table.tpTable tr.tpSelected td {
	border-top: 1px solid black;
	border-bottom: 2px solid black;
	padding-top: 1px;
	padding-bottom: 1px;
}

/* this is a normal, unselected row */
table.tpTable tr {
	color: black;
	white-space: nowrap;
	font-size: 0.9em;
}

/* this is a selected row */
table.tpTable tr.tpSelected {
	background: #FFFF80;
	color: black;
}
/* style for odd-rows when using zebra styling */
.tpOdd {
}

/* style for even-rows when using zebra styling */
.tpEven {
	background: #E6E4D8;
}
.warningBox {
	border: solid #AC7070 1px;
	background: #FF9900;
	font-size: 0.75em;
	padding: 2px;
	width: 520px;
	display: block;
}
#formGroup {
	border: 1px solid black;
	padding: 4px;
	background: #C0C0C0;
	background-image: url(images/grad-halfgray-10x500.png);
	background-repeat: repeat-x;
}

</style>
]]></Data>
</XData>

<Method name="DrawTitle">
<Description>
If pSeed is null, then no title and help link will be shown</Description>
<FormalSpec>pTitle:%String,pShowLogout:%Boolean=1,pShowInfo:%Boolean=1,pShowAccount:%Boolean=1,pShowHSHelp:%Boolean=1</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[	Quit ..DrawHSTitle(pTitle,"",1, pShowInfo,pShowAccount,1,pShowHSHelp)
]]></Implementation>
</Method>

<Method name="DrawStandardTitle">
<Description>
prepare necessary arrays for calling SMP's standard header method</Description>
<FormalSpec>pTitle,pSourcePage:%String="",pManageEnsemble:%Boolean=0,pShowInfo:%Boolean=1,pShowAccount:%Boolean=1,pShowSmallMenu:%Boolean=1</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	// Setup product logo for HealthShare	
	Set tProduct = "HealthShare"	
	If $$$EnsMajorVersion_$$$EnsMinorVersion < 20172 {
		Set tProductLogo = "portal/" _ tProduct _ "_Logo.png"
	}
	Else {
		Set tProductLogo = "portal/InterSystems IRIS.png"
		If ##class(%ZHSLIB.HealthShareMgr).InstanceType() '= $$$HSisIRISforHealth {
			Set tProductLogo = "portal/HealthShareLogo210x50.png"
		}
	}
	Set tServerName = $$$HSNetworkHostName
	#if $$$HSDebug
		Set tServerName = tServerName_":"_%session.SessionId
	#endif	

	If pShowSmallMenu {
		Do ..%OnGetSmallMenu(pSourcePage,pManageEnsemble,.tSmallMenu)
	}
	Set tSC = ..%DrawTitleHTML(tProduct_"^"_tProductLogo_"^"_tServerName,pTitle,.tSmallMenu,.tLocatorMenu)
	
	Set tLink=%request.URL
	&html<<label id="idHSLogout" style="display: none;">#(tLink)#</label>>
	Quit $$$OK
]]></Implementation>
</Method>

<Method name="CanShowSwitch">
<ClassMethod>1</ClassMethod>
<FormalSpec>PageName</FormalSpec>
<ReturnType>%Boolean</ReturnType>
<Implementation><![CDATA[		quit 0
]]></Implementation>
</Method>

<Method name="DrawTitleServerHTML">
<Description>
This method draws the server/namespace/user/license/instance information inside the title pane.
pProduct may contain specific server name if passed in as the third piece (for HS debug purposes).</Description>
<ClassMethod>1</ClassMethod>
<FormalSpec><![CDATA[pProduct:%String,pTitle:%String,&pSmallMenu,&pLocatorMenu]]></FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	#; show which server we are connected to
	Set tInstance = $P($ZU(86),"*",2)
	Set tLicensedTo = $$DisplayName^%SYS.LICENSE
	Set tUserName = $UserName
	Set tServerName = $P(pProduct,"^",3)
	If tServerName = "" {
		Set tServerName = $zu(110)
	}
	Set msgInstance = $ZCVT($ZV,"O","HTML")
	#; Do not display "Switch" link if CanShowSwitch is false
	Set CanShowSwitch = ..CanShowSwitch(%request.PageName)
	
	&html<
	
	<div id="serverRow" class="portalTitleInfoBox">
		<span class="portalTitleInfoLabel" nowrap="1">#($$$TextHTML("Server"))#</span>
		<span class="portalTitleInfoVal" nowrap>#($ZCVT(tServerName,"O","HTML"))#&nbsp;</span>
		
		<span class="portalTitleInfoLabel" nowrap="1">#($$$TextHTML("Namespace"))#</span>
		<span class="portalTitleInfoVal" nowrap>#($namespace)#&nbsp;&nbsp;>
		If CanShowSwitch {
			Set tSwitch = $$$TextHTML("Switch namespace")
			Set tCode = "zenPage.switchNamespace();"
			&html<<a class="portalServerLink" title="#(tSwitch)#" href="#" onclick="#(tCode)#return false;">#($$$TextHTML("Switch"))#</a>>
		}
		&html<</span>>
		Do ..DrawUsername()
		&html<<span class="portalTitleInfoLabel" nowrap="1">#($$$TextHTML("Licensed To"))#</span>
		<span class="portalTitleInfoVal" nowrap>#($ZCVT(tLicensedTo,"O","HTML"))#&nbsp;</span>
		<span class="portalTitleInfoLabel" nowrap="1" title="#(msgInstance)#">#($$$TextHTML("Instance"))#</span>
		<span class="portalTitleInfoVal" nowrap>#($ZCVT(tInstance,"O","HTML"))#&nbsp;</span>
		<span class="portalLostConnectivityWarn" id="lostConnectivityWarn" nowrap hidden></span>>
	&html<</div>>  //close serverRow

	Quit $$$OK
]]></Implementation>
</Method>

<Method name="OldDrawTitle">
<Description>
kept for reference for upgrading customers</Description>
<FormalSpec>pSeed:%String,pShowLogout:%Boolean=1,pShowInfo:%Boolean=1,pShowAccount:%Boolean=1</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	Set LOGOUTIMAGE = ##class(%CSP.Page).Link("/csp/hslib/images/HS_Icon_Logout.gif")	
	Set HELPIMAGE = ##class(%CSP.Page).Link("/csp/hslib/images/HS_Icon_Help.gif")
	Set LOGOIMAGE = ##class(%CSP.Page).Link("/csp/hslib/images/logo-healthshare.jpg")
	Set InstanceName = $P($zu(86),"*",2)
	Set ServerName = $$$HSNetworkHostName
	#if $$$HSDebug
		Set ServerName = ServerName_":"_%session.SessionId
	#endif	
	Set cmdServer = $$$TextHTML("Server")
	Set cmdInstance = $$$TextHTML("Instance")
	Set cmdNamespace = $$$TextHTML("Namespace")
	Set cmdUser = $$$TextHTML("User")
	Set cmdLogX = $$$TextHTML("Logout")
	Set cmdShow = $$$TextHTML("Show Connection Details")
	Set cmdHide = $$$TextHTML("Hide Connection Details")
	Set cmdAccount = $$$TextHTML("My Account")
	Kill tQuery Set tQuery("FROM")=%request.URL
	Set accountURL = $$$HSUILink("Registry\User\Individual","HS.UI.Registry.User.Individual.cls")
	Set logXURL = ##Class(HS.UI.Util).GetLoginLink(%request.URL)
	&html<<div class="portalTitle">>
	&html<<table border="0" cellpadding="0" cellspacing="0" width="100%">
	<tr>
	<td align="left"><img width="300" height="75" src="#(LOGOIMAGE)#" /></td>
	<td width="50%" align="left">
	<div>#($ZCVT(pSeed,"O","HTML"))#</div></td>>
	//&html<<td align="right"><a href="http://www.intersystems.com/index.html" class="link" ><img src="#(HELPIMAGE)#" alt="Help" alt="Help" width="20" height="20" border="0">Help</a></td>>

	&html<<td width="100%" align="right" valign="center" nowrap>>
	If pSeed '= "" {
		&html<<table cellspacing="2"><tr><td align="right"><table>>
		If pShowLogout {
			&html<<tr><td><a href="#(logXURL)#" class="link" ><img src="#(LOGOUTIMAGE)#" alt="Logout" width="20" height="20" border="0" >#(cmdLogX)#</a>&nbsp;&nbsp;</td></tr>>
		}
		If pShowAccount,$namespace'="HSLIB" {
			&html<<tr><td><a href="javascript:zenLaunchPopupWindow('#(accountURL)#','EditUser','modal=no,width=1210,height=630');" class="link" >#(cmdAccount)#</a></td></tr>>
		}
		If pShowInfo {
			&html<<tr><td><a id="idShowConnectionDetails" class="connectionlink" onclick="document.getElementById('idConnectionInfo').style.display='inline';document.getElementById('idShowConnectionDetails').style.display='none';document.getElementById('idHideConnectionDetails').style.display='inline'">#(cmdShow)#</a>
			<a id="idHideConnectionDetails" style="display:none" class="connectionlink" onclick="document.getElementById('idConnectionInfo').style.display='none';document.getElementById('idShowConnectionDetails').style.display='inline';document.getElementById('idHideConnectionDetails').style.display='none'">#(cmdHide)#</a></td></tr>>
		}
		&html<</table>>
		If pShowInfo {
			&html<<td id="idConnectionInfo"  style="display:none"><table><tr><td>>
			&html<<span style="color:white; font-size:8pt; padding-right:5px;">#(cmdNamespace)#:</span></td>
			<td><div class="ltlabel"><b>#($namespace)#</b></div></td>
			<td align="right"><span style="color:white; font-size:8pt; padding-right:5px;">#(cmdServer)#:</span>
			<td><div class="ltlabel"><b>#(ServerName)#</b></div></td>		
			</tr>
			<tr><td align="right"><span style="color:white; font-size:8pt; padding-right:5px;">#(cmdUser)#:</span>
			<td><div class="ltlabel"><b>#(%session.Username)#</b></div></td>
			<td align="right"><span style="color:white; font-size:8pt; padding-right:5px;">#(cmdInstance)#:</span>
			<td><div class="ltlabel"><b>#(InstanceName)#</b></div></td>
			</tr></table>
			>
		}
		&html<
		</tr>
		</table>>
	}

    &html<
    <td width="20">&nbsp;</td></tr>
	</table></div>>
	Quit $$$OK
]]></Implementation>
</Method>

<Method name="DrawHSTitle">
<Description>
Draw the HTML contents of the title area for portal pages.</Description>
<FormalSpec>pTitle,pSourcePage:%String="",pManageEnsemble:%Boolean=0,pShowInfo:%Boolean=1,pShowAccount:%Boolean=1,pShowSmallMenu:%Boolean=1,pShowHSHelp:%Boolean=1</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	Set tVersion = $$$EnsMajorVersion_$$$EnsMinorVersion
	// For HealthShare, keep old SMP
	Set isHealthShareInstance = ##class(%ZHSLIB.HealthShareMgr).IsHealthShareInstance()
	If (tVersion > 20191) && 'isHealthShareInstance {
		Quit ..DrawStandardTitle(pTitle,pSourcePage,pManageEnsemble,pShowInfo,pShowAccount,pShowSmallMenu)
	}
	/* below is the original code for drawing HSTitle for kits prior to 2019.2's SMP reskin (need to reset some of the css back to the original)*/
	&html<
	<style type="text/css">
	.portalTitleMenuBox {
		left: 10px;
	}
	.portalTitleInfoBox {
		position: absolute;
		bottom: 0px;
		left: 500px;
	}
	#searchDiv {
		top: 80px;
	}
	#searchBox {
		color: #767676;
		width: 136px;
		border: 0;
		outline: 0;
		border-bottom: 1px solid #333695;
		padding: 2px 7px;
		margin-right: 5px;
	}

	#searchGroupWrapper {
		position: relative;
	}

	#searchGroup {
		position: absolute;
		visibility: hidden;
	}

	#searchDropDown {
		position: fixed;
		top: 140px;
		right: 55px;
		width: 149px;
		height: 250px;
		border: 2px solid #d8d8d8;
		background: white;
		z-index: 3;
		overflow-y: auto;
		overflow-x: hidden;
	}

	#searchDropDownShadow {
		position: fixed;
		top: 104px;
		left: 830px;
		width: 245px;
		height: 250px;
		border: 1px solid gray;
		background: black;
		opacity: 0;
		color: gray;
		z-index: 2;
		overflow-y: auto;
		overflow-x: hidden;
	}

	.searchDropDownList {
		padding: 2px;
	}
	#searchBox {
		color: darkblue;
		width: 250px;
		border: 1px solid rgb(53,107,141);
		-moz-border-radius: 3px;
		border-radius: 3px;
	}

	#searchGroupWrapper {
		position: relative;
	}

	#searchGroup {
		position: absolute;
		visibility: hidden;
	}

	#searchDropDown {
		position: fixed;
		top: 100px;
		left: 830px;
		width: 245px;
		height: 250px;
		border: 1px solid rgb(53,107,141);
		background: white;
		z-index: 3;
		overflow-y: auto;
		overflow-x: hidden;
	}

	#searchDropDownShadow {
		position: fixed;
		top: 104px;
		left: 830px;
		width: 245px;
		height: 250px;
		border: 1px solid gray;
		background: black;
		opacity: 0.5;
		filter:alpha(opacity=25);
		color: gray;
		z-index: 2;
		overflow-y: auto;
		overflow-x: hidden;
	}	
	</style>
	>
	Set LOGOUTIMAGE = ##class(%CSP.Page).Link("/csp/hslib/images/HS_Icon_Logout.gif")	
	Set HELPIMAGE = ##class(%CSP.Page).Link("/csp/hslib/images/HS_Icon_Help.gif")
	Set LOGOIMAGE = ##class(%CSP.Page).Link("/csp/hslib/images/logo-healthshare.jpg")
	Set InstanceName = $P($zu(86),"*",2)
	Set ServerName = $$$HSNetworkHostName
	#if $$$HSDebug
		Set ServerName = ServerName_":"_%session.SessionId
	#endif	
	Set cmdServer = $$$TextHTML("Server")
	Set cmdInstance = $$$TextHTML("Instance")
	Set cmdNamespace = $$$TextHTML("Namespace")
	Set cmdUser = $$$TextHTML("User")
	Set cmdLogX = $$$TextHTML("Logout")
	Set cmdShow = $$$TextHTML("Show Connection Details")
	Set cmdHide = $$$TextHTML("Hide Connection Details")
	Set cmdAccount = $$$TextHTML("My Account")
	Kill tQuery Set tQuery("FROM")=%request.URL
	Set accountURL = $$$HSUILink("Registry\User\Individual","HS.UI.Registry.User.Individual.cls")
	Set tProduct=$$$Text("HealthShare")
	Set tUserName = $UserName
	
	Set tSystemMode = $G(^%SYS("SystemMode"))
	Set tSystemStyle = ""
	Set tSystemMsg = ""
	If (tSystemMode = "LIVE") {
		Set tSystemMsg = $$$TextHTML("This is a Live System")
		Set tSystemStyle = "text-align: center; background: red; color: white; font-size:12pt; padding:2px; border: 1px solid #404040;"
		Set:%page.cssLevel'=3 tSystemStyle = tSystemStyle_" -moz-border-radius: 5px;"
	}
	ElseIf (tSystemMode = "TEST") {
		Set tSystemMsg = $$$TextHTML("This is a Test System")
		Set tSystemStyle = "text-align: center; background: #D0D0D0; color: #404040; font-size:12pt; padding:2px; border: 1px solid #404040;"
		Set:%page.cssLevel'=3 tSystemStyle = tSystemStyle_" -moz-border-radius: 5px;"
	}
	ElseIf (tSystemMode = "DEVELOPMENT") {
		Set tSystemMsg = $$$TextHTML("This is a Development System")
		Set tSystemStyle = "text-align: center; color: #404040; font-size:10pt; padding:2px;"
	}
	ElseIf (tSystemMode '= "") {
		// show value as a string
		Set tSystemMsg = $ZCVT(tSystemMode,"O","HTML")
		Set tSystemStyle = "text-align: center; color: #404040; font-size:10pt; padding:2px;"
	}
	
	// Setup product logo for HealthShare	
	Set tProduct = "HealthShare"
	If $$$EnsMajorVersion_$$$EnsMinorVersion < 20172 {
		Set tProductLogo = "portal/" _ tProduct _ "_Logo.png"
	}
	Else {
		Set tProductLogo = "portal/InterSystems IRIS.png"
		If ##class(%ZHSLIB.HealthShareMgr).InstanceType() '= $$$HSisIRISforHealth {
			Set tProductLogo = "portal/HealthShareLogo210x50.png"
		}
	}
	
	&html<<div class="portalTitle">> 
	#; place holder for menu
	If pShowSmallMenu {
		#; small menu
		Do ..%OnGetSmallMenu(pSourcePage,pManageEnsemble,.tSmallMenu, pShowHSHelp)
		Do ..%DrawSmallMenu(.tSmallMenu, "")
		Set tLink=%request.URL
		&html<<label id="idHSLogout" style="display: none;">#(tLink)#</label>> 
	}
	Set tTitleText = pTitle
	Set msgInstance = $ZCVT($ZV,"O","HTML")
	#; handle long names
	Set tTitleStyle = ""
	If ($L(tTitleText)>28) {
		// smaller font
		Set tTitleStyle = "style=font-size:12px;"
	}
	If ($L(tTitleText)>100) {
		// aaa...bbb
		Set tTitleText = $ZSTRIP($E(tTitleText,1,40),"<>W")_"..."_$ZSTRIP($E(tTitleText,$L(tTitleText)-40,$L(tTitleText)),"<>W")
	}
	&html<
	<div class="portalTitleTabBox" #(tTitleStyle)# id="titleTab" title="#($ZCVT(pTitle,"O","HTML"))#">#($ZCVT(tTitleText,"O","HTML"))#<span id="modifiedIndicator">&nbsp;</span></div>

	<div class="portalTitleInfoBox">>
	
	&html<<table cellspacing="2"><tr><td align="right"><table height="50">>
	If pShowAccount,$namespace'="HSLIB", $G(%session.Data("LoginID"))'="" {
		&html<<tr><td><a href="javascript:zenLaunchPopupWindow('#(accountURL)#','EditUser','modal=no,width=1210,height=630');" class="HSportalTitleLink" >#(cmdAccount)#</a></td></tr>>
	}
	If pShowInfo {
		&html<<tr><td><table>>
		&html<<tr><td><a id="idShowConnectionDetails" class="HSportalTitleLink" onclick="document.getElementById('idConnectionInfo').style.display='inline';document.getElementById('idShowConnectionDetails').style.display='none';document.getElementById('idHideConnectionDetails').style.display='inline'">#(cmdShow)#</a>
		<a id="idHideConnectionDetails" style="display:none" class="HSportalTitleLink" onclick="document.getElementById('idConnectionInfo').style.display='none';document.getElementById('idShowConnectionDetails').style.display='inline';document.getElementById('idHideConnectionDetails').style.display='none'">#(cmdHide)#</a></td></tr>>
		&html<</table></td><td align="left" colspan="4" nowrap="1" class="portalTitleInfoVal" style="#(tSystemStyle)#">#(tSystemMsg)#</td></tr>>
	}
	&html<</table>>
	If pShowInfo {
		&html<<td><div id="idConnectionInfo"  style="display:none"><table><tr><td>>
		&html<<span style="color:#808080; font-size:8pt; padding-right:5px;">#(cmdNamespace)#:</span></td>
		<td><div class="ltlabel"><b>#($namespace)#</b></div></td>
		<td align="right"><span style="color:#808080; font-size:8pt; padding-right:5px;">#(cmdServer)#:</span>
		<td><div class="ltlabel"><b>#(ServerName)#</b></div></td>		
		</tr>
		<tr><td align="right"><span style="color:#808080; font-size:8pt; padding-right:5px;">#(cmdUser)#:</span>
		<td><div class="ltlabel"><b>#(%session.Username)#</b></div></td>
		<td align="right"><span style="color:#808080; font-size:8pt; padding-right:5px;">#(cmdInstance)#:</span>
		<td><div class="ltlabel"><b>#(InstanceName)#</b></div></td>
		</tr></table></div></td>
		>
	}
	&html<
	</tr>
	</table>	
	</div>>
	
	&html<<div class="portalLogoBox">
		<img class="portalLogo" src='#(tProductLogo)#' title='#($$$Text("Powered by Zen"))#' alt='#(tProduct)#'></img>>
	
	&html<</div>>
	Quit $$$OK
]]></Implementation>
</Method>

<Method name="%OnGetSmallMenu">
<Description>
Get the contents of the small menu in the title area.</Description>
<FormalSpec>pSourcePage:%Boolean=0,pManageEnsemble:%Boolean=0,*pMenu,pShowHSHelp:%Boolean=1</FormalSpec>
<Implementation><![CDATA[
	// $LB(caption,title,script)
	
	Set tIsHealthShareInstance = ##class(%ZHSLIB.HealthShareMgr).IsHealthShareInstance()
    Set tHome = $S(tIsHealthShareInstance:"TCITK.UI.Home",1:"TCITK.UI.Home")
	
	/*
 
	If 'tIsHealthShareInstance {
		Set tMenu1 = $$$TextHTML("Health")
		Set tMenu2 = $$$TextHTML("Interoperability")
		Set tHint = $$$TextHTML("Go to Health Management")
	} Else {
		Set tMenu1 = $$$TextHTML("HealthShare Management")
		Set tMenu2 = $$$TextHTML("Productions")
		Set tHint = $$$TextHTML("Go to the HealthShare Management Portal")
	}	
	Set tI=0, tPortalURL=$$$HSUILink("Home",tHome)
	Set tHQuery("CSPSHARE") = 1
	Set tHQuery("$NAMESPACE")=$S($Roles["%All":$namespace,1:"%SYS"),tHomeLink=##class(%CSP.Page).Link(..#HOMEPAGE,.tHQuery)
	Set:$SYSTEM.Security.Check("%Admin_Manage","USE") pMenu($I(tI)) = $LB($$$Text("Home"),$$$Text("Go to the System Home page"),"document.location='"_tHomeLink_"';")
	If ##class(%ZHSLIB.HealthShareMgr).GetHealthShareNamespaceType()'="" {
		Set tQuery("CSPSHARE") = 1
		Set tURL=..Link("/csp/healthshare/"_tPortalURL)
		Set pMenu($I(tI)) = $LB(tMenu1,tHint,"document.location='"_tURL_"';")
		If pSourcePage="Portal"&&'pManageEnsemble {
			If $SYSTEM.Security.Check("%Ens_Portal","USE") {
				Set tQuery("$ENSEMBLE") = 1
				Set tEnsLink =..Link(tPortalURL,.tQuery)
				Set pMenu($I(tI)) = $LB(tMenu2,tMenu2,"document.location='"_tEnsLink_"';")
			}
		} Else {
			Set tLink=tPortalURL
			Set pMenu($I(tI)) = $LB($Namespace_" "_$$$Text("Management"),$Namespace_" "_$$$Text("Management"),"document.location='"_tLink_"';")
		}
	} Else {
		IF pSourcePage="Installer"||(pSourcePage="Annotations") {
			Set tURL=..Link("/csp/healthshare/"_tPortalURL)
			Set pMenu($I(tI)) = $LB(tMenu1,tHint,"document.location='"_tURL_"';")
		}
		Set tLink=..Link($S(tIsHealthShareInstance:"HS.UI.Installer.Welcome.cls",1:"HS.HC.UI.Installer.Welcome.cls"))
		If $SYSTEM.Security.Check("%HSAdmin_InstallationManagement","USE") {
			//installer wizard not available on non-primary mirror member, unless HSSYS isn't yet mirrored
			If $system.Mirror.IsMember(),'$system.Mirror.IsPrimary(),..IsHSSYSMirrored() {
				//
			} Else {
				Set pMenu($I(tI)) = $LB($$$Text("Installer Wizard"),$$$Text("Use the Installer Wizard to configure components"),"document.location='"_tLink_"';")
			}
			If tIsHealthShareInstance && $system.Mirror.IsMember() {
				Set tLink=..Link("HS.UI.MirrorMonitor.cls")
				Set pMenu($I(tI))=$LB($$$Text("Mirror Agent Monitor"),$$$Text("Monitor the mirrored installation steps"),"document.location='"_tLink_"';")
			}
		}
		 
	}
	*/
	
	
	Set tDemoLink=..Link("TCITK.UI.Home.cls")
	Set pMenu($I(tI)) = $LB($$$Text("Home"),$$$Text("Display the TrakCare Innovation Toolkit page"),"document.location='"_tDemoLink_"';")
	
	Set pMenu($I(tI)) = $LB($$$Text("Management Portal"),$$$Text("Display the TrakCare Innovation Toolkit page"),"window.open('"_"/csp/sys/UtilHome.csp"_"');")
	 
	Set tAboutLink=..Link("HS.UI.About.cls")
	Set pMenu($I(tI)) = $LB($$$Text("About"),$$$Text("Display the About page"),"document.location='"_tAboutLink_"';")
	//Set tHelpLink=..Link("/csp/docbook/DocBook.UI.HomePageZen.cls")
	//Set pMenu($I(tI)) = $LB($$$TextHTML("Help"),$$$TextHTML("Display help for this page"),"window.open('"_tHelpLink_"','HelpWindow');")
	
	// If it's not HealthShare, show the Help link. Otherwise, we check the pShowHSHelp argument. 
	// In other words, we only hide it if a) it's HealthShare and b) we were told to hide it. 
	If (('tIsHealthShareInstance)||(pShowHSHelp)) {
		Set pMenu($I(tI)) = $LB($$$Text("Help"),$$$Text("Display help for this page"),"zenPage.showHelp();")
	}
	Set logXURL = ##Class(HS.UI.Util).GetLoginLink(%request.URL)
	
	// for onclick, before redirecting to HS.UI.Logout page, clear browser session storage, which is neccesary for child applications using session storage
	Set pMenu($I(tI)) = $LB($$$Text("Logout"),$$$Text("End this session"),"window.sessionStorage.clear();document.location='"_logXURL_"';")
]]></Implementation>
</Method>

<Method name="IsHSSYSMirrored">
<ClassMethod>1</ClassMethod>
<ReturnType>%Boolean</ReturnType>
<Implementation><![CDATA[
	New $Namespace Set $Namespace = "%SYS"
	Try {
		Set tRS = ##class(%ResultSet).%New()
		Set tRS.ClassName = "SYS.Mirror"
		Set tRS.QueryName = "MirroredDatabaseList"
		Set tSC = tRS.Execute("HSSYS")
		$$$ThrowOnError(tSC)
		Set tFound = 0
		If tRS.Next(.tSC) {
			Set tFound = 1
		}
		$$$ThrowOnError(tSC)
		Set tSC = tRS.Close()
		$$$ThrowOnError(tSC)
	} Catch ex {
		Set tFound = 0
	}
	Quit tFound
]]></Implementation>
</Method>

<Method name="DrawCopyright">
<FormalSpec>p:%String</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	&html<<br><br><br>>
	Set years = "1996-" _ $E($ZDT($H,3),1,4)
	Set msgCopyright = $$$TextHTML("Copyright")
	Set msgAllRights = $$$TextHTML("All Rights Reserved.")
	&html<<div align="center" id="footer">
	<a href="http://www.intersystems.com/index.html">
    <font color="#004459">www.InterSystems.com</font></a><br>
 	<a href="http://www.intersystems.com/copyright/index.html"><font color="#333333">&copy; #(msgCopyright)#</font></a> #(years)# InterSystems Corporation. #(msgAllRights)#<br>
  	</div>
	>
	Quit $$$OK
]]></Implementation>
</Method>

<Method name="GetSearchClass">
<Description>
Subclass can implement this method to return their own search class for HS.Viewer.DefaultSearch</Description>
<ReturnType>%String</ReturnType>
<Implementation><![CDATA[	Quit ""
]]></Implementation>
</Method>

<Method name="GetPatientSearchClass">
<Description>
Subclass can implement this method to return their own search class for HS.Viewer.PatientSearch</Description>
<ReturnType>%String</ReturnType>
<Implementation><![CDATA[	Quit ""
]]></Implementation>
</Method>

<Method name="GetHealthShareArray">
<Description>
This will only be used in 2011.1+.  Added per Yan
Provide finder contents for the HealthShare pages. Called from %CSP.Portal.Home.</Description>
<ClassMethod>1</ClassMethod>
<FormalSpec>*pData</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
    //Set pMetaData = $LB("name","title","link","disabled","icon","description")
    Set tDisabled = 0
    Set tHome = $S(##class(%ZHSLIB.HealthShareMgr).IsHealthShareInstance():"HS.UI.Home.cls",1:"HS.HC.UI.Home.cls")
    Set pData($I(n)) = $LB($$$Text("HealthShare Management Portal"),,$$$HSUILink("Home",tHome),tDisabled,"portal/architect_48.gif",$$$Text("Goto HealthShare Management Portal home page"))
	Quit $$$OK
]]></Implementation>
</Method>

<Method name="OnPreHTTP">
<ClassMethod>1</ClassMethod>
<ReturnType>%Boolean</ReturnType>
<ServerOnly>1</ServerOnly>
<Implementation><![CDATA[	Quit ##class(HS.UI.BaseCSP).OnPreHTTP()
]]></Implementation>
</Method>
</Class>


<Class name="TCITK.UI.FHIRTest">
<Description>
Define and manage FHIR CSP application behaviors that are not covered in CSP application maintenance.</Description>
<Super>TCITK.UI.Util</Super>
<TimeChanged>66021,14262.270651</TimeChanged>
<TimeCreated>65468,76707.179559</TimeCreated>

<Parameter name="HSDEPLOY">
<Default>0</Default>
</Parameter>

<Parameter name="RESOURCE">
<Default>%HS_TestSuite</Default>
</Parameter>

<Parameter name="SERVICEREGISTRYENTRY">
</Parameter>

<Parameter name="APPLICATION">
<Description>
Class name of application this page belongs to.</Description>
<Default>TCITK.UI.Application</Default>
</Parameter>

<Parameter name="PAGENAME">
<Description>
Displayed name of this page.</Description>
<Default>MainPage</Default>
</Parameter>

<Parameter name="TESTSERVICENAME">
<Default>FHIR.Test</Default>
</Parameter>

<Parameter name="TESTSERVICEPORT">
<Default>54321</Default>
</Parameter>

<Parameter name="SINGLETAB">
<Default>1</Default>
</Parameter>

<Property name="IsConnectathon">
<Type>%Boolean</Type>
<InitialExpression>##class(HS.Registry.Config).GetKeyValue("\IHE\Connectathon",0)=1</InitialExpression>
</Property>

<Property name="TESTGROUPID">
<Type>%String</Type>
<Parameter name="ZENURL" value="TestGroupID"/>
</Property>

<Parameter name="TARGETHOST">
<Description>
Which business host to send this request to, versus updating the HS.Test.Service code</Description>
<Type>%String</Type>
</Parameter>

<Property name="StdTitle">
<Description>
Domain used for localization.
Parameter DOMAIN = "";
Define the title that will be displayed within subclasses</Description>
<Type>%ZEN.Datatype.string</Type>
<InitialExpression>..#PAGENAME</InitialExpression>
</Property>

<Property name="title">
<Description>
Title displayed within this pane.</Description>
<Type>%ZEN.Datatype.caption</Type>
</Property>

<Property name="category">
<Description>
Category displayed within this pane (above the title).</Description>
<Type>%ZEN.Datatype.caption</Type>
<InitialExpression>"Intersystems Implementation"</InitialExpression>
</Property>

<XData name="Style">
<Description>
This Style block contains page-specific CSS style definitions.</Description>
<Data><![CDATA[
<style type="text/css">
/* default styles */
body {
	 
	font-family: verdana;
	min-height: 500px
}

.pageTitle {
	color: black;
	background: #c5d6d6;
	background-image: url(images/titlegradient.png);
	background-repeat: repeat-y;
	background-position: right;
	width: 100%;
	padding: 0px;
	border-bottom: 1px solid darkblue;
	font-size: 1.4em;
	font-family: verdana;
	text-align: center;
}

table.iheTestTitle {
	color: black;
	background: #c5d6d6;
	width: 100%;
	padding: 0px;
	margin: 0px;
	border-bottom: 1px solid darkblue;
	font-size: 1.4em;
	font-family: verdana;
	text-align: center;
}

.text {
	  border: 1px inset threedface;
}

.comboboxInput {
	  border: 1px inset threedface;
}

.menuTable {
	background: rgb(47,98,128);
	width: 100%;
	height: 100%;
	border: 0px;
}

a.menuItem {
	color: white;
	padding-top: 20px;
	padding-left: 0px;
	padding-right: 0px;
	border: 0px;
	margin: 1px;
	text-align: left;
	width:230px
}

a.menuItem:hover {
	color:#000000;
	background: #71AFBC;
	padding-top: 20px;
	padding-left: 0px;
	padding-right: 0px;
	border: 0px;
	margin: 1px;
	text-align: left;
	width:230px
}

a.menuItemSelected {
	background: #FFFFA0;
	color: rgb(47,98,128);
	padding-top: 20px;
	padding-left: 0px;
	padding-right: 0px;
	border: 0px;
	margin: 1px;
	text-align: left;
	width:230px
}

a.menuItemSelected:hover {
	color:#000000;
	background: #71AFBC;
	padding-top: 20px;
	padding-left: 0px;
	padding-right: 0px;
	border: 0px;
	margin: 1px;
	text-align: left;
	width:230px
}

/* body of tab group */
.tabGroupBody {
 
	padding-left: 20px;
	font-family: verdana;
	min-height: 500px
}

iframe.Body {
	padding-left: 20px;
	font-family: verdana;
	min-height: 500px
}

/* selected tab */
td.tabGroupButtonOn {
 	padding: 50px;
	color: rgb(47,98,128);
}

/* div for tab group */
#tabGroup {
	height: 100%;
	width: 100%;
}

iframe {
	height: 750px;
	width: 1000px;
	scroll: auto;
}

/* form field styles */
/*
.zenLabel {
	font-family: verdana;
	font-size: 0.8em;
	padding-right: 0px;
}
*/
/* checkbox styles */
.checkboxCaption {
	font-family: verdana;
	font-size: 0.8em;
	padding-right: 0px;
}

</style>
]]></Data>
</XData>

<XData name="Contents">
<Description>
This XML block defines the contents of this page.
There are 4 main panes defined for the standard page:
menu	table
message	details
The contents of these panes are provided by subclasses.</Description>
<XMLNamespace>http://www.intersystems.com/zen</XMLNamespace>
<Data><![CDATA[
<page xmlns="http://www.intersystems.com/zen">
<html id="title" OnDrawContent="DrawTitle" seed="FHIR Test Utility"/>
<hgroup>
<vgroup valign="top"   >
<pane paneName="menuPane"/>
</vgroup>
<spacer width="20"/>
<vgroup valign="top">
<tabGroup id="topTabGroup" showTabBar="true" remember="true">
<tab id="frameTab1" caption='Patient search' height="500px" width="900px" >
<iframe id="frame1" src="TCITK.UI.Test.PatientSearch.cls" width="100%"/>
</tab>
</tabGroup>
</vgroup>
</hgroup>
</page>
]]></Data>
</XData>

<XData name="menuPane">
<Description>
This XML block defines the contents of the menu pane.</Description>
<Data><![CDATA[
<pane id="sideMenu" xmlns="http://www.intersystems.com/zen" xmlns:ihetest="http://www.intersystems.com/ihetest">
<lookoutMenu id="lookout" expandable="false" height="300" width="250" remember="true">
<tab caption=" " id="menuMain">

<menuItem caption="Patient Search" onclick="zenPage.ShowItem('TCITK.UI.Test.PatientSearch.cls','Patient search')"/>
<menuItem caption="Patient Read" onclick="zenPage.ShowItem('TCITK.UI.Test.PatientRead.cls','Patient Read')"/>
 </tab>
</lookoutMenu>
</pane>
]]></Data>
</XData>

<Method name="DrawTitle">
<FormalSpec>pSeed:%String</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	do %application.DrawTitle(pSeed)
	Quit $$$OK
]]></Implementation>
</Method>

<Method name="ShowItem">
<FormalSpec>pItem,pText</FormalSpec>
<ZenMethod>1</ZenMethod>
<Implementation><![CDATA[
	try {
		#dim tg as %ZEN.Component.tabGroup
		Set tg=%page.%GetComponentById("topTabGroup")
		Set tab="",tSelection=""
		If ..#SINGLETAB {
			Do tg.children.Clear()
			Set tSelection=1
		} Else {
			For tIdx=1:1:tg.children.Count() {
				Set tItem=tg.children.GetAt(tIdx)
				if tItem.caption=pText Set tab=tItem,tSelection=tIdx Quit
			}
		}
		If tab="" {
			Set tab = ##class(%ZEN.Component.tab).%New()
			Set tab.caption=pText
			Set tFrame=##class(%ZEN.Component.iframe).%New()
			Set tFrame.src=pItem
			Do tab.%AddChild(tFrame)
			Do tg.%AddChild(tab)
			Set tSelection=tg.children.Count()
		}
		If tg.children.Count()=1 {
			Do tab.%Activate()
		} Else {
			&js<setTimeout(function(){zenPage.getComponentById('topTabGroup').showTab(#(tSelection)#)},100);>
		}
	} catch ex {
	}
]]></Implementation>
</Method>
</Class>


<Class name="TCITK.UI.Home">
<Description>
Home page for the HealthShare Management Portal.</Description>
<IncludeCode>%sySystem,HS.HC.UI.Home,%ZHSLIB</IncludeCode>
<Super>HS.UI.Base</Super>
<TimeChanged>66031,43265.1082232</TimeChanged>
<TimeCreated>65468,76488.785131</TimeCreated>

<Parameter name="FAVORITEICON">
<Description>
Home favorite icon.</Description>
<Type>COSEXPRESSION</Type>
<Default>$$$ISCFAVORITEICON</Default>
</Parameter>

<Parameter name="APPLICATION">
<Description>
Set this to the appropriate application class.</Description>
<Default>TCITK.UI.Application</Default>
</Parameter>

<Parameter name="DOMAIN">
<Description>
Set this to the correct domain.</Description>
<Default>HS</Default>
</Parameter>

<Parameter name="PAGENAME">
<Description>
Name of this page.</Description>
<Default>Demo Manager Home</Default>
</Parameter>

<Parameter name="RECENT">
<Description>
If true, register visits to this page in the recent list.</Description>
<Default>0</Default>
</Parameter>

<Parameter name="AUTONS">
<Description>
If true, auto-switch namespace to whatever $NAMESPACE is passed in.</Description>
<Type>BOOLEAN</Type>
<Default>0</Default>
</Parameter>

<Parameter name="HOMEPAGE">
<Description>
URL of home page (used in links).</Description>
<Default>/csp/sys/%25CSP.Portal.Home.zen</Default>
</Parameter>

<Parameter name="SHOWNAMESPACE">
<Description>
If true, show the Namespace dropdown.</Description>
<Type>BOOLEAN</Type>
<Default>0</Default>
</Parameter>

<Parameter name="DEFAULTVIEWMODE">
<Description>
If this page has multiple views, this is its initial display mode.</Description>
<Default>columns</Default>
</Parameter>

<Parameter name="DEFAULTSORTMODE">
<Description>
If this page has sort options, this is its initial sort mode.</Description>
<Default>name</Default>
</Parameter>

<Property name="homePage">
<Description>
Product home page URL with "home" value</Description>
<Type>%ZEN.Datatype.string</Type>
<InitialExpression>$S($IsObject($G(%request)):%request.URLPrefix, 1:"")_..#HOMEPAGE</InitialExpression>
</Property>

<Property name="aboutPage">
<Description>
About page URL</Description>
<Type>%ZEN.Datatype.string</Type>
</Property>

<Property name="currStep">
<Description>
For pages with steps, this is the current step (1-based).</Description>
<Type>%ZEN.Datatype.integer</Type>
<InitialExpression>1</InitialExpression>
</Property>

<Property name="currViewMode">
<Description>
If this page has "views", this is the current view type.</Description>
<Type>%ZEN.Datatype.string</Type>
<InitialExpression>..#DEFAULTVIEWMODE</InitialExpression>
</Property>

<Property name="currSortMode">
<Description>
Current sort mode for this page (if applicable).</Description>
<Type>%ZEN.Datatype.string</Type>
<InitialExpression>..#DEFAULTSORTMODE</InitialExpression>
</Property>

<Property name="searchKey">
<Description>
Current search key value (if applicable).</Description>
<Type>%ZEN.Datatype.string</Type>
</Property>

<Property name="pageModified">
<Description>
True if the contents of this page need to be saved.</Description>
<Type>%ZEN.Datatype.boolean</Type>
<InitialExpression>0</InitialExpression>
</Property>

<Property name="currItemId">
<Description>
Indicates the id of which item is selected in the selector pane (on the left).</Description>
<Type>%ZEN.Datatype.string</Type>
<InitialExpression>"HOME"</InitialExpression>
</Property>

<Property name="itemCount">
<Description>
Number of items in the selector pane (this is automatically computed).</Description>
<Type>%ZEN.Datatype.integer</Type>
</Property>

<Property name="btnGo">
<Type>%ZEN.Datatype.caption</Type>
<InitialExpression>$$$Text("Go")</InitialExpression>
</Property>

<Property name="currDropdownIndex">
<Description>
Index of current item in search dropdown.</Description>
<Type>%ZEN.Datatype.integer</Type>
</Property>

<Property name="searchLink">
<Description>
Used by search box to track link of selected item.</Description>
<Type>%ZEN.Datatype.string</Type>
</Property>

<Property name="homeChanged">
<Description>
If true, the the "Home" page needs to be refreshed to see new favorites.</Description>
<Type>%ZEN.Datatype.boolean</Type>
<InitialExpression>0</InitialExpression>
</Property>

<Property name="Username">
<Description>
Current login user name.</Description>
<Type>%ZEN.Datatype.string</Type>
</Property>

<Property name="NAMESPACE">
<Description>
Name of the current namespace (from $NAMESPACE).</Description>
<Type>%ZEN.Datatype.string</Type>
</Property>

<Property name="REQUESTNS">
<Description>
Current $NAMESPACE. This is the namespace user selected from the Switch namespace dialog and will be used in navigate().</Description>
<Type>%ZEN.Datatype.string</Type>
</Property>

<Property name="ManageEnsemble">
<Description>
are we in Ensemble management mode</Description>
<Type>%Boolean</Type>
</Property>

<Property name="msgConfirm">
<Type>%ZEN.Datatype.caption</Type>
<InitialExpression>$$$Text("Rebuild synchronization data?")</InitialExpression>
</Property>

<Property name="msgCompleted">
<Type>%ZEN.Datatype.caption</Type>
<InitialExpression>$$$Text("Rebuild Started")</InitialExpression>
</Property>

<Property name="msgResendConfirm">
<Type>%ZEN.Datatype.caption</Type>
<InitialExpression>$$$Text("Request resend of users and roles?")</InitialExpression>
</Property>

<Property name="msgResendCompleted">
<Type>%ZEN.Datatype.caption</Type>
<InitialExpression>$$$Text("Request sent.  Check RolesAndResources task status.")</InitialExpression>
</Property>

<XData name="Style">
<Data><![CDATA[
<style type="text/css">

#selector {
	overflow: auto;
}
/* Style for the outside table */
table.outside {
	vertical-align: top;
	
}
/* Style for the major menu */
table.HSselector {
	border: 1px solid #cbcbcb;
	vertical-align: top;
	padding-right: 20px;
	width: 100%;
}
table.HSselector td {
	font-weight: bold;
	vertical-align: middle;
	font-size: 14pt;
}
/* Style for the sub-menu */
table.HSselectorsub {
	background: white;
	vertical-align: middle;
	padding: 2px;
}
.HSselectorType {
	border: 1px solid #cbcbcb;
	display: block;
	padding: 2px;
	padding-right: 12px;
	vertical-align: middle;
	text-decoration: none;
	color: black;
	font-weight: bold;
	font-size: 14pt;
	width: 300px;
}

.HSselectorItem {
	border: 1px solid #cbcbcb;
	color: #000000;
    font-size: 14px;
    font-weight: 600;
	display: block;
	padding: 10px 12px;
	text-decoration: none;
	vertical-align: middle;
	width: 300px;
}

.HSselectorsub a:hover {
	background: #f0f0f0;
}

div.type_errors {
	border: 1px solid #cbcbcb;
	font-size: 0.9em;
	margin: 10px;
	margin-top: 1em;
	padding: 0.5em;
}

div.type_errors ul.type_error_list {
	list-style-type: circle;
	margin-bottom: 0px;
	margin-top: 0.5em;
	padding-left: 1.5em;
}
.ribbonTitle {
	color:#00AFA9;
	font-family: Montserrat,Futura,Arial,sans-serif;
	font-size:36px;
	font-weight: bold;
	text-align:left;
}
/* tool ribbon */

.toolRibbon {
	height: 48px;
	background: white;
	float: left;
	vertical-align: middle;
}
.toolRibbonEnd {
	border: 1px solid #f0f0f0;
	width: 100%;
}

.ribbonLabel {
	vertical-align: middle;
	color: #404040;
	font-weight: bold;
	font-size: 10pt;
}

.ribbonSortOption:hover,.ribbonSortOptionSelected:hover {
	color: darkred;
}

.ribbonSortOption {
	text-decoration: none;
	color: #5ba4dc;
	font-weight: normal;
}

.ribbonSortOptionSelected {
	text-decoration: none;
	color: #404040;
	background: #FFEEAA;
	font-weight: normal;
}

.viewIconBar {
	vertical-align: bottom;
}

.viewIcon,.viewIconSelected,.viewIconDis,.viewIconHover {
	vertical-align: bottom;
	border: 2px solid white;
	height: 34px;
	width:  34px;
}

.viewIconSelected {
	border-radius: 2px;
	border: 3px solid #000000;
}

.viewIconHover {
	background: #BFE4E3;
	cursor:pointer;
}

.csMenuBar {
	 display:block;
     background-color:white;
     border:1px solid gray;
     height:18; 
     width:100%;
}
.csMenuItem {
    position:absolute;
    cursor:pointer;
    font:12px arial;
    background:white;
    color:black;
    height:18px;
}

.csActiveMenuItem {
	background: #eeeeee;
	color: #98923a;
}

#finder {
	width: 0px;
	background: white;
	overflow: hidden;
}

.finderColumn {
	overflow-y: auto;
}
.selectorOuter {
	background: none;
	padding: 4px;
	padding-right: 6px;
}

.selectorOuterSelected {
	background: white;
	padding: 4px;
	padding-right: 6px;
	-moz-border-radius-topleft: 10px;
	-moz-border-radius-bottomleft: 10px;
	border-radius-topleft: 10px;
	border-radius-bottomleft: 10px;
}

.selectorInner {
	border: 1px solid #cbcbcb;
	text-align: left;
	vertical-align: middle;
}

.selectorInnerDisabled {
	background: #D0D0D0;
	text-align: left;
	vertical-align: middle;
	opacity: 0.50;
}

.selectorOuterSelected .selectorInner {
	border: solid 1px #cbcbcb;
}

.selectorOuterSelected .selectorInner td {
}

.selectorNamespace td {
	font-size: 10pt;
	font-weight: bold ;
}

.selectorInner td,.selectorInnerDisabled td {
	font-weight: bold;
	font-size: 12pt;
}

.selectorInner a,.selectorInnerDisabled a {
	display: block;
	padding: 2px;
	padding-right: 12px;
	text-decoration: none;
	color: black;
	vertical-align: middle;
}

.selectorInnerDisabled .selectorInnerTD {
	color: #808080;
}

.selectorInnerTD {
	cursor: pointer;
}

.selectorOuterSelected {
	color: black;
	border-left:5px solid #333695;
}

.selectorInner a:visited, .selectorInner a:active {
	color: black;
}

.selectorInner a:hover {
	background: #F7F7F7;
}

.selectorOuterSelected .selectorInner a:hover {
	background: none;
}

.selectorInner a:hover .selectorInnerTD {
	color: #404040;
}

.selectorOuterSelected .selectorInner a:hover .selectorInnerTD {
	background: none;
}

.listCommand {
	color: white;
}

.ndMain {
	position: relative;
	padding: 22px;
	color: #404040;
	font-family: arial;
}

.ndMainTitle {
	color: #404040;
	font-size: 22pt;
	text-shadow: #D0D0D0 2px 2px 2px;
}

.ndMainTitle:first-letter {
	color: #404040;
	font-size: 34pt;
}

.ndMainSub {
	color: #606060;
	font-size: 10pt;
	padding-bottom: 10px;
}

.ndWrapper {
	height: 150px;
	width: 80%;
	overflow-y: auto;
}

table td.ndTitle {
	color: rgb(53,107,141);
	font-weight: bold;
	font-size: 12pt;
	border-bottom: 1px solid gray;
}

table td.ndSubtitle {
	color: #808080;
	font-size: 10pt;
	padding-bottom: 5px;
}

table td.ndOption {
	font-size: 11pt;
	padding-bottom: 3px;
}

table td.ndOption a {
	text-decoration: none;
	color: #404040;
	font-size: 11pt;
	display: block;
	width: 100%;
}

table td.ndOption a:hover {
	text-decoration: none;
	color: #202020;
	background: #FFEEAA;
}

table.searchTable {
}

table.searchTable td {
	padding: 4px;
}

table.searchDropDownTable {
}

table.searchDropDownTable td {
}

.rowEven {
}

.rowOdd {
	background: #F0F0F0;
}

.ndDidYou {
	color: #404040;
	font-size: 11pt;
	line-spacing: 120%;
	padding-top: 5px;
	padding-bottom: 3px;
}

a.ndCloseIcon img {
	opacity: 0.5;
	filter:alpha(opacity=50);
}

a.ndCloseIcon:hover img {
	opacity: 1.0;
	filter:alpha(opacity=100);
}

.ndLabel {
	color: #606060;
	font-weight: bold;
	font-size: 8pt;
}

.ndLink {
	padding: 2px;
	text-decoration: none;
	color: #6060D0;
}

.ndLink:hover {
	text-decoration: none;
	color: #202060;
	background: #FFEEAA;
}

.sdLink {
	padding: 2px;
	text-decoration: none;
	color: #606060;
	display: block;
	font-size: 10pt;
}

.sdLink:hover {
	text-decoration: none;
	color: #404040;
	background: #FFEEAA;
}

.sysHeader {
	color: #606060;
	font-weight: bold;
	font-size: 10pt;
	padding-top: 10px;
}

.sysInfo {
	color: #404040;
	font-size: 10pt;
}

.sysAlert {
	color: #F04040;
	font-size: 10pt;
	font-weight: bold;
}

.sysRunning {
	color: #40A040;
	font-size: 10pt;
	font-weight: bold;
}

.sysLinkDiv {
	cursor: pointer;
}
#searchDiv {
	position: absolute;
	top: 117px;
	right: 30px;
}

.search-icon {
	width: 22px;
	vertical-align: bottom;
	cursor: pointer;
}
#searchBox {
	color: #767676;
	width: 136px;
	border: 0;
	outline: 0;
	border-bottom: 1px solid #333695;
	padding: 2px 7px;
	margin-right: 5px;
}

#searchGroupWrapper {
	position: relative;
}

#searchGroup {
	position: absolute;
	visibility: hidden;
}

#searchDropDown {
	position: fixed;
	top: 140px;
	right: 55px;
	width: 149px;
	height: 250px;
	border: 2px solid #d8d8d8;
	background: white;
	z-index: 3;
	overflow-y: auto;
	overflow-x: hidden;
}

#searchDropDownShadow {
	position: fixed;
	top: 104px;
	left: 830px;
	width: 245px;
	height: 250px;
	border: 1px solid gray;
	background: black;
	opacity: 0;
	color: gray;
	z-index: 2;
	overflow-y: auto;
	overflow-x: hidden;
}

.searchDropDownList {
	padding: 2px;
}

/* reskin
#searchBox {
	color: darkblue;
	width: 250px;
	border: 1px solid rgb(53,107,141);
	-moz-border-radius: 3px;
	border-radius: 3px;
}

#searchGroupWrapper {
	position: relative;
}

#searchGroup {
	position: absolute;
	visibility: hidden;
}

#searchDropDown {
	position: fixed;
	top: 100px;
	left: 830px;
	width: 245px;
	height: 250px;
	border: 1px solid rgb(53,107,141);
	background: white;
	z-index: 3;
	overflow-y: auto;
	overflow-x: hidden;
}

#searchDropDownShadow {
	position: fixed;
	top: 104px;
	left: 830px;
	width: 245px;
	height: 250px;
	border: 1px solid gray;
	background: black;
	opacity: 0.5;
	filter:alpha(opacity=25);
	color: gray;
	z-index: 2;
	overflow-y: auto;
	overflow-x: hidden;
}

.searchDropDownList {
	padding: 2px;
}
*/
</style>
]]></Data>
</XData>

<XData name="Contents">
<Description>
Contents of this page:</Description>
<XMLNamespace>http://www.intersystems.com/zen</XMLNamespace>
<Data><![CDATA[
<page xmlns="http://www.intersystems.com/zen" 
	xmlns:deepsee="http://www.intersystems.com/deepsee" 
	title="#(%page.StdTitle)#"
	dropEnabled="true"
	dragAndDrop="true">
<group layout="none" containerStyle="position:relative; top:0px; left:0px">
<html id="title" OnDrawContent="DrawHSTitle"/>
</group>

<html id="toolRibbon" OnDrawContent="DrawRibbon"/>

<vgroup width="100%" valign="top">
<pane paneName="contentPane" width="100%"/>
</vgroup>

</page>
]]></Data>
</XData>

<XData name="contentPane">
<XMLNamespace>http://www.intersystems.com/zen</XMLNamespace>
<Data><![CDATA[
<pane xmlns="http://www.intersystems.com/zen" xmlns:hs="http://www.intersystems.com/zen/hs" id="homePane" hidden="true">
<group id="searchGroupWrapper">
<group id="searchGroup">
<html id="searchDropDownShadow"/>
<html id="searchDropDown" OnDrawContent="DrawSearchDropDown"/>
</group>
</group>

<jsonProvider id="json" OnGetArray="GetFinderArray"/>
<hgroup cellVAlign="top">
<spacer width="25"/>
<html id="selector" valign="top" OnDrawContent="DrawSelector"/>
<vgroup cellVAlign="top" cellStyle="padding-top:6px;">
<hs:SMPFinderPane id="finder" ongetdata="return zen('json').getContentObject();" 
	onselectitem="return zenPage.itemSelected(item);"
	ondrawdetails="return zenPage.drawDetails(item,finder,index);"
	ondrawempty="return zenPage.drawEmptyFinder();"
	ondblclick="return zenPage.itemDoubleClick(item);"
	 listColumns="name,description"
	/>
</vgroup>

<html id="searchResults" hidden="true" OnDrawContent="DrawSearchResults"/>
</hgroup>

</pane>
]]></Data>
</XData>

<Method name="%OnAfterCreatePage">
<Description>
This class method callback is called just before the server-side page 
object is created.</Description>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	//set %response.TraceDump=1
	Set tSC = ..BuildMenu()
	If $$$ISERR(tSC) Quit tSC
	// save the current $Username into property, so it can be used to compare if it is the same as the last login. 
	// If it differs then the last "state" will not be restored.
	Set ..Username = $Username
	Set ..ManageEnsemble = $G(%request.Data("$ENSEMBLE",1))
	Set ..NAMESPACE = $Namespace
	Set ..REQUESTNS = $G(%request.Data("$NAMESPACE",1))
	Set %session.Data("$NAMESPACE") = $Namespace // need this to carry back to system mgmt portal for favorites
	Quit tSC
]]></Implementation>
</Method>

<Method name="%OnGetPageName">
<Description>
Get the (localized) name of the page.
This should be implemented in a subclass.</Description>
<ReturnType>%String</ReturnType>
<Implementation><![CDATA[
	Quit "DEMO Manager"
	//Quit $Case(##class(%ZHSLIB.HealthShareMgr).IsHealthShareInstance(),1:$$$Text("HealthShare Home"),:$$$Text("Health"))
]]></Implementation>
</Method>

<Method name="DrawRibbon">
<Description><![CDATA[
Draw the contents of the tool ribbon.
This is displayed if a subclass implements the <method>OnGetRibbonInfo</method> callback.]]></Description>
<FormalSpec>pSeed:%String</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	Set tSC = $$$OK
	Try {
		Set tDisplay = 0
		Set tSearchBox = 0
		Set tRibbonTitle = ""
		Set tSC = ..OnGetRibbonInfo(.tDisplay,.tViewIcons,.tSortOptions,.tSearchBox,.tRibbonTitle,.tCommands)
		If $$$ISERR(tSC) Quit

		If ('tDisplay) Quit
	
		&html<<div class="toolRibbon">>
		&html<<table border="0" cellspacing="0" cellpadding="0" style="height:48px;width:100%;"><tr>>

		If (tRibbonTitle '= "") {
			&html<<td width="25%" class="ribbonTitle">&nbsp;&nbsp;<nobr>#(tRibbonTitle)#</nobr>&nbsp;&nbsp;</td>>
		}

		// commands
		If ($D(tCommands)) {
			If ($D(tViewIcons)) {
				&html<<td width="10%">&nbsp;</td>>
			}
			&html<<td align="left" nowrap="1">>
			Set n = $O(tCommands(""))
			While (n'="") {
				Set tID = $LG(tCommands(n),1)
				Set tCaption = $LG(tCommands(n),2)
				Set tTitle = $LG(tCommands(n),3)
				Set tOnClick = $LG(tCommands(n),4)
				Set tHidden = $S($LG(tCommands(n),5):"visibility:hidden;",1:"")
				// n.b. set line-height because of ie! 
				&html<<a id="command_#(tID)#" style="line-height:27px;#(tHidden)#" class="commandButton" href="#" onclick="#(tOnClick)#return false;" title="#(tTitle)#"><nobr>#(tCaption)#</nobr></a>&nbsp;&nbsp;>
				Set n = $O(tCommands(n))
			}
			&html<</td>>
		}

		Set tSC = ..OnDrawRibbon()
		If $$$ISERR(tSC) Quit

		// sort
		If ($D(tSortOptions)) {
			&html<<td style="width:80px;">&nbsp;</td>>
			&html<<td class="ribbonLabel" nowrap="1">#($$$Text("Sort:","%Utility"))#&nbsp;>
			Set n = $O(tSortOptions(""))
			While (n '= "") {
				Set tID = $LG(tSortOptions(n),1)
				Set tText = $LG(tSortOptions(n),2)
				Set tTitle = $LG(tSortOptions(n),3)
				Set tCls = $S(tID=..currSortMode:"ribbonSortOptionSelected",1:"ribbonSortOption")
				&html<&nbsp;<a id="sort_#(tID)#" title="#(tTitle)#" class="#(tCls)#" href="#" onclick="zenPage.setSortMode('#(tID)#');return false;">&nbsp;#(tText)#&nbsp;</a>&nbsp;>
				Set n = $O(tSortOptions(n))
			}
			&html<</td>>
		}
		
		#; icons

		If ($D(tViewIcons)) {
			// view
			Set tTitle = $$$Text("Choose how options should be displayed","%Utility")
			&html<<td style="width:40px;">&nbsp;</td>>
			&html<<td class="ribbonLabel" width="1%" title="#(tTitle)#" nowrap>#($$$Text("View:","%Utility"))#&nbsp;</td>>

			&html<<td nowrap="1">
			<div class="viewIconBar">>
			Set n = $O(tViewIcons(""))
			While (n'="") {
				Set tID = $LG(tViewIcons(n),1)
				Set tHelp = $LG(tViewIcons(n),2)
				Set tIcon = $LG(tViewIcons(n),3)
				// use mouse events so that hover works on ie
				&html<<img id="view_#(tID)#" class="#($S(..currViewMode=tID:"viewIconSelected",1:"viewIcon"))#" title="#(tHelp)#" src="#(tIcon)#" onclick="zenPage.setViewMode('#(tID)#');" onmouseover="this._oldClass=this.className;this.className='viewIconHover';" onmouseout="this.className=this._oldClass;" />>
				Set n = $O(tViewIcons(n))
			}
			&html<</div></td>>
		}
		Else {
			&html<<td style="width:40px;">&nbsp;</td>>
		}

		If (tSearchBox) {
			// Search
			// IE doesn't support event.relatedTarget, setTimeout on blur events to get the source target.
			&html<<td nowrap="1"><div id="searchDiv">>
			Set isHealthShareInstance = ##class(%ZHSLIB.HealthShareMgr).IsHealthShareInstance()
			If ($$$EnsMajorVersion_$$$EnsMinorVersion > 20191) && 'isHealthShareInstance {
				&html<<input id="searchBox" type="text" size="12" placeholder="Search" onkeypress="zenPage.searchKeyPress(event);" onkeydown="return zenPage.searchKeyDown(event);" onblur="setTimeout(function(){zenPage.searchBlur(event);},200);"/>
				<img id="search-icon-glass" class="search-icon" alt="" onclick="zenPage.searchBoxHandler(document.getElementById('searchBox').value);" src="#(..Link("images/icon-search.png"))#"/>>
			} Else {
				&html<<div class="ribbonLabel">#($$$TextHTML("Search"))#: <input id="searchBox" type="text" size="12" onkeypress="zenPage.searchKeyPress(event);" onkeydown="return zenPage.searchKeyDown(event);" onblur="setTimeout(function(){zenPage.searchBlur(event);},200);"/></div>>
	
			}
			&html<</div></td>>
		}

		&html<</tr></table>>
		&html<</div>>
		/// the next line enables us to display the horizontal line below the ribbon bar across the table width 
		/// which could be wider and require horizontal scroll. We seperated this from the toolsRibbon because 
		/// we want the command buttons for the toolsRibbon bar to show on the left, and not float to the right when table becomes too wide.
		&html<</tr><tr><td colspan="50"><div class="toolRibbonEnd"></td></tr>>
	}
	Catch(ex) {
		Set tSC = ex.AsStatus()
	}
	Quit tSC
]]></Implementation>
</Method>

<Method name="OnGetRibbonInfo">
<Description>
Get information to display in the ribbon bar.</Description>
<FormalSpec>*pDisplay:%Boolean,*pViewIcons:%List,*pSortOptions:%List,*pSearchBox:%Boolean,*pRibbonTitle:%String,*pCommands:%List</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	Set pDisplay = 1
	Set pSearchBox = 1
	Set tType=##class(%ZHSLIB.HealthShareMgr).GetHealthShareNamespaceType()
	Set pRibbonTitle = $$$Text("TrakCare Innovation Toolkit")

	If ##class(%ZHSLIB.HealthShareMgr).GetHealthShareNamespaceType()'="" {
		Set pViewIcons(1) = $LB("columns",$$$Text("Show columns view"),"portal/view_box_columns.png")
		Set pViewIcons(2) = $LB("list",$$$Text("Show list view"),"portal/view_box_list.png")
		//reskin Set pViewIcons(3) = $LB("icons",$$$Text("Show icons view"),"portal/view_box_icons.png")
	}

	// commands
	// $LB(id,caption,help,onclick)
	IF $system.Security.Check("%All","USE"),('$system.Mirror.IsMember()||$system.Mirror.IsPrimary()) {
		Set pCommands($I(iCmd)) = $LB("cmdStart",$$$Text("Start All"),$$$Text("Start all Productions"),"zenPage.startProductions();")
		Set pCommands($I(iCmd)) = $LB("cmdStop",$$$Text("Stop All"),$$$Text("Stop all Productions"),"zenPage.stopProductions();")
	}
	Quit $$$OK
]]></Implementation>
</Method>

<Method name="OnDrawRibbon">
<Description>
This is called in the middle of rendering the tool ribbon.</Description>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[	Quit $$$OK
]]></Implementation>
</Method>

<Method name="DrawSelector">
<Description>
Draw content of the selector pane.
This will only be visible if we're not in a HealthShare component namespace</Description>
<FormalSpec>pSeed:%String</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	Quit:##class(%ZHSLIB.HealthShareMgr).GetHealthShareNamespaceType()'="" $$$OK
	If $system.Mirror.IsMember(),'$system.Mirror.IsPrimary() Quit $$$OK
	Do ..GetNamespaceData(.tHSTypeData,.tErrors)
	
	&html<<table cellspacing="10" cellpadding="6" border="0" >>
	
	Set tIcon=..Link("portal/icon_healthshare.png")
	Set ..itemCount = 0
	Set tUITier = ""
	For {
		Set tUITier = $order(tHSTypeData(tUITier))
		If (tUITier = "") {
			Quit
		}
		Set tType = ""
		For {
			Set tType = $order(tHSTypeData(tUITier,tType))
			If (tType = "") {
				Quit
			}
			Set ..itemCount = ..itemCount+1
			&html<<tr>
			<td>
			<table id="item_#(..itemCount)#" class="HSselector">
				<tr>
					<td style="padding:20px 6px;"><img alt="" src="#(tIcon)#" width="30px" height="30px"/></td>
					<td id="tditem_#(..itemCount)#" valign="middle"><nobr>&nbsp;#($zconvert(tType,"O","HTML"))#</nobr></td>
				</tr>
			</table>
			</td>
			<td>
				<table class="HSselectorsub" cellspacing="0" cellpadding="2" border="0">>
			Set tHSNamespace = ""
			For {
				Set tHSNamespace = $order(tHSTypeData(tUITier,tType,tHSNamespace),1,tURL)
				If (tHSNamespace = "") {
					Quit
				}
				Set tLink=..Link(tURL_"/"_$ClassName()_".cls")
				Set tHSNamespaceHTML = $zconvert(tHSNamespace,"O","HTML")
				&html<<tr>
				<td>
				<a class="HSselectorItem" href="#($zconvert(tLink,"O","HTML"))#" title='#($$$TextHTML("Click to select this namespace"))#' >
					<nobr>&nbsp;#(tHSNamespaceHTML)#</nobr>
				</a>
				</td>
				</tr>>
			}
			&html<</tr></td></tr></table></td>>
		}
	}
	&html<</table>>
	
	If $data(tErrors) {
		Set tErrorTitle = $$$TextHTML("We could not get information for the following namespaces:")
		&html<<div class="type_errors">
			<div class="type_errors_title">#(tErrorTitle)#</div>
			<ul class="type_error_list">>
		
		Set tErrorNamespace = ""
		For {
			Set tErrorNamespace = $order(tErrors(tErrorNamespace))
			If (tErrorNamespace = "") {
				Quit
			}
			&html<<li>#($zconvert(tErrorNamespace,"O","HTML"))#</li>>
		}
		
		&html<</ul>
		</div>>
	}
	
	Quit $$$OK
]]></Implementation>
</Method>

<Method name="GetNamespaceData">
<Internal>1</Internal>
<FormalSpec>*pNamespaceTypeData,*pErrors</FormalSpec>
<Implementation><![CDATA[
	Kill pNamespaceTypeData
	Kill pErrors
	Set tRS = ##class(%ResultSet).%New("HS.Util.Installer.ConfigItem:Configuration")
	If $IsObject(tRS) {
		Do tRS.Execute()
		While tRS.Next() {
			Set tType = tRS.Get("Type")
			If (tRS.Get("LastActivated") '= "") && 'tRS.Get("Disabled") {
				Set tItemNamespace = tRS.Get("ID")
				Set tTypeSC = $$$OK
				Try {
					// Note that we require tConfigItemClass to be mapped to the current namespace
					Set tTypeSC = ##class(HS.Util.Installer.ConfigItem).%OnDetermineClass($$$oidForm(tItemNamespace),.tConfigItemClass)
					If $$$ISOK(tTypeSC) && $classmethod(tConfigItemClass,"CheckUISecurityResources",tItemNamespace) {
						Set tTypeName = $classmethod(tConfigItemClass,"GetConfigTypeName",1)
						Set tUITier = +$classmethod(tConfigItemClass,"GetConfigTypeUITier")
						Set tItemName = tRS.Get("Name")
						Set pNamespaceTypeData(tUITier,tTypeName,tItemName) = $system.CSP.GetDefaultApp(tItemName)
					}
				}
				Catch ex {
					Set tTypeSC = ex.AsStatus()
				}
				If $$$ISERR(tTypeSC) && ##class(%SYS.Namespace).Exists(tItemNamespace) {
					Set pErrors(tItemNamespace) = tTypeSC
				}
			}
		}
	}
]]></Implementation>
</Method>

<Method name="GetFinderArray">
<Description>
Provide the source data (as an array) that will drive the finder.</Description>
<FormalSpec><![CDATA[&pParameters,*pMetaData,*pData]]></FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	// tags are used for searching, but are not displayed
	// pMetaData describes what goes into the list items in the pData array
	Set pMetaData = $LB("name","title","link","disabled","icon","description","resource","customResource","tags","modCustom")
	// resource and customResource are set later
	Kill pData
	If ..ManageEnsemble {
		Set tSC=##class(EnsPortal.Application).GetEnsembleArray(.pData)
		Try {
			// Add stack level to allow $namespace to be popped locally
			If (..NAMESPACE '= ..REQUESTNS) && '##class(%Library.EnsembleMgr).IsEnsembleNamespace() {
				New $namespace
				Set $namespace = ..REQUESTNS
			}
			Set tSC = ..%CheckResources(.pData)
		}
		Catch {}
		Quit tSC
	}
	// This only gets populated in a HealthShare Component namespace
	try {
		Set tSC=$$$OK
		Set tType=##class(%ZHSLIB.HealthShareMgr).GetHealthShareNamespaceType()
		Set:tType]"" tSC = $method($this,"Get"_tType_"Array",.pData)
	} Catch ex {
		Set tSC = ex.AsStatus()
	}
	Quit tSC
]]></Implementation>
</Method>

<Method name="%CheckResources">
<Description>
Check resources for each item in the menu array.</Description>
<Internal>1</Internal>
<FormalSpec><![CDATA[&pData]]></FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	Set tSC = $$$OK
	Set n = $O(pData(""))
	Set tURLPrefix = $select($IsObject($get(%request)): %request.URLPrefix, 1: "")
	Set tURLPrefixLen = $length(tURLPrefix)
	While (n'="") {
		Set tNode = $G(pData(n))

		If ($D(pData(n))>1) {
			// child nodes: recurse
			Kill tData
			Merge tData = pData(n)
			Set tSC = ..%CheckResources(.tData)
			If $$$ISERR(tSC) Quit
			Kill pData(n)
			Merge pData(n) = tData
		}
		Else {
			// deal with this node
			Set tSuppliedLink = $LG(tNode,3)
			Set tDisabled = $LG(tNode,4)
			// strip off query, hash and the server prefix for local processing
			Set tLink = $P(tSuppliedLink,"?",1)	
			Set tLink = $P(tLink,"#",1)
			If tURLPrefixLen && ($extract(tLink,1,tURLPrefixLen) = tURLPrefix) {
				Set tLink = $extract(tLink,tURLPrefixLen+1,*)
			}

			Set tIsPortalPage = ##class(%CSP.Portal.Utils).%IsPortalPage(tSuppliedLink,.tNormLink)
			Set tResource = ""
			Set tCustomResource = ""
			// find custom resource, if any
			If tIsPortalPage {
				Set tCustomResource = ##class(%CSP.Portal.Utils).%GetCustomResource($zconvert(tNormLink,"O","URL"))
			}
			
			Set tExt = $$$LOWER($P(tLink,".",$L(tLink,".")))
			Set tPath = $$$LOWER($P(tLink,"/",1,$L(tLink,"/")-1))
			Set tSysLink = ($extract(tLink,1,$length("/csp/sys/")) = "/csp/sys/")
			Set tCls = ""

			// Ensemble links should all end in ".zen"
			If ((tExt="cls")||(tExt="zen")) {
				// extract the class name from the link
				Set tCls =$P(tLink,"/",$L(tLink,"/"))
				Set tCls = $ZCVT(tCls,"I","URL")
				If $extract(tCls) = "_" Set $extract(tCls) = "%"
				Set tCls = $P(tCls,".",1,$L(tCls,".")-1)
				// now we can use $parameter to get the resource list
				Try {
					Set tResource = $parameter(tCls,"RESOURCE")
				}
				Catch {}
			}

				// check resource(s)
				If ('tDisabled) {
					Set tCheckResources = $lb(tResource, tCustomResource)
					Set tCanAccess = ##class(%CSP.Portal.Utils).CheckLoggedInResources(tCheckResources)
					Set tDisabled = $case(tCanAccess, $$$caNotCSPLink: 0, $$$caCanAccessRes: 0, $$$caUnknownTarget: 0, : 1)
				}

			Set $List(tNode,4) = tDisabled
			Set $List(tNode,7) = tResource
			Set $List(tNode,8) = tCustomResource
			Set $List(tNode,10) = 0
		}

		Set pData(n) = tNode
		Set n = $O(pData(n))
	} 
	Quit tSC
]]></Implementation>
</Method>

<Method name="AddMenuBranch">
<FormalSpec><![CDATA[pName,pTitle="",pLicense="",pMethod,pSecurity="",pIcon="",&pData,&pN=0,pArgs...]]></FormalSpec>
<Implementation><![CDATA[
	If pSecurity'="" Quit:'$SYSTEM.Security.Check(pSecurity,"USE")
	If pLicense'="" Quit:'$$$HSLicensed(pLicense)
	//reskin If pIcon="" Set pIcon=..Link("portal/role_48.gif")
	Set pIcon=..Link(pIcon)
	Set tList=$LB(pName,pTitle,,0,pIcon)
	If +$G(pArgs)=0 {
		Do $Method(,pMethod,pN+1,.pData)
		Set:$D(pData(pN+1)) pData($I(pN))=tList
	} ElseIf pArgs=1 {
		Do $Method(,pMethod,pArgs(1),pN+1,.pData)
		Set:$D(pData(pArgs(1),pN+1)) pData(pArgs(1),$I(pN))=tList
	} ElseIf pArgs=2 {
		Do $Method(,pMethod,pArgs(1),pArgs(2),pN+1,.pData)
		Set:$D(pData(pArgs(1),pArgs(2),pN+1)) pData(pArgs(1),pArgs(2),$I(pN))=tList
	} ElseIf pArgs=3 {
		Do $Method(,pMethod,pArgs(1),pArgs(2),pArgs(3),pN+1,.pData)
		Set:$D(pData(pArgs(1),pArgs(2),pArgs(3),pN+1)) pData(pArgs(1),pArgs(2),pArgs(3),$I(pN))=tList
	}
]]></Implementation>
</Method>

<Method name="AddOption">
<Description>
pName - option Name (after $$$Text)
pTitle - option Title (hover help, after $$$Text)
pKey - configuration registry UI key for the class/page
 for options invoking methods within this class, this goes in pKey, and pClass would be null
pClass - classname (with .cls) of the default class, to be used if not in the configuration registry
pSecurity - if filled in, must have Use access to that Role
pIcon - reference to icon file (defaults to portal/role_48.gif)
pCheckUIVersion - boolean.  Used to check for an out of date UI running on a gateway, where the registry has
 been upgraded, but the gateway hasn't.
pData - the array being populated with the menu, where pData(1-n)=top level of menu, pData(x,1-n1)=nested level, etc.
pN - the current index into the current level in PData
pArgs - subscripts used when for submenu structure within the array</Description>
<FormalSpec><![CDATA[pName,pTitle="",pKey="",pClass="",pSecurity="",pIcon="",pCheckUIVersion=0,&pData,&pN=0,pArgs...]]></FormalSpec>
<Implementation><![CDATA[
	If pClass'="" Set pClass=$$$HSUILink(pKey,pClass) Quit:pClass=""
	If pClass="", pKey'="" Set pClass=pKey
	If pCheckUIVersion Quit:'##class(HS.UI.Util).CheckUIVersion(pKey)
	If pSecurity'="" Quit:'$SYSTEM.Security.Check(pSecurity,"USE")
	//reskin If pIcon="" Set pIcon=..Link("portal/role_48.gif")
	Set pIcon=..Link(pIcon)
	Set tList=$LB(pName,pTitle,pClass,0,pIcon), pN=pN+1
	If +$G(pArgs)=0 {Set pData(pN)=tList}
	ElseIf pArgs=1 {Set pData(pArgs(1),pN)=tList}
	ElseIf pArgs=2 {Set pData(pArgs(1),pArgs(2),pN)=tList}
	ElseIf pArgs=3 {Set pData(pArgs(1),pArgs(2),pArgs(3),pN)=tList}
	Else {Set pData(pArgs(1),pArgs(2),pArgs(3),pArgs(4),pN)=tList}
]]></Implementation>
</Method>

<Method name="GetFoundationArray">
<FormalSpec>pData</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	Set tSC = ..AddProductsMenu(.pData,.n1) Quit:$$$ISERR(tSC) tSC
	Quit:'$SYSTEM.Security.Check($$$HSHubManagement,"USE") $$$OK

	Set tConfig=##class(HS.Util.Installer.ConfigItem).%OpenId($namespace) Quit:tConfig.%ClassName(0)'="Foundation" $$$OK

	Set tEditSyncTables = $G(%session.Data("FoundationSync",$namespace))
	If tEditSyncTables="" {
		/// If the sync table globals are not mapped to HSSYS then we must be able to edit the tables
		If ##class(%SYS.Namespace).GetGlobalDest($namespace,"^OBJ.GUID") = ##class(%SYS.Namespace).GetGlobalDest($namespace) {
			Set tEditSyncTables=1
		} Else {
			Set tEditSyncTables='##class(HS.Sync.Utils).IsSyncSlave()
			Set:tEditSyncTables tEditSyncTables = '##class(HS.Sync.Utils).IsMapped()
		}
	}
	Set %session.Data("FoundationSync",$namespace)=tEditSyncTables
	
	Do:tEditSyncTables ..AddOption("FHIR Configurations","Open Demo Wizard","TCITK\FHIR Configurations","TCITK.UI.Welcome.cls",,,,.pData,.n1)
	Do:tEditSyncTables ..AddOption("SMART On FHIR Registry","Update SMART On FHIR Details","TCITK\SOFASettings","TCITK.UI.SmartOnFHirApps.cls",,,,.pData,.n1)
	
	//Do:tEditSyncTables ..AddOption("FHIR Test Utility","Update SMART On FHIR Details","TCITK\SOFA Registry","TCITK.UI.SmartOnFHirApps.cls",,,,.pData,.n1)
	Do:tEditSyncTables ..AddOption("SMART On FHIR Test Utility","Update SMART On FHIR Details","TCITK\SOFA Test","TCITK.UI.SmartOnFHirAppsTest.cls",,,,.pData,.n1)
	Do:tEditSyncTables ..AddOption("FHIR Test Utility","Open Demo Wizard","TCITK\FHIR Test Page","TCITK.UI.FHIRTest.cls",,,,.pData,.n1)
	Do:tEditSyncTables ..AddOption("TrakCare API Demo","Open Demo Wizard","TCITK TCAPI\FHIR Test Page","TCITK.UI.TCAPITest.cls",,,,.pData,.n1)
	
	//Do:tEditSyncTables ..AddOption("System Info","Update SMART On FHIR Details","DEMO\SOFASettings","TCITK.UI.SmartOnFHirApps.cls",,,,.pData,.n1)

	
	q 1
	

	Quit $$$OK
]]></Implementation>
</Method>

<Method name="GetIHEConfigurationFoundation">
<FormalSpec>pN1,pData</FormalSpec>
<Implementation><![CDATA[
	Do ..AddMenuBranch($$$Text("OID Registry"),$$$Text("OID Registry"),,"GetOIDRegistry",,,.pData,.n2,pN1)
	Do ..AddOption($$$Text("XUA Configuration Registry"),$$$Text("Add and Edit XUA Configurations"),"Registry\XUAConfig","HS.UI.Registry.XUAConfig.cls",,,,.pData,.n2,pN1)
	Do ..AddOption($$$Text("Trusted RSA Key Registry"),$$$Text("Add and Edit RSA Keys"),"Registry\RSAConfig","HS.UI.Registry.RSAConfig.cls",,,,.pData,.n2,pN1)
	Do ..AddOption($$$Text("Coded Entry Registry"),$$$Text("Add and Edit IHE Coded Entries"),"Registry\CodedEntry","HS.UI.Registry.CodedEntry.cls",,,,.pData,.n2,pN1)
]]></Implementation>
</Method>

<Method name="GetIHEConfiguration">
<FormalSpec>pN1,pData</FormalSpec>
<Implementation><![CDATA[
	Do ..AddMenuBranch($$$Text("OID Registry"),$$$Text("OID Registry"),,"GetOIDRegistry",,,.pData,.n2,pN1)
	Do ..AddOption($$$Text("XUA Configuration Registry"),$$$Text("Add and Edit XUA Configurations"),"Registry\XUAConfig","HS.UI.Registry.XUAConfig.cls",,,,.pData,.n2,pN1)
	Do ..AddOption($$$Text("Trusted RSA Key Registry"),$$$Text("Add and Edit RSA Keys"),"Registry\RSAConfig","HS.UI.Registry.RSAConfig.cls",,,,.pData,.n2,pN1)
	Do ..AddOption($$$Text("Coded Entry Registry"),$$$Text("Add and Edit IHE Coded Entries"),"Registry\CodedEntry","HS.UI.Registry.CodedEntry.cls",,,,.pData,.n2,pN1)
	Do ..AddOption($$$Text("PIX Notification Registry"),$$$Text("Add and Edit PIX Domain Notifications"),"Registry\PIXDomains","HS.UI.Registry.PIXDomains.cls",,,,.pData,.n2,pN1)
]]></Implementation>
</Method>

<Method name="GetOIDRegistry">
<FormalSpec>pN1,pN2,pData</FormalSpec>
<Implementation><![CDATA[
	Do ..AddOption($$$Text("Add/Edit OIDs"),$$$Text("Add and Edit Object Identifiers"),"Registry\OID","HS.UI.OIDRegistry.cls",,,,.pData,.n3,pN1,pN2)
	Do ..AddOption($$$Text("Import OIDs"),$$$Text("Import OIDs from File"),"Registry\OID\Import","HS.UI.OIDRegistry.Import.cls",,,,.pData,.n3,pN1,pN2)
	Do ..AddOption($$$Text("Export OIDs"),$$$Text("Export OIDs to File"),"Registry\OID\Export","HS.UI.OIDRegistry.Export.cls",,,,.pData,.n3,pN1,pN2)
]]></Implementation>
</Method>

<Method name="GetOIDRegistryFoundation">
<FormalSpec>pN1,pData</FormalSpec>
<Implementation><![CDATA[
	Do ..AddOption($$$Text("Add/Edit OIDs"),$$$Text("Add and Edit Object Identifiers"),"Registry\OID","HS.UI.OIDRegistry.cls",,,,.pData,.n2,pN1)
	Do ..AddOption($$$Text("Import OIDs"),$$$Text("Import OIDs from File"),"Registry\OID\Import","HS.UI.OIDRegistry.Import.cls",,,,.pData,.n2,pN1)
	Do ..AddOption($$$Text("Export OIDs"),$$$Text("Export OIDs to File"),"Registry\OID\Export","HS.UI.OIDRegistry.Export.cls",,,,.pData,.n2,pN1)
]]></Implementation>
</Method>

<Method name="GetSchemaDocumentation">
<FormalSpec>pN1,pData</FormalSpec>
<Implementation><![CDATA[
 IF $SYSTEM.Security.Check("%Ens_EDISchemaAnnotations","READ") {
 	Do ..AddOption($$$Text("HL7 Annotations"),$$$Text("Display information about HL7 document types."),"HL7","HS.UI.HL7.cls",,,0,.pData,.n2,pN1)
 	Do ..AddOption($$$Text("SDA/CDA Annotations"),$$$Text("Display information about the data transformations that result in SDA and CDA document types."),"Doc\Mapping","HS.UI.Doc.Mapping.cls",,,0,.pData,.n2,pN1)
 	Do ..AddOption($$$Text("FHIR Annotations"),$$$Text("Display information about the data transformations to and from SDA and FHIR STU3, as well as those used internally by ODS to store SDA as FHIR STU3 and DSTU2."),"Doc\SchemaMap","SchemaMap.Tool.UI.View.cls",,,0,.pData,.n2,pN1) 		
 }
 Quit $$$OK
]]></Implementation>
</Method>

<Method name="GetAustralianCustomisations">
<FormalSpec>pN1,pData</FormalSpec>
<Implementation><![CDATA[
	Do ..AddOption($$$Text("SMD Configuration"),$$$Text("Add and Edit HPIO SMD Configurations"),"\AustralianCustomisations\SMDConfiguration","HS.AU.UI.Registry.SMDConfiguration.cls",,,,.pData,.n2,pN1)
	Do ..AddOption($$$Text("ELS Interaction Cache"),$$$Text("Add and Edit Information Types"),"\AustralianCustomisations\ELSCache","HS.AU.UI.Registry.ELSInteractionCache.cls",,,,.pData,.n2,pN1)
	Quit $$$OK
]]></Implementation>
</Method>

<Method name="drawDetails">
<Description>
Provide HTML for details on selected item in finder.</Description>
<FormalSpec>item,finder,index</FormalSpec>
<Language>javascript</Language>
<ClientMethod>1</ClientMethod>
<Implementation><![CDATA[
	if (null == item) return '';

	var html = new Array();

	switch (finder.viewType) {
	case 'columns':
		html[html.length] = '<div style="text-align:center; padding: 5px;">';
		if (item.name) {
			html[html.length] = '<b>' + item.name + '</b><br/>';
			html[html.length] = '<hr/>';
		}

		var icon = item.icon ? item.icon : '';
		html[html.length] = '<img alt="" src="' + icon + '"/></b><br/>';

		var desc = item.description ? item.description : '';

		html[html.length] = desc + '<br/>';
		html[html.length] = '<br/>';
		if (item.link) {
			html[html.length] = '<a class="commandButton" href="#" onclick="zenPage.navigate(\''+item.link+'\');return false;">'+this.btnGo+'</a>' + '<br/>';
			//html[html.length] = '<br/><br/><a title="'+$$$Text('Add this item to the favorites list')+'" class="ndLink" href="#" onclick="zenPage.addFavorite(\''+item.name+'\',self.document.location.toString(),\''+item.link+'\'); return false;">'+$$$Text('Add to favorites')+'</a>' + '<br/>';
		}
		else {
			html[html.length] = '<a class="commandButtonDisabled" href="#" onclick="return false;">'+this.btnGo+'</a>' + '<br/>';
		}

		html[html.length] = '</div>';
		break;
	case 'list':
		if (index == finder.selectedList) {
			if (item.link) {
				html[html.length] = '<a class="listCommand" href="#" onclick="return false;" onmousedown="zenPage.navigate(\''+item.link+'\');return false;">Go</a>';
			}
		}
		break;
	case 'icons':
		break;
	}	
	
	return html.join('');
]]></Implementation>
</Method>

<Method name="drawEmptyFinder">
<Description>
Provide HTML for empty finder.</Description>
<FormalSpec>item</FormalSpec>
<Language>javascript</Language>
<ClientMethod>1</ClientMethod>
<Implementation><![CDATA[
	var html = '';
	return html;
]]></Implementation>
</Method>

<Method name="itemSelected">
<Description>
Item selected within the Finder.</Description>
<FormalSpec>item</FormalSpec>
<Language>javascript</Language>
<ClientMethod>1</ClientMethod>
<Implementation><![CDATA[
	var finder = zen('finder');
	if (finder.viewType != 'columns') {
		this.itemDoubleClick(item);
	}
	return true;
]]></Implementation>
</Method>

<Method name="itemDoubleClick">
<Description>
Item double-clicked within the Finder.</Description>
<FormalSpec>item</FormalSpec>
<Language>javascript</Language>
<ClientMethod>1</ClientMethod>
<Implementation><![CDATA[
	// invoke link for this item
	if (item.link && ''!=item.link) {
		zenPage.navigate(item.link);
	}
	return true;
]]></Implementation>
</Method>

<Method name="resendUsersRoles">
<Description>
Request re-send of all user roles / resources and mark task as active</Description>
<Language>javascript</Language>
<ClientMethod>1</ClientMethod>
<Implementation><![CDATA[
	try {
		var ok = confirm(this.msgResendConfirm);
		
		if (ok == 1) {
			this.RequestUsersRoles();
			alert(this.msgResendCompleted);
		}
	} catch (ex) {
		alert("Error: " + ex);	
	}
]]></Implementation>
</Method>

<Method name="RequestUsersRoles">
<Description>
Class method to request resend of user roles and resources</Description>
<ReturnType>%Status</ReturnType>
<ZenMethod>1</ZenMethod>
<Implementation><![CDATA[
	Set tSC=##class(HS.Util.HubServices).InvokeHubService("%ZHSLIB.Services.Server","%ZHSLIB.Services.Client","GetNVPair",.tPairs,"SetResourcesAndRolesTime",##class(%SYS.System).InstanceGUID()_"^")
	Set tSC = ##class(%ZHSLIB.Services.TaskUpdateRolesAndResources).RunNow($namespace) Quit:$$$ISERR(tSC)
	Quit tSC
]]></Implementation>
</Method>

<Method name="updateFinder">
<Description>
Update the finder contents and display it.</Description>
<Language>javascript</Language>
<ClientMethod>1</ClientMethod>
<Implementation><![CDATA[
	zen('json').refreshContent();
	var finder = zen('finder');
	finder.update(true);
	this.showSearchResults(false);
	return false;
]]></Implementation>
</Method>

<Method name="onlayoutHandler">
<Description>
Adjust sizes of components on the page.</Description>
<FormalSpec>load</FormalSpec>
<Language>javascript</Language>
<ClientMethod>1</ClientMethod>
<Implementation><![CDATA[
	try {
		
		if (load) {
			
			var sb = self.document.getElementById('searchBox');
			if (sb) {
				sb.value = '';
				try {
					sb.focus();
				}
				catch(ex) {
				}
			}

			// reveal pane
			var pane = zenPage.getComponentById('homePane');
			pane.setHidden(false);
		}

		var selector = zenPage.getComponentById('selector');
		var finder = zenPage.getComponentById('finder');
		var divSelector = selector.getEnclosingDiv();
		var divFinder = finder.getEnclosingDiv();

		if (load) {
			var initialState = '';
			// check for saved state in cookie
			var cookies = document.cookie;
			var stateStash = "nsstate."+this.ManageEnsemble+"."+this.NAMESPACE;
			var initialState = unescape(this.getCookieValue(stateStash,cookies));
			var Username = unescape(this.getCookieValue("Username",cookies));
			if (Username) {
				if ((Username != this.Username) && (initialState != '')) initialState = '';	
			}
			// find last viewMode
			var viewMode = this.getCookieValue("viewMode",cookies);
			if (viewMode != "") zenPage.setViewMode(viewMode);

			zenPage.updateFinder()
			if (initialState!='') {
				finder.selectedList = initialState;
			}
		}

		// find size of window
		var winHeight = zenGetWindowHeight();
		var winWidth = zenGetWindowWidth();

		var th = this.getTitleAreaHeight();
		var hgt = winHeight - th - 50 - (zenIsIE ? 20 : 0);

		hgt = (hgt < divSelector.offsetHeight) ? divSelector.offsetHeight : hgt;
		divFinder.style.height = hgt + 'px';

		this.makeSelectorBig(winWidth > 600);
		var fw = winWidth - divSelector.offsetWidth - 50 ;
		if (fw<10) {
			var fw = 10
		}
		divFinder.style.width = fw + 'px';

		zen('searchResults').getEnclosingDiv().style.width = fw + 'px';

		// compute size of finder columns
		var cols = 3;
		var colWid = fw / cols;
		while (colWid > 250) {
			cols++;
			colWid = (fw-10) / cols;
		}
		colWid = (colWid < 100) ? 100 : colWid;
		finder.setProperty('columnWidth',colWid);
		if (load) {
			divFinder.scrollTop = 0;
			divFinder.scrollLeft = 0;
		}
	}
	catch(ex) {
		alert(fw);
		zenExceptionHandler(ex,arguments,'Error in onlayoutHandler.');
	}
]]></Implementation>
</Method>

<Method name="makeSelectorBig">
<Description>
Set size of selector to big (true) or small (false).</Description>
<FormalSpec>flag</FormalSpec>
<Language>javascript</Language>
<ClientMethod>1</ClientMethod>
<Implementation><![CDATA[
	for (var n = 0; n < this.itemCount; n++) {
		var table = self.document.getElementById('item_'+(n+1));
		var td = self.document.getElementById('tditem_'+(n+1));
		td.style.display = flag ? '' : 'none';
		table.style.width = flag ? 300 : 70;
	}
]]></Implementation>
</Method>

<Method name="navigate">
<Description>
Navigate to a new page in the portal.</Description>
<FormalSpec>url</FormalSpec>
<Language>javascript</Language>
<ClientMethod>1</ClientMethod>
<Implementation><![CDATA[
	// override: get state of navigator and save in cookie
	var stateStash = "nsstate."+this.ManageEnsemble+"."+this.NAMESPACE;
	var state = zen('finder').selectedList;

	// save state in cookie
	//YSD2535 document.cookie = 'state=' + escape(state);
	this.setCookieValue(stateStash,escape(state));
	
	//save Username so that we can compare the next time we login.
	this.setCookieValue('Username',escape(this.Username));
	
	if(url=="syncRebuild()") {
		this.syncRebuild();
	} else if(url=="resendUsersRoles()") {
		this.resendUsersRoles();
	} else {
		zenPage.gotoPage(url);
	}
]]></Implementation>
</Method>

<Method name="setSortModeHandler">
<Description>
Do the actual work of updating the view to match the current sort mode.</Description>
<FormalSpec>mode</FormalSpec>
<Language>javascript</Language>
<ClientMethod>1</ClientMethod>
<Implementation><![CDATA[
	// get new object graph
	zen('json').refreshContent();

	// update finder
	var finder = zen('finder');
	finder.update(true);

	this.showSearchResults(false);
]]></Implementation>
</Method>

<Method name="clearState">
<Description>
This method clears the 'state' cookie which indicates the last selection for the finderPane position on the SMP portal home.</Description>
<Language>javascript</Language>
<ClientMethod>1</ClientMethod>
<Implementation><![CDATA[
	document.cookie = 'state=; expires=Thu, 01-Jan-1970 00:00:01 GMT';
	return true;
]]></Implementation>
</Method>

<Method name="goHome">
<Description>
Go to the home page.</Description>
<Language>javascript</Language>
<ClientMethod>1</ClientMethod>
<Implementation><![CDATA[
	this.clearState();
	self.document.location = this.homePage;
	return false;
]]></Implementation>
</Method>

<Method name="searchBoxHandler">
<Description>
Change in search box value. Can be overridden by subclasses.</Description>
<FormalSpec>searchKey</FormalSpec>
<Language>javascript</Language>
<ClientMethod>1</ClientMethod>
<Implementation><![CDATA[
	this.searchKey = searchKey;
	if ('' != this.searchKey) {
		zen('searchResults').refreshContents();
		this.showSearchResults(true);
	}
	else {
		this.showSearchResults(false);
	}
]]></Implementation>
</Method>

<Method name="showSearchResults">
<Description>
Hide/show search results.</Description>
<FormalSpec>flag</FormalSpec>
<Language>javascript</Language>
<ClientMethod>1</ClientMethod>
<Implementation><![CDATA[
	if (flag) {
		zen('searchResults').setHidden(false);
		zen('finder').setHidden(true);
	}
	else {
		zen('searchResults').setHidden(true);
		zen('finder').setHidden(false);
	}
]]></Implementation>
</Method>

<Method name="DrawSearchResults">
<Description>
Draw contents of the search results panel.</Description>
<FormalSpec>pSeed:%String</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	Set tSC = $$$OK
	Try {
		&html<<div class="ndMain">>
		Set lblNoPriv = $$$TextHTML("You do not have privilege to view this page.")	
		Set msgSearch = $$$TextHTML("Search results for:")
		&html<<div class="ndMainSub" style="padding-bottom:5px;">>
		Write msgSearch,"&nbsp;<b><i>",$ZCVT(..searchKey,"O","HTML"),"</i></b>"
		&html<</div>>
		
		&html<<div class="ndMainSub">>
		Set tCount = 0
		If (..searchKey'="") {
			&html<<table class="searchTable" border="0" cellpadding="0" cellspacing="0">>
			Do ..%GetSearchResults($$$UPPER(..searchKey),.tResults)
			Set k = $O(tResults(""))
			While (k'="") {
				Set tCount = tCount + 1
				Set tLabel = $LG(tResults(k),1)
				Set tURL = $LG(tResults(k),2)
				Set tTitle = $LG(tResults(k),3)
				Set tCls = $S(tCount#2:"rowOdd",1:"rowEven")
				#;YSD2518 - do not build link if it failed custom resource check
				Set tDisabled = $LG(tResults(k),4)

				If 'tDisabled &html<<tr class="#(tCls)#"><td><a class="ndLink" href="#(tURL)#" >#($ZCVT(tLabel,"O","HTML"))#</a></td><td>#($ZCVT(tTitle,"O","HTML"))#</td></tr>>
				Else  &html<<tr class="#(tCls)#"><td title="#(lblNoPriv)#">#($ZCVT(tLabel,"O","HTML"))#</td><td title="#(lblNoPriv)#">#($ZCVT(tTitle,"O","HTML"))#</td></tr>>
				Set k = $O(tResults(k))
			}
			&html<</table>>
		}

		If (tCount = 0) {
			Write "<b>",$$$TextHTML("No items found"),"</b>"
		}

		&html<</div>>

		&html<<hr/>>

		Set msgClose = $$$TextHTML("Return to main menu")
		&html<<div class="ndMainSub">>
		&html<<a class="ndLink" href="#" onclick="zenPage.showSearchResults(false);return false;">#(msgClose)#</a>>
		&html<</div>>

		&html<</div>>
	}
	Catch(ex) {
		Set tSC = ex.AsStatus()
	}
	Quit tSC
]]></Implementation>
</Method>

<Method name="%GetSearchResults">
<Description>
Return an array of search results:
pResults(n) = $LB(name,url,title)</Description>
<FormalSpec>pSearchKey:%String,*pResults:%List</FormalSpec>
<Implementation><![CDATA[
	Do ..GetFinderArray(,,.tData)
	Do ..%ApplySearchToArray(pSearchKey,.tData,.pResults)
]]></Implementation>
</Method>

<Method name="%ApplySearchToArray">
<Description>
Walk down array; find elements containing search key.</Description>
<FormalSpec><![CDATA[pSearchKey:%String,&pArray,*pResults:%List]]></FormalSpec>
<Implementation><![CDATA[
	If (pSearchKey'="") {
		// split search key into words
		For p=1:1:$L(pSearchKey," ") {
			Set:$P(pSearchKey," ",p)'="" tTerms($$$UPPER($P(pSearchKey," ",p))) = ""
		}

		Set k = $O(pArray(""))
		While (k'="") {
			Set tURL = $LG(pArray(k),3)
			If (tURL'="") {
				Set tName = $LG(pArray(k),1)
				Set tTitle = $LG(pArray(k),6)
				Set tTags = $LG(pArray(k),9)
				Set tDisabled = +$LG(pArray(k),4)
			
				// test each term against tags
				Set tMatch = 0
				For p=1:1:$L(tTags,",") {
					If ($P(tTags,",",p)'="") {
						If $D(tTerms($$$UPPER($P(tTags,",",p)))) {
							Set tMatch = 1
							Quit
						}
					}
				}

				If (tMatch||($$$UPPER(tName)[pSearchKey)||($$$UPPER(tTitle)[pSearchKey)) {
					#;YSD2518 Set pResults($$$UPPER(tName)_":"_$I(pResults)) = $LB(tName,tURL,tTitle)
					Set pResults($$$UPPER(tName)_":"_$I(pResults)) = $LB(tName,tURL,tTitle,tDisabled)
				}
			}
			If ($D(pArray(k))>1) {
				// recurse
				Kill tArray
				Merge tArray = pArray(k)
				Do ..%ApplySearchToArray(pSearchKey,.tArray,.pResults)
			}
	
			Set k = $O(pArray(k))
		}
	}
]]></Implementation>
</Method>

<Method name="showSearchDropdown">
<Description>
Display the search results drop down.</Description>
<Language>javascript</Language>
<ClientMethod>1</ClientMethod>
<Implementation><![CDATA[
	this.searchLink = '';
	this.currDropdownIndex = -1;

	var sb = self.document.getElementById('searchBox');
	if (sb) {
		var group = zen('searchGroup').getEnclosingDiv();
		group.style.left = zenGetLeft(sb) - zenGetLeftScroll(sb);
		group.style.top = '0px';
		group.style.height = '100px';
		group.style.width = '100px';

		var dd = zen('searchDropDown');
		var enc = dd.getEnclosingDiv();
		enc.style.left = zenGetLeft(sb) - zenGetLeftScroll(sb);

		var dds = zen('searchDropDownShadow');
		var encs = dds.getEnclosingDiv();
		encs.style.left = zenGetLeft(sb) - zenGetLeftScroll(sb) + 2;

		if (zenIsIE) {
			// no shadow on IE!
			encs.style.display = 'none';
		}

		if (sb.value!='' && (sb.value.toString().length > 2)) {
			//dd.setHidden(false);
			dd.setProperty('seed',sb.value);
			//dds.setHidden(false);
			group.style.visibility = 'visible';
		}
		else {
			//dd.setHidden(true);
			//dds.setHidden(true);
			group.style.visibility = 'hidden';
		}
	}
]]></Implementation>
</Method>

<Method name="hideSearchDropdown">
<Description>
Display the search results drop down.</Description>
<Language>javascript</Language>
<ClientMethod>1</ClientMethod>
<Implementation><![CDATA[
	var group = zen('searchGroup').getEnclosingDiv();
	group.style.visibility = 'hidden';
	/*
	var dd = zen('searchDropDown');
	dd.setHidden(true);
	var dds = zen('searchDropDownShadow');
	dds.setHidden(true);
	*/
	zenPage.clearSearchTimer();
]]></Implementation>
</Method>

<Method name="startSearchTimer">
<Description>
Start the search timer.</Description>
<Language>javascript</Language>
<ClientMethod>1</ClientMethod>
<Implementation><![CDATA[
	zenPage.clearSearchTimer();
	zenPage._searchTimerId = self.setTimeout("zenPage.searchTimerHandler()",220);
]]></Implementation>
</Method>

<Method name="clearSearchTimer">
<Description>
Stop the search timer.</Description>
<Language>javascript</Language>
<ClientMethod>1</ClientMethod>
<Implementation><![CDATA[
	if (zenPage._searchTimerId) {
		self.clearTimeout(zenPage._searchTimerId);
		zenPage._searchTimerId = null;
	}
]]></Implementation>
</Method>

<Method name="searchTimerHandler">
<Description>
Action for search timer.</Description>
<Language>javascript</Language>
<ClientMethod>1</ClientMethod>
<Implementation><![CDATA[	zenPage.showSearchDropdown();
]]></Implementation>
</Method>

<Method name="searchKeyDown">
<Description>
Key down in search box (override).</Description>
<FormalSpec>evt</FormalSpec>
<Language>javascript</Language>
<ClientMethod>1</ClientMethod>
<Implementation><![CDATA[
	if (!zenIsIE) {
		return true;
	}

	evt = evt ? evt : event;
	var ctrl = self.document.getElementById('searchBox');
	if (!ctrl) return;

	switch(evt.keyCode) {
	case zenESC:
		zenPage.hideSearchDropdown();
		break;
	case zenDOWN:
		zenPage.searchBoxDown();
		break;
	case zenUP:
		zenPage.searchBoxUp();
		break;
	default:
		break;
	}

	return true;
]]></Implementation>
</Method>

<Method name="searchKeyPress">
<Description>
Key press in search box (override).</Description>
<FormalSpec>evt</FormalSpec>
<Language>javascript</Language>
<ClientMethod>1</ClientMethod>
<Implementation><![CDATA[
	evt = evt ? evt : event;
	var ctrl = self.document.getElementById('searchBox');
	if (!ctrl) return;

	switch(evt.keyCode) {
	case zenENTER:
		if (this.searchLink != '') {
			self.document.location = this.searchLink;
			return;
		}

		zenPage.hideSearchDropdown();
		zenPage.searchBoxHandler(ctrl.value);
		break;
	case zenESC:
		if (!zenIsIE) {
			zenPage.hideSearchDropdown();
		}
		break;
	case zenDOWN:
		if (!zenIsIE) {
			zenPage.searchBoxDown();
		}
		break;
	case zenUP:
		if (!zenIsIE) {
			zenPage.searchBoxUp();
		}
		break;
	default:
		// assume edit of value
		this.searchLink = '';
		zenPage.startSearchTimer();
		break;
	}
]]></Implementation>
</Method>

<Method name="searchFocus">
<Description>
Blur event in search box.</Description>
<FormalSpec>evt</FormalSpec>
<Language>javascript</Language>
<ClientMethod>1</ClientMethod>
</Method>

<Method name="searchBlur">
<Description>
Blur event in search box.</Description>
<FormalSpec>evt</FormalSpec>
<Language>javascript</Language>
<ClientMethod>1</ClientMethod>
<Implementation><![CDATA[	zenPage.hideSearchDropdown();
]]></Implementation>
</Method>

<Method name="searchBoxUp">
<Description>
Go to prev item in search box dropdown.</Description>
<Language>javascript</Language>
<ClientMethod>1</ClientMethod>
<Implementation><![CDATA[
	var dd = zen('searchDropDown');
	if (dd.getProperty('hidden')) {
		return;
	}

	if (this.currDropdownIndex > 0) {
		var el = self.document.getElementById('sbdd_' + this.currDropdownIndex);
		if (el) {
			el.style.color = '';
			el.style.background = '';
		}
		this.currDropdownIndex--;
		var el = self.document.getElementById('sbdd_' + this.currDropdownIndex);
		if (el) {
			el.style.color = 'white';
			el.style.background = 'rgb(53,107,141)';
			var sb = self.document.getElementById('searchBox');
			sb.value = el.getAttribute('searchValue');
			this.searchLink = el.href;
			zenScrollIntoView(zen('searchDropDown').getEnclosingDiv(),el);
		}
	}
]]></Implementation>
</Method>

<Method name="searchBoxDown">
<Description>
Go to next item in search box dropdown.</Description>
<Language>javascript</Language>
<ClientMethod>1</ClientMethod>
<Implementation><![CDATA[
	var sb = self.document.getElementById('searchBox');

	var dd = zen('searchDropDown');
	if (dd.getProperty('hidden')) {
		return;
	}
	var el = self.document.getElementById('sbdd_' + this.currDropdownIndex);
	var el2 = self.document.getElementById('sbdd_' + (this.currDropdownIndex+1));
	if (!el2) return;

	if (el) {
		el.style.color = '';
		el.style.background = '';
	}
	this.currDropdownIndex++;
	if (el2) {
		el2.style.color = 'white';
		el2.style.background = 'rgb(53,107,141)';
		var sb = self.document.getElementById('searchBox');
		sb.value = el2.getAttribute('searchValue');
		this.searchLink = el2.href;
		zenScrollIntoView(zen('searchDropDown').getEnclosingDiv(),el2);
	}
]]></Implementation>
</Method>

<Method name="DrawSearchDropDown">
<Description>
Draw contents of the search results dropdown.</Description>
<FormalSpec>pSeed:%String</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	Set tSC = $$$OK
	Try {
		&html<<div class="searchDropDownList">>

		Set tCount = 0
		If (pSeed'="") {
		&html<<table class="searchDropDownTable" border="0" cellpadding="0" cellspacing="0" width="100%">>
			Do ..%GetSearchResults($$$UPPER(pSeed),.tResults)
			Set k = $O(tResults(""))
			While (k'="") {
				Set tCount = tCount + 1
				Set tLabel = $LG(tResults(k),1)
				Set tURL = $LG(tResults(k),2)
				Set tTitle = $LG(tResults(k),3)
				Set tCls = $S(tCount#2:"rowOdd",1:"rowEven")

				&html<<tr class="#(tCls)#"><td><a id="sbdd_#(tCount-1)#" class="sdLink" title="#($ZCVT(tTitle,"O","HTML"))#" href="#(tURL)#" searchValue="#($ZCVT(tLabel,"O","HTML"))#" >#($ZCVT(tLabel,"O","HTML"))#</a></td></tr>>
				Set k = $O(tResults(k))
			}
			&html<</table>>
		}
		If (tCount = 0) {
			Write "<span style=""color:#606060;font-size:10pt;""><i>",$$$TextHTML("No items found"),"</i></span>"
		}

		&html<</div>>
	}
	Catch(ex) {
		Set tSC = ex.AsStatus()
	}
	Quit tSC
]]></Implementation>
</Method>

<Method name="getCookieValue">
<Description>
Generic method to get a cookie value. cookieName is the name, e.g. "state", cookieString is document.cookie.</Description>
<FormalSpec>cookieName,cookieString</FormalSpec>
<Language>javascript</Language>
<ReturnType>%String</ReturnType>
<ClientMethod>1</ClientMethod>
<Implementation><![CDATA[
	var startLoc = cookieString.indexOf(cookieName);
	if (startLoc == -1) return("");  // No such cookie
	var cookieArray = cookieString.split("; ");
	var returnValue = "";
	for (var n=0; n < cookieArray.length; n++) {
		startLoc = cookieArray[n].split("=");
		if (startLoc[0] == cookieName) {
			returnValue = startLoc[1];
			break;
		}
	}
   	return returnValue;
]]></Implementation>
</Method>

<Method name="setCookieValue">
<Description><![CDATA[
Generic method to set a cookie name and value pair.<br>
The expiration date is set to 2020 which is the same as in generic SMP pages, which should be changed before end of 2020.]]></Description>
<FormalSpec>cookieName,cookieValue</FormalSpec>
<Language>javascript</Language>
<ReturnType>%String</ReturnType>
<ClientMethod>1</ClientMethod>
<Implementation><![CDATA[
	var expires = '; expires=Thursday, 31-Dec-2020 23:59:59 GMT';
	document.cookie = cookieName + "=" + cookieValue + ";path=/;" + expires;
]]></Implementation>
</Method>

<Method name="DrawHSTitle">
<Description>
Draw the contents of the title area.
Dispatch to application class.</Description>
<Final>1</Final>
<FormalSpec>pSeed:%String</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	Set tSC = $$$OK
	Try {
		If $IsObject($G(%application)) {
 			i $ZS<$$$MAXBBSZ { d $ZU(163,$$$MAXBBSZ) }
 			Set tTitle=$$$Text("Welcome")_", "_$UserName
			Set tSC = %application.DrawHSTitle(tTitle,"Portal",..ManageEnsemble)
		}
		Else {
			&html<No Application Defined for Page!>
		}
	}
	Catch(ex) {
		Set tSC = ex.AsStatus()
	}
	Quit tSC
]]></Implementation>
</Method>

<Method name="BuildMenu">
<Description>
This method rebuilds context menu on the top left corner.</Description>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	#; Set the homePage and aboutPage links properly
	Set %page.aboutPage = ##class(%CSP.Page).Link("/csp/sys/UtilSysHome.csp")
	Set %page.homePage = ##class(%CSP.Page).Link(..#HOMEPAGE)
	Quit $$$OK
]]></Implementation>
</Method>

<Method name="goMenu">
<Description>
Go to the home page.</Description>
<FormalSpec>link</FormalSpec>
<Language>javascript</Language>
<ClientMethod>1</ClientMethod>
<Implementation><![CDATA[
	self.document.location = link;
	return false;
]]></Implementation>
</Method>

<Method name="showAbout">
<Description>
Go to the home page.</Description>
<Language>javascript</Language>
<ClientMethod>1</ClientMethod>
<Implementation><![CDATA[
	self.document.location = this.aboutPage;
	return false;
]]></Implementation>
</Method>

<Method name="logout">
<Description>
End the current session.</Description>
<Language>javascript</Language>
<ClientMethod>1</ClientMethod>
<Implementation><![CDATA[
	this.DoLogout();
	this.goHome();
	return false;
]]></Implementation>
</Method>

<Method name="DoLogout">
<ClassMethod>1</ClassMethod>
<ReturnType>%Boolean</ReturnType>
<ZenMethod>1</ZenMethod>
<Implementation><![CDATA[
	// Logout removes the security context from the session and cleans up login and security token cookies.
	// It calls OnLogout() and leaves the session in existence. 
	Do %session.Logout()
	// Causes OnEndSession() to be called and the session is destroyed
	Set %session.EndSession=1
	Quit 1
]]></Implementation>
</Method>

<Method name="getTitleAreaHeight">
<Description>
Return the height of the title area (titleBar plus locator).</Description>
<Language>javascript</Language>
<ClientMethod>1</ClientMethod>
<Implementation><![CDATA[
	var hgt = 0;
	try {
		var titleDiv = zen('title').getEnclosingDiv();
		// var locDiv = zen('locatorBar').getEnclosingDiv();
		var ribbonDiv = zen('toolRibbon').getEnclosingDiv();
		
		// hgt = titleDiv.offsetHeight + locDiv.offsetHeight + ribbonDiv.offsetHeight;
		hgt = titleDiv.offsetHeight + ribbonDiv.offsetHeight;
	}
	catch(ex) {
		zenExceptionHandler(ex,arguments,'Error in getTitleAreaHeight.');
	}
	
	return hgt;
]]></Implementation>
</Method>

<Method name="setViewMode">
<Description><![CDATA[
Change the current display mode for this page.
This is called by the icon buttons on the ribbon.
This will call the <method>setViewModeHandler</method> within a subclass.]]></Description>
<FormalSpec>mode</FormalSpec>
<Language>javascript</Language>
<ClientMethod>1</ClientMethod>
<Implementation><![CDATA[
	if (mode != this.currViewMode) {
		// update icon
		var el = self.document.getElementById('view_'+this.currViewMode);
		if (el) {
			el.className = 'viewIcon';
		}
		var oldmode = this.currViewMode;
		this.currViewMode = mode;
		var el = self.document.getElementById('view_'+this.currViewMode);
		if (el) {
			el.className = 'viewIconSelected';
			el._oldClass = 'viewIconSelected';
		}
		
		this.setViewModeHandler(mode,oldmode);
	}
]]></Implementation>
</Method>

<Method name="setViewModeHandler">
<Description>
Do the actual work of updating the view to match the current view mode.</Description>
<FormalSpec>mode,oldmode</FormalSpec>
<Language>javascript</Language>
<ClientMethod>1</ClientMethod>
<Implementation><![CDATA[
	// update finder
	var finder = zen('finder');
	if (finder) {
		finder.setViewType(this.currViewMode);
		//save viewMode to cookie
		this.setCookieValue('viewMode',this.currViewMode);
	}
	this.showSearchResults(false);
]]></Implementation>
</Method>

<Method name="setSortMode">
<Description>
Change the current sort mode for the page.</Description>
<FormalSpec>mode</FormalSpec>
<Language>javascript</Language>
<ClientMethod>1</ClientMethod>
<Implementation><![CDATA[
	if (mode != this.currSortMode) {
		var el = self.document.getElementById('sort_'+this.currSortMode);
		if (el) {
			el.className = 'ribbonSortOption';
		}
		this.currSortMode = mode;
		var el = self.document.getElementById('sort_'+this.currSortMode);
		if (el) {
			el.className = 'ribbonSortOptionSelected';
		}
		this.setSortModeHandler(mode);
	}
]]></Implementation>
</Method>

<Method name="startProductions">
<Description>
Start all Productions.</Description>
<Language>javascript</Language>
<ClientMethod>1</ClientMethod>
<Implementation><![CDATA[
	if (confirm($$$Text('Do you wish to start all Productions?'))) {
		zenPage.updateProductions('start');
	}
]]></Implementation>
</Method>

<Method name="stopProductions">
<Description>
Stop all Productions.</Description>
<Language>javascript</Language>
<ClientMethod>1</ClientMethod>
<Implementation><![CDATA[
	if (confirm($$$Text("Do you wish to stop all Productions?"))) {
		zenPage.updateProductions('stop');
	}
]]></Implementation>
</Method>

<Method name="updateProductions">
<FormalSpec>action</FormalSpec>
<Language>javascript</Language>
<ClientMethod>1</ClientMethod>
<Implementation><![CDATA[
	var parms = {
			ACTION: action
	};
	zenLaunchPopupWindow('HS.UI.StartStop.cls','UpdateProduction','status,scrollbars,resizable=yes,width=1000,height=700',parms);
]]></Implementation>
</Method>

<Method name="AddProductsMenu">
<Description>
Add any customized menu options for a product</Description>
<FormalSpec>args...</FormalSpec>
<Implementation><![CDATA[
	Set tSC = $$$OK
	Set tConfigItem = ##class(HS.Util.Installer.ConfigItem).%OpenId($namespace,0,.tSC)
	If $$$ISERR(tSC) {
		Quit tSC
	}
	Set tKey = ""
	For {
		Set tProduct = tConfigItem.Products.GetNext(.tKey)
		If (tKey = "") {
			Quit
		}
		If (tProduct = "HSLIB") {
			Set tContext("HSLIB") = 1
			Continue
		}
		Set tMenuClass = tConfigItem.GetUIMenuClass(tProduct)
		Try {
			// At this time, we are not going to require that the class extend HS.HC.Util.AbstractUIMenuClass
			If (tMenuClass '= "") {
				Set tSC = $classMethod(tMenuClass,"addMenu",args...)
			}
		}
		Catch ex {
			Set tSC = ex.AsStatus()
		}
		If $$$ISERR(tSC) {
			Quit
		}
	}
	Quit tSC
]]></Implementation>
</Method>
</Class>


<Class name="TCITK.UI.Postman">
<Super>%RegisteredObject</Super>
<TimeChanged>66027,17801.52398</TimeChanged>
<TimeCreated>66020,30369.679253</TimeCreated>

<Method name="GetJSON">
<ClassMethod>1</ClassMethod>
<FormalSpec>url,endpoint,action,fhirversion</FormalSpec>
<ReturnType>%String</ReturnType>
<Implementation><![CDATA[
	//w !, ##class(TCITK.UI.Postman).GetJSON("https://localhost/tcfhir/trakr4/Patient?family=Bliss&_format=json","/trakr4","patient search","r4")
	set guid=$System.Util.CreateGUID()
	//set url="https://192.168.2.151/tcfhir/trakr4/Patient?family=Bliss&given=Marcus"
	
	set protocol=$p(url,":",1)
	set host=$p(url,"/",3)
	set path=$p(url,"/",4,100)
	set template={
	"info": {
		"_postman_id": (guid),
		"filename":($replace($zconvert(fhirversion_""_endpoint_"_"_action,"l")," ","")_"_postman_collectionv2.json"),
		"name": ($zconvert(fhirversion_" "_endpoint_" "_action,"U")),
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	}
	,
	"auth": {
		"type": "basic",
		"basic": [
			{
				"key": "password",
				"value": "",
				"type": "string"
			},
			{
				"key": "username",
				"value": "superuser",
				"type": "string"
			}
		]
	}
	,
	"item": [
		{
			"name": (action),
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": (url),
					"protocol": (protocol),
					"host": [],
					"path": [],
					"query": []
				}
			},
			"response": []
		}
		]
	}
	
	
	for index = 1:1:$length(host,".") {
		do template.item.request.request.url.host.%Push( $p(host,".",index) )
	}
	
	set querystring=""
	
	for index = 1:1:$length(path,"/") {
		
		
		set urlpath=$p(path,"/",index)
		
		if $find(urlpath,"?")>0
		{
			set querystring=$p(urlpath,"?",2)
			set urlpath=$p(urlpath,"?",1)
		}
		
		do template.item.request.request.url.path.%Push( urlpath )
	}
	
	for index = 1:1:$length(querystring,"&") {
		
		set key=$p($p(querystring,"&",index),"=",1)
		set value=$p($p(querystring,"&",index),"=",2)
		
		if key'=""
		{
			do template.item.request.request.url.query.%Push( {"key":(key),"value":(value)} )
		}
	}
	
	
	 
	q template.%ToJSON()
]]></Implementation>
</Method>
</Class>


<Class name="TCITK.UI.Query">
<Super>%RegisteredObject</Super>
<TimeChanged>66020,16709.785862</TimeChanged>
<TimeCreated>66020,16709.785862</TimeCreated>

<Query name="FHIRSEndpointQuery">
<Type>%Query</Type>
<SqlProc>1</SqlProc>
<Parameter name="ROWSPEC" value="Endpoint"/>
</Query>

<Method name="FHIRSEndpointQueryExecute">
<ClassMethod>1</ClassMethod>
<FormalSpec><![CDATA[&qHandle:%Binary]]></FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
    set repid=$increment(^CacheTemp("TRAK"))
    set ind=1, END = 0, END1 = 0
  do ##class(%SYS.Namespace).ListAll(.result)
  set index=""
  for {	
		set index=$o(result(index))
		q:index=""
		 set id=index
		 set name=index
 		do ##class(TCITK.Utils).GetFHIREndpoints(index,.arrData)
 		set endpoint=""
 		for
 		{
	 		set endpoint=$o(arrData(endpoint))
	 		quit:endpoint=""
	 		set OAuthClient =$li(arrData(endpoint),3)
	 		continue:OAuthClient'=""
	 		set name=endpoint
	 		set ^CacheTemp("TRAK",repid,ind)=$lb(name)
 			set ind=ind+1		
 		} 
	}
    set qHandle=$listbuild(0,repid,0)
    QUIT $$$OK
]]></Implementation>
</Method>

<Method name="FHIRSEndpointQueryFetch">
<ClassMethod>1</ClassMethod>
<FormalSpec><![CDATA[&qHandle:%Binary,&Row:%List,&AtEnd:%Integer=0]]></FormalSpec>
<PlaceAfter>FHIRSEndpointQueryExecute</PlaceAfter>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
     // This fetch method should never have to change.
	// Restore QHandle
	set AtEnd=$list(qHandle,1)
	set repid=$list(qHandle,2)
	set ind=$list(qHandle,3)
	set ind=$order(^CacheTemp("TRAK",repid,ind))
	if ind="" {	// if there are no more rows, finish fetching
		set AtEnd=1
		set Row=""
	}  else  {	// fetch row
		set Row=^CacheTemp("TRAK",repid,ind)
	}
	// Save QHandle
	set qHandle=$listbuild(AtEnd,repid,ind)
        QUIT $$$OK
]]></Implementation>
</Method>

<Method name="FHIRSEndpointQueryClose">
<ClassMethod>1</ClassMethod>
<FormalSpec><![CDATA[&qHandle:%Binary]]></FormalSpec>
<PlaceAfter>FHIRSEndpointQueryExecute</PlaceAfter>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
        KILL qHandle   //probably not necesary as killed by the SQL Call framework
        QUIT $$$OK
]]></Implementation>
</Method>
</Class>


<Class name="TCITK.UI.SmartOnFHirApps">
<Description>
Define and manage FHIR CSP application behaviors that are not covered in CSP application maintenance.</Description>
<Super>TCITK.UI.Util</Super>
<TimeChanged>66014,46947.714727</TimeChanged>
<TimeCreated>65468,76707.179559</TimeCreated>

<Parameter name="APPLICATION">
<Description>
Class name of application this page belongs to.</Description>
<Default>TCITK.UI.Application</Default>
</Parameter>

<Parameter name="PAGENAME">
<Default>Smart Apps Setup</Default>
</Parameter>

<Parameter name="RESOURCE">
<Description>
Security requirement</Description>
<Default>%HSAdmin_InstallationManagement</Default>
</Parameter>

<Parameter name="FAVORITEICON">
<Type>COSEXPRESSION</Type>
<Default>$$$ISCFAVORITEICON</Default>
</Parameter>

<XData name="Style">
<Description>
This Style block contains page-specific CSS style definitions.</Description>
<Data><![CDATA[
<style type="text/css">
table.HSTitle {
	background: #80C9D1;
	width: 100%;
	padding: 0px;
	border-bottom: 2px solid #D7D3CA;
	font-size: 1.4em;
	text-align: center;
}

.labelTitle {
	color: black;
	font-size: 18px;
	font-weight: bold;
	text-decoration: none;
}
.linkBox {
	border: 1px solid black;
	margin:  5px;
	padding: 5px;
	width: 400px;	
}
.button {
	background: #D3E1EE;
	font-size: 12px;
	padding-bottom: 2px;
	width: 220px;
}
/* table */
#table {
	height: 20.0em;
	overflow: auto;
}
/* column header (th) */
table.tpTable th {
	border-right: 1px solid gray;
	border-bottom: 1px solid gray;
	background: #9CB0C8;
	color: black;
	font-weight: bold;
	text-align: left;
	padding: 2px;
}

.modalGroupBody {
	background: white;
	width: 600px ;
}

</style>
]]></Data>
</XData>

<XData name="Contents">
<Description>
This page display a welcome message and asks user if they want to start configure</Description>
<XMLNamespace>http://www.intersystems.com/zen</XMLNamespace>
<Data><![CDATA[
<page xmlns="http://www.intersystems.com/zen" title="#(%page.StdTitle)#">

<html id="titleBar" OnDrawContent="DrawTitle"/>
<spacer height="10"/>

<hgroup align="center">
<label id="idWelcome" label="You may start system configurations by clicking an option below:" hidden="false"/>
<hgroup id="idLicense" hidden="true">
<label label="License is not available. Please install and activate a license first." />
<link id="idLicenseLink" href="/csp/docbook/DocBook.UI.Page.cls?KEY=GSA_license#GSA_license_maintain_key" style="color:#336699;" caption="[Click here for Help.]"/>
</hgroup>
</hgroup>
<spacer height="4"/>
<vgroup id="idContent" align="center" cellAlign="center" groupClass="linkBox">
<button caption="Add Smart On FHIR App" enclosingClass="button" align="center" onclick="zenPage.newConfig();"  title="Click to Add Smart On FHIR Ap"/>
 
 </vgroup>

<spacer height="4"/>
 
<modalGroup id="mgAppConfig" groupTitle="Configure SMART APP">
<pane paneName="paneAppConfig" cellSize="stretch"/>
</modalGroup>
 
 
 
<vgroup id="id_Table" align="center" containerStyle="padding-left:20px;padding-right:20px;">
<tablePane id="table" caption="The following configurations have been defined"
		  queryClass="TCITK.Config.SmartOnFHIRApp"
		  queryName="ConfigQuery"
		  showQuery="false"
		  showZebra="true"
		  showValueInTooltip="true"
		  valueColumn="ID"
		  multiSelect="false"
		  width="100%"
		  >
		   
		<parameter value="B"/>
		<column colName="ID" hidden="true"  />
		<column colName="ClientID" header="Client ID" width="200" link="javascript:zenPage.editConfig('#(%query.ID)#');" />
		<column colName="Name" header="App Name" width="200"/>
		<column colName="Description" header="App Description" width="300"/>
		<column colName="LaunchURL" header="Launch URL"  />
		<column colName="RedirectURL" header="Redirect URL"  />

 	       <column linkCaption="Delete" link="javascript:zenPage.deleteConfig('#(%query.ID)#');" linkConfirm="Are you sure you want to delete this applicatin ?" width="80"/>

</tablePane>
</vgroup>
 </page>
]]></Data>
</XData>

<Method name="DrawTitle">
<FormalSpec>pSeed:%String</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	Set tTitle = $$$TextHTML("Installer Wizard")
	Set tSC = %application.DrawHSTitle(tTitle,"Installer")
	Quit $$$OK
]]></Implementation>
</Method>

<Method name="OldDrawTitle">
<ClassMethod>1</ClassMethod>
<FormalSpec>pSeed:%String</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	Set LOGOIMAGE1 = ##class(%CSP.Page).Link("/csp/hslib/images/logo-topl-healthshare_01.gif")
	Set LOGOIMAGE2 = ##class(%CSP.Page).Link("/csp/hslib/images/logo-topl-healthshare_02.gif")
	Set LOGOIMAGE3 = ##class(%CSP.Page).Link("/csp/hslib/images/logo-topl-healthshare_03.jpg")

	&html<
<table class="HSTitle" width="100%" border="0" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="205"><a href="http://www.intersystems.com/index.html"><img src="#(LOGOIMAGE1)#" alt="InterSystems HealthShare" width="205" height="78" border="0"></a></td>
    <td width="185"><a href="http://www.intersystems.com/index.html"><img src="#(LOGOIMAGE2)#" alt="Innovations" width="185" height="78" border="0"></a></td>
    <td width="370"><a href="http://www.intersystems.com/index.html"><img src="#(LOGOIMAGE3)#" alt="Health information exchange platform" width="370" height="78" border="0"></a></td>
    <td width="100%" align="right">
    &nbsp;&nbsp;
    </td>
    <td width="20">&nbsp;</td>
  </tr>
</table>	
	>
	Quit $$$OK
]]></Implementation>
</Method>

<Method name="newConfig">
<Language>javascript</Language>
<ClientMethod>1</ClientMethod>
<Implementation><![CDATA[
	zenPage.LoadSMARTApp("");
	zen('mgAppConfig').show('','','',200,300);
]]></Implementation>
</Method>

<Method name="editConfig">
<FormalSpec>id</FormalSpec>
<Language>javascript</Language>
<ClientMethod>1</ClientMethod>
<Implementation><![CDATA[
	zenPage.LoadSMARTApp(id);
	zen('mgAppConfig').show('','','',200,300);
]]></Implementation>
</Method>

<Method name="deleteConfig">
<FormalSpec>ID</FormalSpec>
<Language>javascript</Language>
<ClientMethod>1</ClientMethod>
<Implementation><![CDATA[
	zenPage.removeAppConfig(ID);
	var table = zenPage.getComponentById('table');
	table.refreshTable();
]]></Implementation>
</Method>

<Method name="removeAppConfig">
<FormalSpec>ID</FormalSpec>
<ZenMethod>1</ZenMethod>
<Implementation><![CDATA[
	do ##class(TCITK.Config.SmartOnFHIRApp).%DeleteId(ID)
	quit $$$OK
]]></Implementation>
</Method>

<Method name="onPopupAction">
<FormalSpec>popupName,action,value</FormalSpec>
<Language>javascript</Language>
<ClientMethod>1</ClientMethod>
<Implementation><![CDATA[
	var table = zenPage.getComponentById('table');
	table.refreshTable();
]]></Implementation>
</Method>

<XData name="paneAppConfig">
<XMLNamespace>http://www.intersystems.com/zen</XMLNamespace>
<Data><![CDATA[
<pane xmlns="http://www.intersystems.com/zen" labelPosition= "left">
<spacer height="10px"/>
<vgroup labelClass="lblNormal" labelPosition="left" enclosingStyle="padding:4px;">
<label enclosingStyle="font-size:14px;color:black;font-weight:bold;padding-bottom:4px" value="App Configuration"/>
<text id="ID" label="ID: " size="20" labelClass="lblNormal" 
	onchange="zenPage.changeHMFName();"
	title=""
	hidden="true"
	/>

<text id="ClientID" label="Client ID: " size="20" labelClass="lblNormal" 
	onchange="zenPage.changeHMFName();"
	title="Enter App Client ID"
	/>
<text id="AppName" label="App Name: " size="20" labelClass="lblNormal" 
	onchange="zenPage.changeHMFName();"
	title="Enter App Name"
	/>
<text id="AppDescription" label="App Description: " size="30" labelClass="lblNormal" 
	onchange="zenPage.changeHMFName();"
	title="Enter App Description"
	/>	
	
<text id="LaunchURL" label="Launch URL: " size="50" labelClass="lblNormal" 
	onchange="zenPage.changeHMFName();"
	title="Enter Launch URL"
	/>	
 <text id="RedirectURL" label="Redirect URL: " size="50" labelClass="lblNormal" 
	onchange="zenPage.changeHMFName();"
	title="Enter Redirect URL"
	/>	


</vgroup>
<hgroup cellAlign="left">
<button caption="Save" onclick="zenPage.saveAppConfig();"/>
<spacer width="10px"/>
<button caption="Cancel" width="50px" onclick="zenPage.endModal();"/>
<spacer height="7px"/>
</hgroup>
</pane>
]]></Data>
</XData>

<Method name="changeHMFName">
<Description>
User changed SSL Info for the Hub. Construct SSL Root end point. This will only be possible if config has never been activated.</Description>
<Language>javascript</Language>
<ClientMethod>1</ClientMethod>
</Method>

<Method name="LoadSMARTApp">
<FormalSpec>clientid=""</FormalSpec>
<ZenMethod>1</ZenMethod>
<Implementation><![CDATA[
	 
	set obj=##class(TCITK.Config.SmartOnFHIRApp).%OpenId(clientid)
	if obj'=""
	{ 
		 
		Set ..%GetComponentById("ID").value = obj.ClientID
		Set ..%GetComponentById("ClientID").value = obj.ClientID
		Set ..%GetComponentById("AppName").value = obj.Name
		Set ..%GetComponentById("AppDescription").value = obj.Description
		Set ..%GetComponentById("RedirectURL").value = obj.RedirectURL
 		Set ..%GetComponentById("LaunchURL").value = obj.LaunchURL
	}
	else
	{
		Set ..%GetComponentById("ID").value = ""
		Set ..%GetComponentById("ClientID").value = ""
		Set ..%GetComponentById("AppName").value = ""
		Set ..%GetComponentById("AppDescription").value = ""
		Set ..%GetComponentById("RedirectURL").value = ""
		Set ..%GetComponentById("LaunchURL").value = ""
	}
]]></Implementation>
</Method>

<Method name="saveAppConfig">
<Language>javascript</Language>
<ClientMethod>1</ClientMethod>
<Implementation><![CDATA[
	var ID = zenPage.getComponentById("ID").getValue();
	var ClientID = zenPage.getComponentById("ClientID").getValue();
	var AppName = zenPage.getComponentById("AppName").getValue();
	var AppDescription = zenPage.getComponentById("AppDescription").getValue();
	var RedirectURL = zenPage.getComponentById("RedirectURL").getValue();
	var LaunchURL = zenPage.getComponentById("LaunchURL").getValue();
	zenPage.storeAppConfig(ID,ClientID,AppName,AppDescription,RedirectURL,LaunchURL);
	
	var table = zenPage.getComponentById('table');
	table.refreshTable();
	
	zenPage.endModal();
]]></Implementation>
</Method>

<Method name="storeAppConfig">
<FormalSpec>ID,ClientID,AppName,AppDescription,RedirectURL,LaunchURL</FormalSpec>
<ZenMethod>1</ZenMethod>
<Implementation><![CDATA[
	if ID=""
	{
		set obj=##class(TCITK.Config.SmartOnFHIRApp).%New()
	}
	else
	{
		set obj=##class(TCITK.Config.SmartOnFHIRApp).%OpenId(ID)
	}
	set obj.ClientID=ClientID
	set obj.Name=AppName
	set obj.Description=AppDescription
	set obj.RedirectURL=RedirectURL
	set obj.LaunchURL=LaunchURL
	set result= obj.%Save()
	 
	do ##class(TCITK.Utils).UpdateSmartAppClient(ClientID)
	
	Quit
]]></Implementation>
</Method>

<Method name="%OnAfterCreatePage">
<Description>
If license is not in place, show message and hide everything.</Description>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	Set LicenseLink = ##class(%CSP.Page).Link("/csp/docbook/DocBook.UI.Page.cls?KEY=GSA_license#GSA_license_maintain_key")
	Set ..%GetComponentById("idLicenseLink").href = LicenseLink
	If $System.License.KeyOrderNumber() = 0 {
		Set ..%GetComponentById("idWelcome").hidden = 1
		Set ..%GetComponentById("idContent").hidden = 1
		Set ..%GetComponentById("id_Table").hidden = 1
		Set ..%GetComponentById("idLicense").hidden = 0
	} Else {
		Set ..%GetComponentById("idWelcome").hidden = 0
		Set ..%GetComponentById("idContent").hidden = 0
		Set ..%GetComponentById("id_Table").hidden = 0
		Set ..%GetComponentById("idLicense").hidden = 1		
	}
	// Initialize the SSL Configuration Pane
	
 
 
 
	
 
	
	
	Quit $$$OK
]]></Implementation>
</Method>

<Method name="onloadHandler">
<Description>
When the page is loaded, put cursor where it belongs.</Description>
<Language>javascript</Language>
<ClientMethod>1</ClientMethod>
<Implementation><![CDATA[	zenPage.changeHMFName();
]]></Implementation>
</Method>
</Class>


<Class name="TCITK.UI.SmartOnFHirAppsTest">
<Description>
Define and manage FHIR CSP application behaviors that are not covered in CSP application maintenance.</Description>
<Super>TCITK.UI.Util</Super>
<TimeChanged>66014,48380.939253</TimeChanged>
<TimeCreated>65468,76707.179559</TimeCreated>

<Parameter name="APPLICATION">
<Description>
Class name of application this page belongs to.</Description>
<Default>TCITK.UI.Application</Default>
</Parameter>

<Parameter name="PAGENAME">
<Default>Smart On FHIR Apps Test</Default>
</Parameter>

<Parameter name="RESOURCE">
<Description>
Security requirement</Description>
<Default>%HSAdmin_InstallationManagement</Default>
</Parameter>

<Parameter name="FAVORITEICON">
<Type>COSEXPRESSION</Type>
<Default>$$$ISCFAVORITEICON</Default>
</Parameter>

<XData name="Style">
<Description>
This Style block contains page-specific CSS style definitions.</Description>
<Data><![CDATA[
<style type="text/css">
table.HSTitle {
	background: #80C9D1;
	width: 100%;
	padding: 0px;
	border-bottom: 2px solid #D7D3CA;
	font-size: 1.4em;
	text-align: center;
}

.labelTitle {
	color: black;
	font-size: 18px;
	font-weight: bold;
	text-decoration: none;
}
.linkBox {
	border: 1px solid black;
	margin:  5px;
	padding: 5px;
	width: 400px;	
}
.button {
	background: #D3E1EE;
	font-size: 12px;
	padding-bottom: 2px;
	width: 220px;
}
/* table */
#table {
	height: 20.0em;
	overflow: auto;
}
/* column header (th) */
table.tpTable th {
	border-right: 1px solid gray;
	border-bottom: 1px solid gray;
	background: #9CB0C8;
	color: black;
	font-weight: bold;
	text-align: left;
	padding: 2px;
}

.modalGroupBody {
	background: white;
	width: 600px ;
}

</style>
]]></Data>
</XData>

<XData name="Contents">
<Description>
This page display a welcome message and asks user if they want to start configure</Description>
<XMLNamespace>http://www.intersystems.com/zen</XMLNamespace>
<Data><![CDATA[
<page xmlns="http://www.intersystems.com/zen" title="#(%page.StdTitle)#">

<html id="titleBar" OnDrawContent="DrawTitle"/>

<form width="75%" layout="vertical" cellStyle="padding: 2px;" groupStyle="padding-left:10px;" labelPosition="left" enctype="multipart/form-data">
<spacer width="15" />
<label value="Test SMART Apps" />
<spacer width="15" />
<dataCombo id="cmbEndpoint" size='70' label="FHIR EndPoint: *" labelClass="caption"
	editable="false"
	searchKeyLen="10"
	OnCreateResultSet="CreateFHIRSOAuth2RS"
	title = "Oauth2 endpoint  will be passed to smart on fhir app"
	value="/tcfhir/trakdstu2/oauth2"
	>
	<parameter/>
</dataCombo>



<spacer width="5" />

<dataCombo id="cmbSmartApp" size='50' label="Smart App: *" labelClass="caption"
	editable="false"
	searchKeyLen="10"
	OnCreateResultSet="CreateSmartAppRS"
	title = "smart of fhir app"
	value="SMART.GrowthChart"
	>
	<parameter/>
</dataCombo>

<spacer width="5" />
<text label="Patient MRN:*" id="txtMRN" size="30" tabIndex="15" value="DEMO" title="patient MRN will be passed to smart on fhir app" />
<spacer height="5"/>
 

<button id="btnSend" caption=" Generate SMART App Launch Link  " onclick="zenPage.Send()" />

<spacer height="10"/>


 
 
 
</form>
<vgroup labelClass="lblNormal" labelPosition="left" enclosingStyle="padding:30px;">
	<link id="smartAppLink" caption="" href="#" target="_blank" />
 </vgroup>
 </page>
]]></Data>
</XData>

<Method name="DrawTitle">
<FormalSpec>pSeed:%String</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	Set tTitle = $$$TextHTML("Installer Wizard")
	Set tSC = %application.DrawHSTitle(tTitle,"Installer")
	Quit $$$OK
]]></Implementation>
</Method>

<Method name="OldDrawTitle">
<ClassMethod>1</ClassMethod>
<FormalSpec>pSeed:%String</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	Set LOGOIMAGE1 = ##class(%CSP.Page).Link("/csp/hslib/images/logo-topl-healthshare_01.gif")
	Set LOGOIMAGE2 = ##class(%CSP.Page).Link("/csp/hslib/images/logo-topl-healthshare_02.gif")
	Set LOGOIMAGE3 = ##class(%CSP.Page).Link("/csp/hslib/images/logo-topl-healthshare_03.jpg")

	&html<
<table class="HSTitle" width="100%" border="0" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="205"><a href="http://www.intersystems.com/index.html"><img src="#(LOGOIMAGE1)#" alt="InterSystems HealthShare" width="205" height="78" border="0"></a></td>
    <td width="185"><a href="http://www.intersystems.com/index.html"><img src="#(LOGOIMAGE2)#" alt="Innovations" width="185" height="78" border="0"></a></td>
    <td width="370"><a href="http://www.intersystems.com/index.html"><img src="#(LOGOIMAGE3)#" alt="Health information exchange platform" width="370" height="78" border="0"></a></td>
    <td width="100%" align="right">
    &nbsp;&nbsp;
    </td>
    <td width="20">&nbsp;</td>
  </tr>
</table>	
	>
	Quit $$$OK
]]></Implementation>
</Method>

<Method name="Send">
<ZenMethod>1</ZenMethod>
<Implementation><![CDATA[
	set tSC=$$$OK
	
	Set tEndpoint = %page.%GetValueById("cmbEndpoint")
	If tEndpoint="" &js<alert('Please choose end point')> Quit
	 
		
	Set tSmartApp = %page.%GetValueById("cmbSmartApp")
	If tSmartApp="" &js<alert('Please choose SMART App')> Quit
		
	Set tMRN= %page.%GetValueById("txtMRN")
	If tMRN="" &js<alert('Please enter MRN')> Quit
	
	&sql(select clientid into :clientid from TCITK_Config.SmartOnFHIRApp where name=:tSmartApp)
	
	set obj=##class(TCITK.Config.SmartOnFHIRApp).%OpenId(clientid)
	set tAppUrl=obj.LaunchURL
	
	set tFHIRUrl="https://localhost"_tEndpoint
	set tAppScope="launch patient/*.*"
	set tSMARTOAuth2Client = "OAuth2Client"

	set tURL=##class(TC.hmf.FHIR.Installer.FHIR).GetSMARTURL(tFHIRUrl,tAppUrl,tAppScope,tSMARTOAuth2Client,tMRN,tSmartApp)
	
	Set ..%GetComponentById("smartAppLink").title = "click to open the smart app"
	Set ..%GetComponentById("smartAppLink").caption = "  "_tURL
	Set ..%GetComponentById("smartAppLink").href = tURL
	
 
	
	if $$$ISERR(tSC) { &js<alert('#($system.Status.GetOneErrorText(tSC))#')> }
]]></Implementation>
</Method>

<Method name="%OnAfterCreatePage">
<Description>
If license is not in place, show message and hide everything.</Description>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	 
	
	
	Quit $$$OK
]]></Implementation>
</Method>

<Method name="onloadHandler">
<Description>
When the page is loaded, put cursor where it belongs.</Description>
<Language>javascript</Language>
<ClientMethod>1</ClientMethod>
</Method>

<Method name="CreateFHIRSOAuth2RS">
<FormalSpec>*tSC:%Status,pInfo:%ZEN.Auxiliary.QueryInfo</FormalSpec>
<ReturnType>%ResultSet</ReturnType>
<Implementation><![CDATA[
	Set tSQL="call TCITK_UI.SmartOnFHirAppsTest_OAuth2EndpointQuery() "
	Set tRS= ##class(%SQL.Statement).%ExecDirect("",tSQL)
	Set tSC=$S(tRS.SQLCODE=0:$$$OK,1:$$$ERROR($$$GeneralError,"SQLCODE:"_tRS.SQLCODE))
    	Set pInfo.queryExecuted=1
	Quit tRS
]]></Implementation>
</Method>

<Method name="CreateSmartAppRS">
<FormalSpec>*tSC:%Status,pInfo:%ZEN.Auxiliary.QueryInfo</FormalSpec>
<ReturnType>%ResultSet</ReturnType>
<Implementation><![CDATA[
	Set tSQL=" SELECT Name FROM TCITK_Config.SmartOnFHIRApp order by name "
	Set tRS= ##class(%SQL.Statement).%ExecDirect("",tSQL)
	Set tSC=$S(tRS.SQLCODE=0:$$$OK,1:$$$ERROR($$$GeneralError,"SQLCODE:"_tRS.SQLCODE))
    	Set pInfo.queryExecuted=1
	Quit tRS
]]></Implementation>
</Method>

<Query name="OAuth2EndpointQuery">
<Type>%Query</Type>
<SqlProc>1</SqlProc>
<Parameter name="ROWSPEC" value="Endpoint"/>
</Query>

<Method name="OAuth2EndpointQueryExecute">
<ClassMethod>1</ClassMethod>
<FormalSpec><![CDATA[&qHandle:%Binary]]></FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
    set repid=$increment(^CacheTemp("TRAK"))
    set ind=1, END = 0, END1 = 0
  do ##class(%SYS.Namespace).ListAll(.result)
  set index=""
  for {	
		set index=$o(result(index))
		q:index=""
		 set id=index
		 set name=index
 		do ##class(TCITK.Utils).GetFHIREndpoints(index,.arrData)
 		set endpoint=""
 		for
 		{
	 		set endpoint=$o(arrData(endpoint))
	 		quit:endpoint=""
	 		set OAuthClient =$li(arrData(endpoint),3)
	 		continue:OAuthClient=""
	 		set name=endpoint
	 		set ^CacheTemp("TRAK",repid,ind)=$lb(name)
 			set ind=ind+1		
 		} 
	}
    set qHandle=$listbuild(0,repid,0)
    QUIT $$$OK
]]></Implementation>
</Method>

<Method name="OAuth2EndpointQueryFetch">
<ClassMethod>1</ClassMethod>
<FormalSpec><![CDATA[&qHandle:%Binary,&Row:%List,&AtEnd:%Integer=0]]></FormalSpec>
<PlaceAfter>OAuth2EndpointQueryExecute</PlaceAfter>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
     // This fetch method should never have to change.
	// Restore QHandle
	set AtEnd=$list(qHandle,1)
	set repid=$list(qHandle,2)
	set ind=$list(qHandle,3)
	set ind=$order(^CacheTemp("TRAK",repid,ind))
	if ind="" {	// if there are no more rows, finish fetching
		set AtEnd=1
		set Row=""
	}  else  {	// fetch row
		set Row=^CacheTemp("TRAK",repid,ind)
	}
	// Save QHandle
	set qHandle=$listbuild(AtEnd,repid,ind)
        QUIT $$$OK
]]></Implementation>
</Method>

<Method name="OAuth2EndpointQueryClose">
<ClassMethod>1</ClassMethod>
<FormalSpec><![CDATA[&qHandle:%Binary]]></FormalSpec>
<PlaceAfter>OAuth2EndpointQueryExecute</PlaceAfter>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
        KILL qHandle   //probably not necesary as killed by the SQL Call framework
        QUIT $$$OK
]]></Implementation>
</Method>
</Class>


<Class name="TCITK.UI.TCAPI.InpatientList">
<Description>
Define and manage FHIR CSP application behaviors that are not covered in CSP application maintenance.</Description>
<Super>TCITK.UI.Util</Super>
<TimeChanged>66027,32681.681182</TimeChanged>
<TimeCreated>65468,76707.179559</TimeCreated>

<Parameter name="APPLICATION">
<Description>
Class name of application this page belongs to.</Description>
<Default>TCITK.UI.Application</Default>
</Parameter>

<Parameter name="PAGENAME">
<Default>Smart On FHIR Apps Test</Default>
</Parameter>

<Parameter name="RESOURCE">
<Description>
Security requirement</Description>
<Default>%HSAdmin_InstallationManagement</Default>
</Parameter>

<Parameter name="FAVORITEICON">
<Type>COSEXPRESSION</Type>
<Default>$$$ISCFAVORITEICON</Default>
</Parameter>

<XData name="Style">
<Description>
This Style block contains page-specific CSS style definitions.</Description>
<Data><![CDATA[
<style type="text/css">
table.HSTitle {
	background: #80C9D1;
	width: 100%;
	padding: 0px;
	border-bottom: 2px solid #D7D3CA;
	font-size: 1.4em;
	text-align: center;
}

.labelTitle {
	color: black;
	font-size: 18px;
	font-weight: bold;
	text-decoration: none;
}
.linkBox {
	border: 1px solid black;
	margin:  5px;
	padding: 5px;
	width: 400px;	
}
.button {
	background: #D3E1EE;
	font-size: 12px;
	padding-bottom: 2px;
	width: 220px;
}
/* table */
#table {
	height: 20.0em;
	overflow: auto;
}
/* column header (th) */
table.tpTable th {
	border-right: 1px solid gray;
	border-bottom: 1px solid gray;
	background: #9CB0C8;
	color: black;
	font-weight: bold;
	text-align: left;
	padding: 2px;
}

.modalGroupBody {
	background: white;
	width: 600px ;
}

</style>
]]></Data>
</XData>

<XData name="Contents">
<Description>
This page display a welcome message and asks user if they want to start configure</Description>
<XMLNamespace>http://www.intersystems.com/zen</XMLNamespace>
<Data><![CDATA[
<page xmlns="http://www.intersystems.com/zen" title="#(%page.StdTitle)#">


<form width="75%" layout="vertical" cellStyle="padding: 2px;" groupStyle="padding-left:10px;" labelPosition="left" enctype="multipart/form-data">
<spacer height="10"/>

 
<dataCombo id="cmbEndpoint" size='70' label="FHIR EndPoint: *" labelClass="caption"
	editable="false"
	searchKeyLen="10"
	OnCreateResultSet="CreateFHIRSEndpointRS"
	title = "Oauth2 endpoint  will be passed to smart on fhir app"
	value="/tcfhir/trakr4"
	>
	<parameter/>
</dataCombo>
<spacer height="10"/>

<hgroup cellAlign="left">
<button id="btnSend" caption="Load Inpatient List" onclick="zenPage.refreshTable()" />
</hgroup>

<spacer height="10"/>


<link id="linkTrace" caption="API Visual Trace" href="#" target="_blank" disabled="true"    />

<spacer height="10"/>


</form>
  <vgroup id="id_Table" align="center"  >
  <tableNavigatorBar tablePaneId="table" showPageSize="true"  />
<tablePane id="table" caption="Inpatient List"  

 	
		  queryClass="TCITK.UI.APIQuery"
		  queryName="InpatientListQuery"
		  showQuery="false"
		  showZebra="true"
		  showValueInTooltip="true"
		  valueColumn="MRN"
		  multiSelect="false"
		  width="100%"
		  showFilters="true"
		  pageSize="12"
		  maxRows="1000"
		useSnapshot="true"
		  >
		   
		<parameter value="endpoint"/>
		<parameter value="maxcount"/>
		<parameter value="traceid"/>
		
		<column colName="ID" hidden="true"  />
		<column colName="MRN" header="MRN" width="100"/>
		<column colName="GivenName" header="Given Name" width="100"/>
		<column colName="MiddleName" header="Middle Name"   width="100" />
		<column colName="FamilyName" header="Family Name"  width="100" />
		<column colName="Gender" header="Gender"  width="100" />
		<column colName="DateOfBirth" header="Date Of Birth"  width="100"  />
		
 	       <column linkCaption="Load In FHIR Repostory" link="javascript:zenPage.loadPatient('#(%query.MRN)#');"  width="150"/>

</tablePane>
</vgroup>
 
 <!--
 <hgroup cellAlign="left">
<button id="btnSendAll" caption=" Load All Inpatients in FHIR" onclick="zenPage.loadPatient('')" />
 
 
</hgroup>
 -->

 </page>
]]></Data>
</XData>

<Method name="refreshTable">
<Language>javascript</Language>
<ClientMethod>1</ClientMethod>
<Implementation><![CDATA[
	try {
		var table = zenPage.getComponentById('table');
		var tEndPoint=zenPage.getComponentById("cmbEndpoint").getValue();
		var traceid=zenPage.GetTraceID();
		
		table.parameters[0].value = tEndPoint;
		table.parameters[1].value = 200;
		table.parameters[2].value = traceid;
		
		table.executeQuery();
		
		var baseURL=window.location.protocol+"//"+window.location.hostname;
		if (window.location.port=="")
		{}
		else
		{
			baseURL=baseURL+":"+window.location.port;	
		}
		zenPage.ShowSessionLink(baseURL,traceid);
		
	} catch (ex) {
		alert("Error: " + ex);	
	}
]]></Implementation>
</Method>

<Method name="GetTraceID">
<ReturnType>%String</ReturnType>
<ZenMethod>1</ZenMethod>
<Implementation><![CDATA[	q $System.Util.CreateGUID()
]]></Implementation>
</Method>

<Method name="ShowSessionLink">
<FormalSpec>baseurl,traceid</FormalSpec>
<ReturnType>%String</ReturnType>
<ZenMethod>1</ZenMethod>
<Implementation><![CDATA[
	set tURL=baseurl_$g(^zTrace(traceid,"sessionurl") )
	Set ..%GetComponentById("linkTrace").title = tURL
	Set ..%GetComponentById("linkTrace").href = "#"
	Set ..%GetComponentById("linkTrace").onclick = "javascript:zenPage.openVisualTrace('"_tURL_"')"
	Set ..%GetComponentById("linkTrace").disabled = 0
	Set ..%GetComponentById("linkTrace").target = "_blank"
	
	q 1
]]></Implementation>
</Method>

<Method name="openVisualTrace">
<FormalSpec>url=""</FormalSpec>
<Language>javascript</Language>
<ClientMethod>1</ClientMethod>
<Implementation><![CDATA[	window.open(url);
]]></Implementation>
</Method>

<Method name="DrawTitle">
<FormalSpec>pSeed:%String</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	Set tTitle = $$$TextHTML("Installer Wizard")
	Set tSC = %application.DrawHSTitle(tTitle,"Installer")
	Quit $$$OK
]]></Implementation>
</Method>

<Method name="OldDrawTitle">
<ClassMethod>1</ClassMethod>
<FormalSpec>pSeed:%String</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	Set LOGOIMAGE1 = ##class(%CSP.Page).Link("/csp/hslib/images/logo-topl-healthshare_01.gif")
	Set LOGOIMAGE2 = ##class(%CSP.Page).Link("/csp/hslib/images/logo-topl-healthshare_02.gif")
	Set LOGOIMAGE3 = ##class(%CSP.Page).Link("/csp/hslib/images/logo-topl-healthshare_03.jpg")

	&html<
<table class="HSTitle" width="100%" border="0" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="205"><a href="http://www.intersystems.com/index.html"><img src="#(LOGOIMAGE1)#" alt="InterSystems HealthShare" width="205" height="78" border="0"></a></td>
    <td width="185"><a href="http://www.intersystems.com/index.html"><img src="#(LOGOIMAGE2)#" alt="Innovations" width="185" height="78" border="0"></a></td>
    <td width="370"><a href="http://www.intersystems.com/index.html"><img src="#(LOGOIMAGE3)#" alt="Health information exchange platform" width="370" height="78" border="0"></a></td>
    <td width="100%" align="right">
    &nbsp;&nbsp;
    </td>
    <td width="20">&nbsp;</td>
  </tr>
</table>	
	>
	Quit $$$OK
]]></Implementation>
</Method>

<Method name="SendToFHIR">
<FormalSpec>MRN</FormalSpec>
<ReturnType>%String</ReturnType>
<ZenMethod>1</ZenMethod>
<Implementation><![CDATA[
	set tSC=$$$OK
	Set tEndpoint = %page.%GetValueById("cmbEndpoint")
	If tEndpoint="" &js<alert('Please choose end point')> Quit
	set tEndpointNamespace=##class(TCITK.Utils).GetEndpointNamespace(tEndpoint)  	
	
	if MRN'=""
	{
		// send as job to avoid delay 
		job ..SendPatientToFHIR(tEndpointNamespace,MRN)
	}
	else
	{
		// send as job to avoid delay 
		job ..SendAllInpatientToFHIR(tEndpointNamespace)
		
	}
	
	 
 	quit 1
]]></Implementation>
</Method>

<Method name="loadPatient">
<FormalSpec>MRN=""</FormalSpec>
<Language>javascript</Language>
<ClientMethod>1</ClientMethod>
<Implementation><![CDATA[
	var endpoint=zenPage.getComponentById("cmbEndpoint").getValue();
	
	if (MRN=="")
	{
		if (confirm ("Do you want to load All Current Inpatients (Demographics & Encounters ) in FHIR Endpoint:"+endpoint))
		{
			zenPage.SendToFHIR(MRN);
			alert("Done");
		}
		
	}
	else
	{
		if (confirm ("Do you want to load MRN:"+MRN+" (Demographics & Encounters ) in FHIR Endpoint:"+endpoint))
		{
			zenPage.SendToFHIR(MRN);
			alert("Done");
		}
	}
]]></Implementation>
</Method>

<Method name="formatXml">
<FormalSpec>xml,tab</FormalSpec>
<Language>javascript</Language>
<ClientMethod>1</ClientMethod>
<Implementation><![CDATA[
 // tab = optional indent value, default is tab (\t)
    var formatted = '', indent= '';
    tab = tab || '\t';
    xml.split(/>\s*</).forEach(function(node) {
        if (node.match( /^\/\w/ )) indent = indent.substring(tab.length); // decrease indent by one 'tab'
        formatted += indent + '<' + node + '>\r\n';
        if (node.match( /^<?\w[^>]*[^\/]$/ )) indent += tab;              // increase indent
    });
    return formatted.substring(1, formatted.length-3);
]]></Implementation>
</Method>

<Method name="%OnAfterCreatePage">
<Description>
If license is not in place, show message and hide everything.</Description>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
 
 	
 
	
	Quit $$$OK
]]></Implementation>
</Method>

<Method name="onloadHandler">
<Description>
When the page is loaded, put cursor where it belongs.</Description>
<Language>javascript</Language>
<ClientMethod>1</ClientMethod>
<Implementation><![CDATA[
	
		var table = zenPage.getComponentById('table');
		table.parameters[0].value = "";
		table.parameters[1].value = 0;
		table.parameters[2].value = "";
		table.executeQuery();
]]></Implementation>
</Method>

<Method name="SendPatientToFHIR">
<ClassMethod>1</ClassMethod>
<FormalSpec>namespace,MRN</FormalSpec>
<Implementation><![CDATA[
	
	zn namespace
	set sc=##class(Ens.Director).CreateBusinessService("FHIRRouter.Service",.tTRAKService)
	 set tTRAKRequest=##class(HS.Message.ECRQueryRequest).%New()
    	set tTRAKRequest.MPIID=MRN
    	set tTRAKRequest.MRN=MRN
    	do tTRAKRequest.AdditionalInfo.SetAt("Encounter,Patient","EnabledSegmentData")
    	set sc=tTRAKService.SendECRQuery(tTRAKRequest,.tTRAKResponse)
]]></Implementation>
</Method>

<Method name="SendAllInpatientToFHIR">
<ClassMethod>1</ClassMethod>
<FormalSpec>namespace</FormalSpec>
<Implementation><![CDATA[
	set currentNS = $Namespace
	zn namespace
	set sc=##class(Ens.Director).CreateBusinessService("TCAPI.Service",.tAPIService)
	set sc=##class(Ens.Director).CreateBusinessService("FHIRRouter.Service",.tTRAKService)
	set tRequest=##class(TrakCare.WebServices.SYSAPI.Production.Request.PAPersonListExecuteQueryRequest).%New()
	set tRequest.params.MAXCOUNT=100
	set tRequest.params.hiddenFlag="On^^^^^^^^On" // inpatient only
	// Process the input and get the output
	#Dim tResponse as TrakCare.WebServices.SYSAPI.Production.Response.PAPersonListExecuteQueryResponse
	set sc=tAPIService.SendAPI(tRequest,.tResponse)
	if (sc=$$$OK)
	{	
		set count=tResponse.PAPersonListExecuteQueryResult.Count()
		FOR index=1:1:count {
    			set MRN=tResponse.PAPersonListExecuteQueryResult.GetAt(index).RegistrationNo
    			set tTRAKRequest=##class(HS.Message.ECRQueryRequest).%New()
    			set tTRAKRequest.MPIID=MRN
    			set tTRAKRequest.MRN=MRN
    			do tTRAKRequest.AdditionalInfo.SetAt("Encounter,Patient","EnabledSegmentData")
    			set sc=tTRAKService.SendECRQuery(tTRAKRequest,.tTRAKResponse)
  		}
	}
	zn tEndpointNamespace
]]></Implementation>
</Method>

<Method name="CreateFHIRSEndpointRS">
<FormalSpec>*tSC:%Status,pInfo:%ZEN.Auxiliary.QueryInfo</FormalSpec>
<ReturnType>%ResultSet</ReturnType>
<Implementation><![CDATA[
	Set tSQL="call TCITK_UI.Query_FHIRSEndpointQuery() "
	Set tRS= ##class(%SQL.Statement).%ExecDirect("",tSQL)
	Set tSC=$S(tRS.SQLCODE=0:$$$OK,1:$$$ERROR($$$GeneralError,"SQLCODE:"_tRS.SQLCODE))
    	Set pInfo.queryExecuted=1
	Quit tRS
]]></Implementation>
</Method>
</Class>


<Class name="TCITK.UI.TCAPITest">
<Description>
Define and manage FHIR CSP application behaviors that are not covered in CSP application maintenance.</Description>
<Super>TCITK.UI.Util</Super>
<TimeChanged>66021,16837.724733</TimeChanged>
<TimeCreated>65468,76707.179559</TimeCreated>

<Parameter name="HSDEPLOY">
<Default>0</Default>
</Parameter>

<Parameter name="RESOURCE">
<Default>%HS_TestSuite</Default>
</Parameter>

<Parameter name="SERVICEREGISTRYENTRY">
</Parameter>

<Parameter name="APPLICATION">
<Description>
Class name of application this page belongs to.</Description>
<Default>TCITK.UI.Application</Default>
</Parameter>

<Parameter name="PAGENAME">
<Description>
Displayed name of this page.</Description>
<Default>MainPage</Default>
</Parameter>

<Parameter name="TESTSERVICENAME">
<Default>FHIR.Test</Default>
</Parameter>

<Parameter name="TESTSERVICEPORT">
<Default>54321</Default>
</Parameter>

<Parameter name="SINGLETAB">
<Default>1</Default>
</Parameter>

<Property name="IsConnectathon">
<Type>%Boolean</Type>
<InitialExpression>##class(HS.Registry.Config).GetKeyValue("\IHE\Connectathon",0)=1</InitialExpression>
</Property>

<Property name="TESTGROUPID">
<Type>%String</Type>
<Parameter name="ZENURL" value="TestGroupID"/>
</Property>

<Parameter name="TARGETHOST">
<Description>
Which business host to send this request to, versus updating the HS.Test.Service code</Description>
<Type>%String</Type>
</Parameter>

<Property name="StdTitle">
<Description>
Domain used for localization.
Parameter DOMAIN = "";
Define the title that will be displayed within subclasses</Description>
<Type>%ZEN.Datatype.string</Type>
<InitialExpression>..#PAGENAME</InitialExpression>
</Property>

<Property name="title">
<Description>
Title displayed within this pane.</Description>
<Type>%ZEN.Datatype.caption</Type>
</Property>

<Property name="category">
<Description>
Category displayed within this pane (above the title).</Description>
<Type>%ZEN.Datatype.caption</Type>
<InitialExpression>"Intersystems Implementation"</InitialExpression>
</Property>

<XData name="Style">
<Description>
This Style block contains page-specific CSS style definitions.</Description>
<Data><![CDATA[
<style type="text/css">
/* default styles */
body {
	 
	font-family: verdana;
	min-height: 500px
}

.pageTitle {
	color: black;
	background: #c5d6d6;
	background-image: url(images/titlegradient.png);
	background-repeat: repeat-y;
	background-position: right;
	width: 100%;
	padding: 0px;
	border-bottom: 1px solid darkblue;
	font-size: 1.4em;
	font-family: verdana;
	text-align: center;
}

table.iheTestTitle {
	color: black;
	background: #c5d6d6;
	width: 100%;
	padding: 0px;
	margin: 0px;
	border-bottom: 1px solid darkblue;
	font-size: 1.4em;
	font-family: verdana;
	text-align: center;
}

.text {
	  border: 1px inset threedface;
}

.comboboxInput {
	  border: 1px inset threedface;
}

.menuTable {
	background: rgb(47,98,128);
	width: 100%;
	height: 100%;
	border: 0px;
}

a.menuItem {
	color: white;
	padding-top: 20px;
	padding-left: 0px;
	padding-right: 0px;
	border: 0px;
	margin: 1px;
	text-align: left;
	width:230px
}

a.menuItem:hover {
	color:#000000;
	background: #71AFBC;
	padding-top: 20px;
	padding-left: 0px;
	padding-right: 0px;
	border: 0px;
	margin: 1px;
	text-align: left;
	width:230px
}

a.menuItemSelected {
	background: #FFFFA0;
	color: rgb(47,98,128);
	padding-top: 20px;
	padding-left: 0px;
	padding-right: 0px;
	border: 0px;
	margin: 1px;
	text-align: left;
	width:230px
}

a.menuItemSelected:hover {
	color:#000000;
	background: #71AFBC;
	padding-top: 20px;
	padding-left: 0px;
	padding-right: 0px;
	border: 0px;
	margin: 1px;
	text-align: left;
	width:230px
}

/* body of tab group */
.tabGroupBody {
 
	padding-left: 20px;
	font-family: verdana;
	min-height: 500px
}

iframe.Body {
	padding-left: 20px;
	font-family: verdana;
	min-height: 500px
}

/* selected tab */
td.tabGroupButtonOn {
 	padding: 50px;
	color: rgb(47,98,128);
}

/* div for tab group */
#tabGroup {
	height: 100%;
	width: 100%;
}

iframe {
	height: 750px;
	width: 1000px;
	scroll: auto;
}

/* form field styles */
/*
.zenLabel {
	font-family: verdana;
	font-size: 0.8em;
	padding-right: 0px;
}
*/
/* checkbox styles */
.checkboxCaption {
	font-family: verdana;
	font-size: 0.8em;
	padding-right: 0px;
}

</style>
]]></Data>
</XData>

<XData name="Contents">
<Description>
This XML block defines the contents of this page.
There are 4 main panes defined for the standard page:
menu	table
message	details
The contents of these panes are provided by subclasses.</Description>
<XMLNamespace>http://www.intersystems.com/zen</XMLNamespace>
<Data><![CDATA[
<page xmlns="http://www.intersystems.com/zen">
<html id="title" OnDrawContent="DrawTitle" seed="FHIR Test Utility"/>
<hgroup>
<vgroup valign="top"   >
<pane paneName="menuPane"/>
</vgroup>
<spacer width="20"/>
<vgroup valign="top">
<tabGroup id="topTabGroup" showTabBar="true" remember="true">
<tab id="frameTab1" caption='Inpatient List' height="500px" width="900px" >
<iframe id="frame1" src="TCITK.UI.TCAPI.InpatientList.cls" width="100%"/>
</tab>
</tabGroup>
</vgroup>
</hgroup>
</page>
]]></Data>
</XData>

<XData name="menuPane">
<Description>
This XML block defines the contents of the menu pane.</Description>
<Data><![CDATA[
<pane id="sideMenu" xmlns="http://www.intersystems.com/zen" xmlns:ihetest="http://www.intersystems.com/ihetest">
<lookoutMenu id="lookout" expandable="false" height="300" width="250" remember="true">
<tab caption=" " id="menuMain">

<menuItem caption="Inpatient List" onclick="zenPage.ShowItem('TCITK.UI.TCAPI.InpatientList.cls','Inpatient List')"/>
 
 </tab>
</lookoutMenu>
</pane>
]]></Data>
</XData>

<Method name="DrawTitle">
<FormalSpec>pSeed:%String</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	do %application.DrawTitle(pSeed)
	Quit $$$OK
]]></Implementation>
</Method>

<Method name="ShowItem">
<FormalSpec>pItem,pText</FormalSpec>
<ZenMethod>1</ZenMethod>
<Implementation><![CDATA[
	try {
		#dim tg as %ZEN.Component.tabGroup
		Set tg=%page.%GetComponentById("topTabGroup")
		Set tab="",tSelection=""
		If ..#SINGLETAB {
			Do tg.children.Clear()
			Set tSelection=1
		} Else {
			For tIdx=1:1:tg.children.Count() {
				Set tItem=tg.children.GetAt(tIdx)
				if tItem.caption=pText Set tab=tItem,tSelection=tIdx Quit
			}
		}
		If tab="" {
			Set tab = ##class(%ZEN.Component.tab).%New()
			Set tab.caption=pText
			Set tFrame=##class(%ZEN.Component.iframe).%New()
			Set tFrame.src=pItem
			Do tab.%AddChild(tFrame)
			Do tg.%AddChild(tab)
			Set tSelection=tg.children.Count()
		}
		If tg.children.Count()=1 {
			Do tab.%Activate()
		} Else {
			&js<setTimeout(function(){zenPage.getComponentById('topTabGroup').showTab(#(tSelection)#)},100);>
		}
	} catch ex {
	}
]]></Implementation>
</Method>
</Class>


<Class name="TCITK.UI.Test.PatientRead">
<Description>
Define and manage FHIR CSP application behaviors that are not covered in CSP application maintenance.</Description>
<Super>TCITK.UI.Util</Super>
<TimeChanged>66028,58131.483737</TimeChanged>
<TimeCreated>65468,76707.179559</TimeCreated>

<Parameter name="APPLICATION">
<Description>
Class name of application this page belongs to.</Description>
<Default>TCITK.UI.Application</Default>
</Parameter>

<Parameter name="PAGENAME">
<Default>Smart On FHIR Apps Test</Default>
</Parameter>

<Parameter name="RESOURCE">
<Description>
Security requirement</Description>
<Default>%HSAdmin_InstallationManagement</Default>
</Parameter>

<Parameter name="FAVORITEICON">
<Type>COSEXPRESSION</Type>
<Default>$$$ISCFAVORITEICON</Default>
</Parameter>

<XData name="Style">
<Description>
This Style block contains page-specific CSS style definitions.</Description>
<Data><![CDATA[
<style type="text/css">
table.HSTitle {
	background: #80C9D1;
	width: 100%;
	padding: 0px;
	border-bottom: 2px solid #D7D3CA;
	font-size: 1.4em;
	text-align: center;
}

.labelTitle {
	color: black;
	font-size: 18px;
	font-weight: bold;
	text-decoration: none;
}
.linkBox {
	border: 1px solid black;
	margin:  5px;
	padding: 5px;
	width: 400px;	
}
.button {
	background: #D3E1EE;
	font-size: 12px;
	padding-bottom: 2px;
	width: 220px;
}
/* table */
#table {
	height: 20.0em;
	overflow: auto;
}
/* column header (th) */
table.tpTable th {
	border-right: 1px solid gray;
	border-bottom: 1px solid gray;
	background: #9CB0C8;
	color: black;
	font-weight: bold;
	text-align: left;
	padding: 2px;
}

.modalGroupBody {
	background: white;
	width: 600px ;
}

</style>
]]></Data>
</XData>

<XData name="Contents">
<Description>
This page display a welcome message and asks user if they want to start configure</Description>
<XMLNamespace>http://www.intersystems.com/zen</XMLNamespace>
<Data><![CDATA[
<page xmlns="http://www.intersystems.com/zen" title="#(%page.StdTitle)#">


<form width="75%" layout="vertical" cellStyle="padding: 2px;" groupStyle="padding-left:10px;" labelPosition="left" enctype="multipart/form-data">
<spacer height="10"/>

 
<dataCombo id="cmbEndpoint" size='70' label="FHIR EndPoint: *" labelClass="caption"
	editable="false"
	searchKeyLen="10"
	OnCreateResultSet="CreateFHIRSEndpointRS"
	title = "Oauth2 endpoint  will be passed to smart on fhir app"
	value="/tcfhir/trakr4"
	>
	<parameter/>
</dataCombo>
<spacer width="5" />
<combobox id="cmbFormat" label="FHIR Format: *" size="20" tabIndex="35" dropdownHeight="80" 
title="If 'xml' is chosen, then the FHIR request to the resource server will add an Accept header of 'application/xml+fhir' (for DSTU2) or 'application/fhir+xml' (for STU3 and later). If 'json' is chosen, then the FHIR request to the resource server will add an Accept header of 'application/json+fhir' (for DSTU2) or 'application/fhir+json' (for STU3 and later)." />
<spacer width="5" />
 
<text label="MRN: " id="txtMRN" size="20" value="DEMO" />
 <spacer width="5" />
<combobox id="cmbResource" label="FHIRResource: *" size="20" tabIndex="35" dropdownHeight="80" 
title="" />




 <spacer height="10"/>


<hgroup cellAlign="left">
<button id="btnSend" caption=" Send  Request To FHIR Endpoint" onclick="zenPage.Send(0)" />
<spacer width="10px"/>
<button id="btnExport" caption=" Export Request To Postman  " onclick="zenPage.Send(1)" />
<spacer height="7px"/>
</hgroup>

<spacer height="5"/>

<link id="linkTrace" caption="FHIR Visual Trace" href="#" target="_blank" disabled="true"    />

<spacer height="10"/>
 
<text label="FHIR Endpoint URL:" id="txtFHIRURL" size="100" value="" readOnly="true" />
<text label="FHIR Authrization:" id="txtFHIRAuth" size="100" value="" readOnly="true" />

<textarea label="Response:" id="txtResponse" rows="25" cols="100" readOnly="true" value="" />

 
 
 
</form>
<vgroup labelClass="lblNormal" labelPosition="left" enclosingStyle="padding:30px;">
	<link id="smartAppLink" caption="" href="#" target="_blank" />
 </vgroup>
 </page>
]]></Data>
</XData>

<Method name="DrawTitle">
<FormalSpec>pSeed:%String</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	Set tTitle = $$$TextHTML("Installer Wizard")
	Set tSC = %application.DrawHSTitle(tTitle,"Installer")
	Quit $$$OK
]]></Implementation>
</Method>

<Method name="OldDrawTitle">
<ClassMethod>1</ClassMethod>
<FormalSpec>pSeed:%String</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	Set LOGOIMAGE1 = ##class(%CSP.Page).Link("/csp/hslib/images/logo-topl-healthshare_01.gif")
	Set LOGOIMAGE2 = ##class(%CSP.Page).Link("/csp/hslib/images/logo-topl-healthshare_02.gif")
	Set LOGOIMAGE3 = ##class(%CSP.Page).Link("/csp/hslib/images/logo-topl-healthshare_03.jpg")

	&html<
<table class="HSTitle" width="100%" border="0" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="205"><a href="http://www.intersystems.com/index.html"><img src="#(LOGOIMAGE1)#" alt="InterSystems HealthShare" width="205" height="78" border="0"></a></td>
    <td width="185"><a href="http://www.intersystems.com/index.html"><img src="#(LOGOIMAGE2)#" alt="Innovations" width="185" height="78" border="0"></a></td>
    <td width="370"><a href="http://www.intersystems.com/index.html"><img src="#(LOGOIMAGE3)#" alt="Health information exchange platform" width="370" height="78" border="0"></a></td>
    <td width="100%" align="right">
    &nbsp;&nbsp;
    </td>
    <td width="20">&nbsp;</td>
  </tr>
</table>	
	>
	Quit $$$OK
]]></Implementation>
</Method>

<Method name="SendToFHIR">
<FormalSpec>baseURL,pExport=0</FormalSpec>
<ReturnType>%String</ReturnType>
<ZenMethod>1</ZenMethod>
<Implementation><![CDATA[
	set tSC=$$$OK
	set tReadLen = $Select($system.SYS.MaxLocalLength()=3641144:3640000,1:32000)
	
	Set tEndpoint = %page.%GetValueById("cmbEndpoint")
	If tEndpoint="" &js<alert('Please choose end point')> Quit
	
	Set tFormat = %page.%GetValueById("cmbFormat")
	If tFormat="" &js<alert('Please choose a FHIR format')> Quit
	
	set tMRN=%page.%GetValueById("txtMRN")
	If tMRN="" &js<alert('Please enter MRN')> Quit
	

	
	set currentNS = $Namespace
	set tEndpointNamespace=##class(TCITK.Utils).GetEndpointNamespace(tEndpoint)  	
	set tFHIRVersion=##class(TCITK.Utils).GetEndpointFHIRVersion(tEndpoint)  	
	zn tEndpointNamespace
	
	
	
	if ((tFHIRVersion="DSTU2") || (tFHIRVersion="STU3"))
	{
		set tRequest = ##class(HS.Message.FHIR.Request).%New()
	}
	else
	{
		set tRequest   = ##class(HS.FHIRServer.Interop.Request).%New() 
	}
	
	set tAction="Patient Read"
	set tRequestURL=tEndpoint
	set tRequestURL=tRequestURL_"/Patient/"_tMRN
	set ResourcePath=""
	
	
	Set tResource = %page.%GetValueById("cmbResource")
	if tResource'="Patient"
	{
		set tRequestURL=tRequestURL_"/"_tResource
		set ResourcePath=ResourcePath_"/"_tResource
	}
	
	 
	set tQueryString="_format="_tFormat
	set tRequestURL=tRequestURL_"?"_tQueryString
	Set ..%GetComponentById("txtFHIRURL").value = baseURL_tRequestURL
 
 	if pExport=1
 	{
	 	 zn currentNS
	 	q ##class(TCITK.UI.Postman).GetJSON(baseURL_tRequestURL,tEndpoint,tAction,tFHIRVersion)
 	}
 
 	if ((tFHIRVersion="DSTU2") || (tFHIRVersion="STU3"))
	{
		
		
		if tResource="$everything"
		{
			set tRequest.Interaction = "$everything"
			set tRequest.Compartment="Patient"
			set tRequest.Id=tMRN
			set tRequest.Type = "Patient"
		}
		elseif tResource="Patient"
		{
			set tRequest.Interaction = "read"
			set tRequest.Compartment=""
			set tRequest.Id=tMRN
			set tRequest.Type = "Patient"
		}
		else
		{
			set tRequest.Interaction = "search-compartment"
			set tRequest.Compartment="Patient"
			set tRequest.Id=tMRN
			set tRequest.Type = tResource
			
		}
		
		
		set tRequest.ContentType="application/"_tFormat_"+fhir"
		set tRequest.BaseURL =tEndpoint
		
		
		
		set tRequest.FHIRVersion = tFHIRVersion
		do tRequest.SetParameter("_format",tFormat)
		set tServiceName="HS.FHIR.Service."_tFHIRVersion
		do tRequest.AdditionalInfo.SetAt(tServiceName, "ServiceName")
		do tRequest.AdditionalInfo.SetAt(tQueryString, "QueryString")
		set tSC = ##class(HS.FHIR.Service).ProcessInteraction(tRequest,.tResponse,tServiceName)
		
		 if +tResponse.Status>399 &js<alert('#(tResponse.Status)#')>
	 	If tResponse.QuickStreamId'="" {
			Set tResponseStream = ##class(HS.SDA3.QuickStream).%OpenId(tResponse.QuickStreamId)		
		} Else {
			Set tResponseStream = tResponse.Payload		
		}
	 	set tResponseResult=tResponseStream.Read(tReadLen)
		
	}
	else
	{

		set tServiceName="InteropService."_tFHIRVersion
		 set tAPIRequest  = ##class(HS.FHIRServer.API.Data.Request).%New()
		 set tAPIRequest.SessionApplication=tEndpoint
		 set tAPIRequest.RequestMethod="GET"
		 set tAPIRequest.RequestPath="Patient"_"/"_tMRN_ResourcePath
		 set tAPIRequest.ResponseFormatCode=$zconvert(tFormat,"U")
		 set tAPIRequest.QueryString="" //tQueryString
		 
		 set tRequest.Request=tAPIRequest
		// Construct the business service
		set tSC =##class(Ens.Director).CreateBusinessService(tServiceName, .tService) 
		q:$$$ISERR(tSC) tSC
		// Now, process it
		set tSC =tService.ProcessInput(tRequest, .tResponse) 
		q:$$$ISERR(tSC) tSC
		q:$g(tResponse)="" "Error: Empty Response"_tSC
		
		 if +tResponse.Response.Status>399 &js<alert('#(tResponse.Response.Status)#')>
	 	If tResponse.QuickStreamId'="" {
			Set tResponseStream = ##class(HS.SDA3.QuickStream).%OpenId(tResponse.QuickStreamId)		
		}
	 	set tResponseResult=tResponseStream.Read(tReadLen)
		
	}
	
	set tRequestID=tRequest.%Id()
 	set tRequestClass=tRequest.%ClassName()
 	set SessionId=""
	&sql(Select ID Into :SessionId From Ens.MessageHeader where  MessageBodyId = :tRequestID  and sourceconfigname=:tServiceName)
	
	set tURL=baseURL_"/csp/healthshare/"_tEndpointNamespace_"/EnsPortal.VisualTrace.zen?SESSIONID="_SessionId
	Set ..%GetComponentById("linkTrace").title = tURL
	Set ..%GetComponentById("linkTrace").href = "#"
	Set ..%GetComponentById("linkTrace").onclick = "javascript:zenPage.openVisualTrace('"_tURL_"')"
	Set ..%GetComponentById("linkTrace").disabled = 0
	Set ..%GetComponentById("linkTrace").target = "_blank"
	
	 zn currentNS
 	quit tResponseResult
	
	if $$$ISERR(tSC) { &js<alert('#($system.Status.GetOneErrorText(tSC))#')> }
]]></Implementation>
</Method>

<Method name="openVisualTrace">
<FormalSpec>url=""</FormalSpec>
<Language>javascript</Language>
<ClientMethod>1</ClientMethod>
<Implementation><![CDATA[	window.open(url);
]]></Implementation>
</Method>

<Method name="Send">
<FormalSpec>pExport=0</FormalSpec>
<Language>javascript</Language>
<ClientMethod>1</ClientMethod>
<Implementation><![CDATA[
	var baseURL=window.location.protocol+"//"+window.location.hostname;
	if (window.location.port=="")
	{}
	else
	{
		baseURL=baseURL+":"+window.location.port;	
	}
	
	zenPage.getComponentById("txtFHIRURL").setValue(baseURL);
	zenPage.getComponentById("txtFHIRAuth").setValue("Basic *********************");
	
	if (pExport==0)
	{
		
		zenPage.getComponentById("txtResponse").setValue("");
		zenPage.getComponentById("txtResponse").setValue("....Running");
	}
	var result=zenPage.SendToFHIR(baseURL,pExport);
	
	if (pExport==0)
	{
	 	var tFormat=zenPage.getComponentById("cmbFormat").getValue();
	 	if (tFormat=="json")
	 	{
		 	var jsonPretty = JSON.stringify(JSON.parse(result),null,2);  
		 	zenPage.getComponentById("txtResponse").setValue(jsonPretty);
	 	}
	 	else if (tFormat=="xml")
	 	{
	 		zenPage.getComponentById("txtResponse").setValue(result);
		 	var xmlPretty = zenPage.formatXml(result);
		 	zenPage.getComponentById("txtResponse").setValue(xmlPretty);
	 	}
	 	else
	 	{
			zenPage.getComponentById("txtResponse").setValue(result);
	 	}
	}
	else
	{
		
		var jsonPretty = JSON.stringify(JSON.parse(result),null,2);  
		var jsonData=JSON.parse(result);
		var filename=jsonData.info.filename;
		var file = new Blob([jsonPretty], {type: 'application/json'});
		 var a = document.createElement('a');
            	a.href = URL.createObjectURL(file);
           	 a.download = filename;
            	a.click();
		
		
	}
]]></Implementation>
</Method>

<Method name="formatXml">
<FormalSpec>xml,tab</FormalSpec>
<Language>javascript</Language>
<ClientMethod>1</ClientMethod>
<Implementation><![CDATA[
 // tab = optional indent value, default is tab (\t)
    var formatted = '', indent= '';
    tab = tab || '\t';
    xml.split(/>\s*</).forEach(function(node) {
        if (node.match( /^\/\w/ )) indent = indent.substring(tab.length); // decrease indent by one 'tab'
        formatted += indent + '<' + node + '>\r\n';
        if (node.match( /^<?\w[^>]*[^\/]$/ )) indent += tab;              // increase indent
    });
    return formatted.substring(1, formatted.length-3);
]]></Implementation>
</Method>

<Method name="%OnAfterCreatePage">
<Description>
If license is not in place, show message and hide everything.</Description>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	Set tCombo=..%GetComponentById("cmbFormat")
	Set tCombo.valueList=",xml,json"
	Set tCombo.displayList=tCombo.valueList 
	Set tCombo.value="json"
	
	Set tResources=..%GetComponentById("cmbResource")
	Set tResources.valueList="$everything,Flag,AllergyIntolerance,Encounter,Patient,ServiceRequest,DiagnosticReport,Condition,Appointment,Medication,Observation,Immunization"
	Set tResources.displayList="Everything,Flag,AllergyIntolerance,Encounter,Patient,ServiceRequest,DiagnosticReport,Condition,Appointment,Medication,Observation,Immunization"
	Set tResources.value="Patient"
	
	//Alert,Allergy,Encounter,Patient,Problem,RadOrder,LabOrder,Diagnosis,Appointment,Medication,Observation,Vaccination
	
	Quit $$$OK
]]></Implementation>
</Method>

<Method name="onloadHandler">
<Description>
When the page is loaded, put cursor where it belongs.</Description>
<Language>javascript</Language>
<ClientMethod>1</ClientMethod>
</Method>

<Method name="CreateFHIRSEndpointRS">
<FormalSpec>*tSC:%Status,pInfo:%ZEN.Auxiliary.QueryInfo</FormalSpec>
<ReturnType>%ResultSet</ReturnType>
<Implementation><![CDATA[
	Set tSQL="call TCITK_UI.Query_FHIRSEndpointQuery() "
	Set tRS= ##class(%SQL.Statement).%ExecDirect("",tSQL)
	Set tSC=$S(tRS.SQLCODE=0:$$$OK,1:$$$ERROR($$$GeneralError,"SQLCODE:"_tRS.SQLCODE))
    	Set pInfo.queryExecuted=1
	Quit tRS
]]></Implementation>
</Method>
</Class>


<Class name="TCITK.UI.Test.PatientSearch">
<Description>
Define and manage FHIR CSP application behaviors that are not covered in CSP application maintenance.</Description>
<Super>TCITK.UI.Util</Super>
<TimeChanged>66027,26464.348396</TimeChanged>
<TimeCreated>65468,76707.179559</TimeCreated>

<Parameter name="APPLICATION">
<Description>
Class name of application this page belongs to.</Description>
<Default>TCITK.UI.Application</Default>
</Parameter>

<Parameter name="PAGENAME">
<Default>Smart On FHIR Apps Test</Default>
</Parameter>

<Parameter name="RESOURCE">
<Description>
Security requirement</Description>
<Default>%HSAdmin_InstallationManagement</Default>
</Parameter>

<Parameter name="FAVORITEICON">
<Type>COSEXPRESSION</Type>
<Default>$$$ISCFAVORITEICON</Default>
</Parameter>

<XData name="Style">
<Description>
This Style block contains page-specific CSS style definitions.</Description>
<Data><![CDATA[
<style type="text/css">
table.HSTitle {
	background: #80C9D1;
	width: 100%;
	padding: 0px;
	border-bottom: 2px solid #D7D3CA;
	font-size: 1.4em;
	text-align: center;
}

.labelTitle {
	color: black;
	font-size: 18px;
	font-weight: bold;
	text-decoration: none;
}
.linkBox {
	border: 1px solid black;
	margin:  5px;
	padding: 5px;
	width: 400px;	
}
.button {
	background: #D3E1EE;
	font-size: 12px;
	padding-bottom: 2px;
	width: 220px;
}
/* table */
#table {
	height: 20.0em;
	overflow: auto;
}
/* column header (th) */
table.tpTable th {
	border-right: 1px solid gray;
	border-bottom: 1px solid gray;
	background: #9CB0C8;
	color: black;
	font-weight: bold;
	text-align: left;
	padding: 2px;
}

.modalGroupBody {
	background: white;
	width: 600px ;
}

</style>
]]></Data>
</XData>

<XData name="Contents">
<Description>
This page display a welcome message and asks user if they want to start configure</Description>
<XMLNamespace>http://www.intersystems.com/zen</XMLNamespace>
<Data><![CDATA[
<page xmlns="http://www.intersystems.com/zen" title="#(%page.StdTitle)#">


<form width="75%" layout="vertical" cellStyle="padding: 2px;" groupStyle="padding-left:10px;" labelPosition="left" enctype="multipart/form-data">
<spacer height="10"/>

 
<dataCombo id="cmbEndpoint" size='70' label="FHIR EndPoint: *" labelClass="caption"
	editable="false"
	searchKeyLen="10"
	OnCreateResultSet="CreateFHIRSEndpointRS"
	title = "Oauth2 endpoint  will be passed to smart on fhir app"
	value="/tcfhir/trakr4"
	>
	<parameter/>
</dataCombo>
<spacer width="5" />
<combobox id="cmbFormat" label="FHIR Format: *" size="22" tabIndex="35" dropdownHeight="80" 
title="If 'xml' is chosen, then the FHIR request to the resource server will add an Accept header of 'application/xml+fhir' (for DSTU2) or 'application/fhir+xml' (for STU3 and later). If 'json' is chosen, then the FHIR request to the resource server will add an Accept header of 'application/json+fhir' (for DSTU2) or 'application/fhir+json' (for STU3 and later)." />
<spacer width="5" />

 <fieldSet id="fsParams" legend="Search Parameters" labelPosition="left">
<text label="Family: " id="txtParamFamily" size="35" value="" />
<text label="Given: " id="txtParamGiven" size="35" value="" />
<text label="Birthdate: " id="txtParamBirthdate" size="35" title="yyyy-mm-dd"/>
<text label="Gender: " id="txtParamGender" size="35" title="code, system|code, or |code"/>
</fieldSet>



 <spacer height="10"/>


<hgroup cellAlign="left">
<button id="btnSend" caption=" Send  Request To FHIR Endpoint" onclick="zenPage.Send(0)" />
<spacer width="10px"/>
<button id="btnExport" caption=" Export Request To Postman  " onclick="zenPage.Send(1)" />
<spacer height="7px"/>
</hgroup>

<spacer height="5"/>

<link id="linkTrace" caption="FHIR Visual Trace" href="#" target="_blank" disabled="true"    />


<spacer height="10"/>
 
<text label="FHIR Endpoint URL:" id="txtFHIRURL" size="100" value="" readOnly="true" />
<text label="FHIR Authrization:" id="txtFHIRAuth" size="100" value="" readOnly="true" />




 
 

<textarea label="Response:" id="txtResponse" rows="25" cols="100" readOnly="true" value="" />

 </form>
 
 

 
 </page>
]]></Data>
</XData>

<Method name="DrawTitle">
<FormalSpec>pSeed:%String</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	Set tTitle = $$$TextHTML("Installer Wizard")
	Set tSC = %application.DrawHSTitle(tTitle,"Installer")
	Quit $$$OK
]]></Implementation>
</Method>

<Method name="OldDrawTitle">
<ClassMethod>1</ClassMethod>
<FormalSpec>pSeed:%String</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	Set LOGOIMAGE1 = ##class(%CSP.Page).Link("/csp/hslib/images/logo-topl-healthshare_01.gif")
	Set LOGOIMAGE2 = ##class(%CSP.Page).Link("/csp/hslib/images/logo-topl-healthshare_02.gif")
	Set LOGOIMAGE3 = ##class(%CSP.Page).Link("/csp/hslib/images/logo-topl-healthshare_03.jpg")

	&html<
<table class="HSTitle" width="100%" border="0" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="205"><a href="http://www.intersystems.com/index.html"><img src="#(LOGOIMAGE1)#" alt="InterSystems HealthShare" width="205" height="78" border="0"></a></td>
    <td width="185"><a href="http://www.intersystems.com/index.html"><img src="#(LOGOIMAGE2)#" alt="Innovations" width="185" height="78" border="0"></a></td>
    <td width="370"><a href="http://www.intersystems.com/index.html"><img src="#(LOGOIMAGE3)#" alt="Health information exchange platform" width="370" height="78" border="0"></a></td>
    <td width="100%" align="right">
    &nbsp;&nbsp;
    </td>
    <td width="20">&nbsp;</td>
  </tr>
</table>	
	>
	Quit $$$OK
]]></Implementation>
</Method>

<Method name="SendToFHIR">
<FormalSpec>baseURL,pExport=0</FormalSpec>
<ReturnType>%String</ReturnType>
<ZenMethod>1</ZenMethod>
<Implementation><![CDATA[
	set tSC=$$$OK
	set tReadLen = $Select($system.SYS.MaxLocalLength()=3641144:3640000,1:32000)
	
	Set tEndpoint = %page.%GetValueById("cmbEndpoint")
	If tEndpoint="" &js<alert('Please choose end point')> Quit
	
	Set tFormat = %page.%GetValueById("cmbFormat")
	If tFormat="" &js<alert('Please choose a FHIR format')> Quit
	
	
	
	
	set tAction="Patient Search"
	set tRequestURL=tEndpoint
	set tRequestURL=tRequestURL_"/Patient?"
	
	set currentNS = $Namespace
	set tEndpointNamespace=##class(TCITK.Utils).GetEndpointNamespace(tEndpoint)  	
	set tFHIRVersion=##class(TCITK.Utils).GetEndpointFHIRVersion(tEndpoint)  	
	zn tEndpointNamespace
	
	
	
	if ((tFHIRVersion="DSTU2") || (tFHIRVersion="STU3"))
	{
		set tRequest = ##class(HS.Message.FHIR.Request).%New()
		
		 
	}
	else
	{
		set tRequest   = ##class(HS.FHIRServer.Interop.Request).%New() 
	}
	
	
	
	set tParamList=$lb("Name","Family","Given","Birthdate","Gender","Identifier")
	set count=0
	set tQueryString=""
	for index=1:1:$LISTLENGTH(tParamList) {
		set tParamName=$li(tParamList,index)
		set tVal = %page.%GetValueById("txtParam"_tParamName)
		continue:tVal=""
		set tQueryString=tQueryString_$s(count=0:"",1:"&")_$ZCVT(tParamName,"L")_"="_tVal	
		set count=count+1
	}
	
	set tRequestURL=tRequestURL_tQueryString_"&_format="_tFormat
	Set ..%GetComponentById("txtFHIRURL").value = baseURL_tRequestURL
 
 	if pExport=1
 	{
	 	 zn currentNS
	 	q ##class(TCITK.UI.Postman).GetJSON(baseURL_tRequestURL,tEndpoint,tAction,tFHIRVersion)
 	}
 
 	if ((tFHIRVersion="DSTU2") || (tFHIRVersion="STU3"))
	{
		for index=1:1:$LISTLENGTH(tParamList) {
			set tParamName=$li(tParamList,index)
			set tVal = %page.%GetValueById("txtParam"_tParamName)
			continue:tVal=""
			if (tVal'="") { do tRequest.SetParameter($ZCVT(tParamName,"L"), tVal) }
		}
		
		set tRequest.Interaction = "search"
		set tRequest.ContentType="application/"_tFormat_"+fhir"
		set tRequest.BaseURL =tEndpoint
		set tRequest.Type = "Patient"
		set tRequest.FHIRVersion = tFHIRVersion
		do tRequest.SetParameter("_format",tFormat)
		set tServiceName="HS.FHIR.Service."_tFHIRVersion
		do tRequest.AdditionalInfo.SetAt(tServiceName, "ServiceName")
		do tRequest.AdditionalInfo.SetAt(tQueryString, "QueryString")
		set tSC = ##class(HS.FHIR.Service).ProcessInteraction(tRequest,.tResponse,tServiceName)
		
		 if +tResponse.Status>399 &js<alert('#(tResponse.Status)#')>
	 	If tResponse.QuickStreamId'="" {
			Set tResponseStream = ##class(HS.SDA3.QuickStream).%OpenId(tResponse.QuickStreamId)		
		} Else {
			Set tResponseStream = tResponse.Payload		
		}
	 	set tResponseResult=tResponseStream.Read(tReadLen)
		
		 
		
	}
	else
	{

		set tServiceName="InteropService."_tFHIRVersion
		 set tAPIRequest  = ##class(HS.FHIRServer.API.Data.Request).%New()
		 set tAPIRequest.SessionApplication=tEndpoint
		 set tAPIRequest.RequestMethod="GET"
		 set tAPIRequest.RequestPath="Patient"
		 set tAPIRequest.ResponseFormatCode=$zconvert(tFormat,"U")
		 set tAPIRequest.QueryString=tQueryString
		 
		 set tRequest.Request=tAPIRequest
		// Construct the business service
		set tSC =##class(Ens.Director).CreateBusinessService(tServiceName, .tService) 
		q:$$$ISERR(tSC) tSC
		// Now, process it
		set tSC =tService.ProcessInput(tRequest, .tResponse) 
		q:$$$ISERR(tSC) tSC
		q:$g(tResponse)="" "Error: Empty Response"_tSC
		
		 if +tResponse.Response.Status>399 &js<alert('#(tResponse.Response.Status)#')>
	 	If tResponse.QuickStreamId'="" {
			Set tResponseStream = ##class(HS.SDA3.QuickStream).%OpenId(tResponse.QuickStreamId)		
		}
	 	set tResponseResult=tResponseStream.Read(tReadLen)
		
		
 		
		
	}
	
	set tRequestID=tRequest.%Id()
 	set tRequestClass=tRequest.%ClassName()
 	set SessionId=""
	&sql(Select ID Into :SessionId From Ens.MessageHeader where  MessageBodyId = :tRequestID and sourceconfigname=:tServiceName)
	
	set tURL=baseURL_"/csp/healthshare/"_tEndpointNamespace_"/EnsPortal.VisualTrace.zen?SESSIONID="_SessionId
	Set ..%GetComponentById("linkTrace").title = tURL
	Set ..%GetComponentById("linkTrace").href = "#"
	Set ..%GetComponentById("linkTrace").onclick = "javascript:zenPage.openVisualTrace('"_tURL_"')"
	Set ..%GetComponentById("linkTrace").disabled = 0
	Set ..%GetComponentById("linkTrace").target = "_blank"
	
	 zn currentNS
 	quit tResponseResult
	
	if $$$ISERR(tSC) { &js<alert('#($system.Status.GetOneErrorText(tSC))#')> }
]]></Implementation>
</Method>

<Method name="openVisualTrace">
<FormalSpec>url=""</FormalSpec>
<Language>javascript</Language>
<ClientMethod>1</ClientMethod>
<Implementation><![CDATA[	window.open(url);
]]></Implementation>
</Method>

<Method name="Send">
<FormalSpec>pExport=0</FormalSpec>
<Language>javascript</Language>
<ClientMethod>1</ClientMethod>
<Implementation><![CDATA[
	var baseURL=window.location.protocol+"//"+window.location.hostname;
	if (window.location.port=="")
	{}
	else
	{
		baseURL=baseURL+":"+window.location.port;	
	}
	
	zenPage.getComponentById("txtFHIRURL").setValue(baseURL);
	zenPage.getComponentById("txtFHIRAuth").setValue("Basic *********************");
	
	if (pExport==0)
	{
		
		zenPage.getComponentById("txtResponse").setValue("");
		zenPage.getComponentById("txtResponse").setValue("....Running");
	}
	var result=zenPage.SendToFHIR(baseURL,pExport);
	
	if (pExport==0)
	{
	 	var tFormat=zenPage.getComponentById("cmbFormat").getValue();
	 	if (tFormat=="json")
	 	{
		 	var jsonPretty = JSON.stringify(JSON.parse(result),null,2);  
		 	zenPage.getComponentById("txtResponse").setValue(jsonPretty);
	 	}
	 	else if (tFormat=="xml")
	 	{
	 		zenPage.getComponentById("txtResponse").setValue(result);
		 	var xmlPretty = zenPage.formatXml(result);
		 	zenPage.getComponentById("txtResponse").setValue(xmlPretty);
	 	}
	 	else
	 	{
			zenPage.getComponentById("txtResponse").setValue(result);
	 	}
	}
	else
	{
		
		var jsonPretty = JSON.stringify(JSON.parse(result),null,2);  
		var jsonData=JSON.parse(result);
		var filename=jsonData.info.filename;
		var file = new Blob([jsonPretty], {type: 'application/json'});
		 var a = document.createElement('a');
            	a.href = URL.createObjectURL(file);
           	 a.download = filename;
            	a.click();
		
		
	}
]]></Implementation>
</Method>

<Method name="formatXml">
<FormalSpec>xml,tab</FormalSpec>
<Language>javascript</Language>
<ClientMethod>1</ClientMethod>
<Implementation><![CDATA[
 // tab = optional indent value, default is tab (\t)
    var formatted = '', indent= '';
    tab = tab || '\t';
    xml.split(/>\s*</).forEach(function(node) {
        if (node.match( /^\/\w/ )) indent = indent.substring(tab.length); // decrease indent by one 'tab'
        formatted += indent + '<' + node + '>\r\n';
        if (node.match( /^<?\w[^>]*[^\/]$/ )) indent += tab;              // increase indent
    });
    return formatted.substring(1, formatted.length-3);
]]></Implementation>
</Method>

<Method name="%OnAfterCreatePage">
<Description>
If license is not in place, show message and hide everything.</Description>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	Set tCombo=..%GetComponentById("cmbFormat")
	Set tCombo.valueList=",xml,json"
	Set tCombo.displayList=tCombo.valueList 
	Set tCombo.value="json"
	
	Quit $$$OK
]]></Implementation>
</Method>

<Method name="onloadHandler">
<Description>
When the page is loaded, put cursor where it belongs.</Description>
<Language>javascript</Language>
<ClientMethod>1</ClientMethod>
</Method>

<Method name="CreateFHIRSEndpointRS">
<FormalSpec>*tSC:%Status,pInfo:%ZEN.Auxiliary.QueryInfo</FormalSpec>
<ReturnType>%ResultSet</ReturnType>
<Implementation><![CDATA[
	Set tSQL="call TCITK_UI.Query_FHIRSEndpointQuery() "
	Set tRS= ##class(%SQL.Statement).%ExecDirect("",tSQL)
	Set tSC=$S(tRS.SQLCODE=0:$$$OK,1:$$$ERROR($$$GeneralError,"SQLCODE:"_tRS.SQLCODE))
    	Set pInfo.queryExecuted=1
	Quit tRS
]]></Implementation>
</Method>
</Class>


<Class name="TCITK.UI.Util">
<Description>
Common methods for HS UI.</Description>
<Abstract>1</Abstract>
<IncludeCode>%ZHSLIB,HS.Upgrade,HS.HC.UI.Home,HS.HC</IncludeCode>
<Super>HS.HC.UI.Util</Super>
<TimeChanged>66031,42940.411235</TimeChanged>
<TimeCreated>65468,76498.262392</TimeCreated>

<Parameter name="APPLICATION">
<Description>
Class name of application this page belongs to.</Description>
<Default>TCITK.UI.Application</Default>
</Parameter>

<Method name="CommonLinkMenu">
<Description><![CDATA[
Create a set of links common to the patients search page, clinical message center, relationship & subscription pages.
<br /> <var>pThisPage</var> may be set to avoid a redundant link to the current page. 
<br /> <var>pMode</var> is use by the viewer header - nil for the old style from patient search screen, "portal"
for the new style where you want to return to the portal page. ]]></Description>
<ClassMethod>1</ClassMethod>
<FormalSpec>pThisPage:%String,pMode:%String=""</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
 
	Quit $$$OK
]]></Implementation>
</Method>

<Method name="%OnGetSmallMenu">
<Description>
Get the contents of the small menu in the title area.</Description>
<FormalSpec>pSourcePage:%Boolean=0,pManageEnsemble:%Boolean=0,*pMenu,pShowHSHelp:%Boolean=1</FormalSpec>
</Method>

<Method name="GetLoginLink">
<ClassMethod>1</ClassMethod>
<FormalSpec>pFrom:%String=""</FormalSpec>
<ReturnType>%String</ReturnType>
<Implementation><![CDATA[
	IF pFrom="" {
		If $D(%session.Data("HomePage")) {Set pFrom=%session.Data("HomePage")}
		ELSEIF $SYSTEM.Security.Check("%HS_PatientSearch","USE") {Set pFrom=..GetSearchPage()}
		ELSEIF ##Class(HS.Registry.Person.User).SessionUserClinician()'="" {Set pFrom=$$$HSUILink("MessageCenter","HS.UI.Push.MessageCenter.cls")}
	}
	Set tQuery("FROM")=pFrom
	Quit $$$HSUILinkQuery("Logout","HS.UI.Logout.cls",tQuery)
]]></Implementation>
</Method>

<Method name="GetSearchPage">
<ClassMethod>1</ClassMethod>
<ReturnType>%String</ReturnType>
<Implementation><![CDATA[	Quit $$$HSUILink("PatientSearch","HS.UI.PatientSearch.cls")
]]></Implementation>
</Method>

<Method name="GetPortalPage">
<ClassMethod>1</ClassMethod>
<ReturnType>%String</ReturnType>
<Implementation><![CDATA[	Quit $$$HSUILink("ClinicianPortal","HS.UI.ClinicianPortal.cls")
]]></Implementation>
</Method>

<Method name="GetPortalMessagesPage">
<ClassMethod>1</ClassMethod>
<ReturnType>%String</ReturnType>
<Implementation><![CDATA[
	Set tQuery("Mode")="messages"
	Quit $$$HSUILinkQuery("ClinicianPortal","HS.UI.ClinicianPortal.cls",tQuery)
]]></Implementation>
</Method>

<Method name="%GetSummaryReports">
<Description>
Returns patient summary reports in session data sorted by name in session data, plus the default report </Description>
<ClassMethod>1</ClassMethod>
<Implementation><![CDATA[
	Set tSC=$$$OK
	If '$D(%session.Data("SummaryReports")) {
		Set tRS=##class(%ResultSet).%New("HS.Reports.Patient.Config:ListReportsLocal")
		Set tSC=tRS.Execute()
		While (tRS.Next(.tSC)) {
			Quit:$$$ISERR(tSC)
			Set %session.Data("SummaryReports",tRS.Name)=tRS.ID
		}
	}
]]></Implementation>
</Method>
</Class>


<Class name="TCITK.UI.Welcome">
<Description><![CDATA[
HealthShare Install Wizard.<br/>
This is a Studio Wizard that creates or updates the Hub, Edge or Access
 components of a HealthShare system]]></Description>
<IncludeCode>HS.HC</IncludeCode>
<Super>HS.UI.Base</Super>
<TimeChanged>66026,18657.500299</TimeChanged>
<TimeCreated>65468,76488.834599</TimeCreated>

<Parameter name="APPLICATION">
<Description>
Class name of application this page belongs to.</Description>
<Default>TCITK.UI.Application</Default>
</Parameter>

<Parameter name="PAGENAME">
<Default>DEMO Wizard</Default>
</Parameter>

<Parameter name="RESOURCE">
<Description>
Security requirement</Description>
<Default>%HSAdmin_InstallationManagement</Default>
</Parameter>

<Parameter name="FAVORITEICON">
<Type>COSEXPRESSION</Type>
<Default>$$$ISCFAVORITEICON</Default>
</Parameter>

<XData name="Style">
<Description>
This Style block contains page-specific CSS style definitions.</Description>
<Data><![CDATA[
<style type="text/css">
table.HSTitle {
	background: #80C9D1;
	width: 100%;
	padding: 0px;
	border-bottom: 2px solid #D7D3CA;
	font-size: 1.4em;
	text-align: center;
}

.labelTitle {
	color: black;
	font-size: 18px;
	font-weight: bold;
	text-decoration: none;
}
.linkBox {
	border: 1px solid black;
	margin:  5px;
	padding: 5px;
	width: 400px;	
}
.button {
	background: #D3E1EE;
	font-size: 12px;
	padding-bottom: 2px;
	width: 220px;
}
/* table */
#table {
	height: 20.0em;
	overflow: auto;
}
/* column header (th) */
table.tpTable th {
	border-right: 1px solid gray;
	border-bottom: 1px solid gray;
	background: #9CB0C8;
	color: black;
	font-weight: bold;
	text-align: left;
	padding: 2px;
}

.modalGroupBody {
	background: white;
	width: 600px ;
}

</style>
]]></Data>
</XData>

<Method name="DrawStatusCell">
<Description><![CDATA[
<var>pSeed</var> is the maximum length to show in the cell.]]></Description>
<FormalSpec>pTable:%ZEN.Component.tablePane,pName:%String,pSeed:%String</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
    Set Status = %query(pName)
     set tTitle=Status
     set tLine=Status
     if Status="Running"
     {
     	set tStyle="color: green;text-align: center;font-weight: bold;"
     }
     else
     {
	     set tStyle="color: red;text-align: center;font-weight: bold;"
     }
    &html<<div style="#(tStyle)#" title="#(..EscapeHTML(tTitle))#">#(..EscapeHTML(tLine))#</div>>
    Quit $$$OK
]]></Implementation>
</Method>

<XData name="Contents">
<Description>
This page display a welcome message and asks user if they want to start configure</Description>
<XMLNamespace>http://www.intersystems.com/zen</XMLNamespace>
<Data><![CDATA[
<page xmlns="http://www.intersystems.com/zen" title="#(%page.StdTitle)#">

<html id="titleBar" OnDrawContent="DrawTitle"/>
<spacer height="10"/>

<hgroup align="center">
<label id="idWelcome" label="You may start system configurations by clicking an option below:" hidden="false"/>
<hgroup id="idLicense" hidden="true">
<label label="License is not available. Please install and activate a license first." />
<link id="idLicenseLink" href="/csp/docbook/DocBook.UI.Page.cls?KEY=GSA_license#GSA_license_maintain_key" style="color:#336699;" caption="[Click here for Help.]"/>
</hgroup>
</hgroup>
<spacer height="4"/>
<vgroup id="idContent" align="center" cellAlign="center" groupClass="linkBox">
<button caption="Configure HMF Web Service*" enclosingClass="button" align="center" onclick="zen('mgHMFConfig').show('','','',200,300);" title="Click to configure HMF"/>
<button caption="Configure TrakCare API Access" align="center" onclick="zen('mgTCAPIConfig').show('','','',200,300);" title="Click to configure TC API Access"/>
<button caption="Configure Oauth2 Server Name" align="center" onclick="zen('mgNetHost').show('','','',200,300);" title="Click to change the network host name"/>
 </vgroup>

<spacer height="4"/>
<modalGroup id="mgNetHost" groupTitle="Configure Network Host Name">
<pane paneName="paneNetHost" cellSize="stretch"/>
</modalGroup>
<modalGroup id="mgHMFConfig" groupTitle="Configure HMF WebServices">
<pane paneName="paneHMFConfig" cellSize="stretch"/>
</modalGroup>
 
 <modalGroup id="mgTCAPIConfig" groupTitle="configure TC API Access">
<pane paneName="paneTCAPIConfig" cellSize="stretch"/>
</modalGroup>
 
<vgroup id="id_Table" align="center" containerStyle="padding-left:20px;padding-right:20px;">
<tablePane id="table" caption="The following configurations have been defined"
		  queryClass="TCITK.UI.Welcome"
		  queryName="ConfigQuery"
		  showQuery="false"
		  showZebra="true"
		  showValueInTooltip="true"
		  valueColumn="ID"
		  multiSelect="false"
		  width="100%"
		  >
		   
		<parameter value="B"/>
		<column colName="ID" hidden="true"/>
		<column colName="Namespace" width="100"/>
		<column colName="Endpoint" width="200"/>
		<column colName="FHIRVersion" header="FHIR Version" width="100"/>
		<column colName="Production" width="200"  link="javascript:zenPage.openProduction('#(%query.Namespace)#');"   />
		<column colName="ServiceConfigName" header="Service Config" width="100"/>
		<column colName="OAuthClient" header="OAuthe2 Client" width="100"/>
		
		<column colName="Status" width="50"  OnDrawCell="DrawStatusCell" />
 
		<!--
		<column colName="CreatedAt" header="Create Time" width="130" hidden="false"/>
		<column colName="Description" hidden="true"/>
		<column colName="Disabled" width="80"/>
		<column colName="Production" width="250"/>
		<column colName="Activated" width="80"/>
		<column colName="LastActivated" width="80" hidden="true"/>
	 	-->

</tablePane>
</vgroup>
 </page>
]]></Data>
</XData>

<Method name="DrawTitle">
<FormalSpec>pSeed:%String</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	Set tTitle = $$$TextHTML("Installer Wizard")
	Set tSC = %application.DrawHSTitle(tTitle,"Installer")
	Quit $$$OK
]]></Implementation>
</Method>

<Method name="OldDrawTitle">
<ClassMethod>1</ClassMethod>
<FormalSpec>pSeed:%String</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	Set LOGOIMAGE1 = ##class(%CSP.Page).Link("/csp/hslib/images/logo-topl-healthshare_01.gif")
	Set LOGOIMAGE2 = ##class(%CSP.Page).Link("/csp/hslib/images/logo-topl-healthshare_02.gif")
	Set LOGOIMAGE3 = ##class(%CSP.Page).Link("/csp/hslib/images/logo-topl-healthshare_03.jpg")

	&html<
<table class="HSTitle" width="100%" border="0" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="205"><a href="http://www.intersystems.com/index.html"><img src="#(LOGOIMAGE1)#" alt="InterSystems HealthShare" width="205" height="78" border="0"></a></td>
    <td width="185"><a href="http://www.intersystems.com/index.html"><img src="#(LOGOIMAGE2)#" alt="Innovations" width="185" height="78" border="0"></a></td>
    <td width="370"><a href="http://www.intersystems.com/index.html"><img src="#(LOGOIMAGE3)#" alt="Health information exchange platform" width="370" height="78" border="0"></a></td>
    <td width="100%" align="right">
    &nbsp;&nbsp;
    </td>
    <td width="20">&nbsp;</td>
  </tr>
</table>	
	>
	Quit $$$OK
]]></Implementation>
</Method>

<Method name="addConfig">
<FormalSpec>type,component</FormalSpec>
<Language>javascript</Language>
<ClientMethod>1</ClientMethod>
<Implementation><![CDATA[
	if(type=="PIHub") {
		var url = "HS.UI.Installer.Config.cls?TYPE=Hub&SUBTYPE=PIHub";
	} else {
		var url = "HS.UI.Installer.Config.cls?TYPE="+type;
	}
	if(component!=null) url=url+"&COMPONENT="+component;
	zenLaunchPopupWindow(url,'InstallWizard','status,scrollbars,resizable,width=800,height=700');
]]></Implementation>
</Method>

<Method name="activateConfig">
<FormalSpec>id</FormalSpec>
<Language>javascript</Language>
<ClientMethod>1</ClientMethod>
<Implementation><![CDATA[	zenLaunchPopupWindow("HS.UI.Installer.Activate.cls?ID="+id,'Activate','status,scrollbars,resizable,width=1000,height=500');
]]></Implementation>
</Method>

<Method name="deleteConfig">
<Description>
User clicked Delete</Description>
<FormalSpec>id</FormalSpec>
<Language>javascript</Language>
<ClientMethod>1</ClientMethod>
<Implementation><![CDATA[	zenLaunchPopupWindow("HS.UI.Installer.Delete.cls?ID="+id,'Delete','status,scrollbars,resizable,width=1000,height=500');
]]></Implementation>
</Method>

<Method name="editConfig">
<FormalSpec>id</FormalSpec>
<Language>javascript</Language>
<ClientMethod>1</ClientMethod>
<Implementation><![CDATA[	zenLaunchPopupWindow("HS.UI.Installer.Config.cls?ID="+id,'EditConfig','status,scrollbars,resizable,width=800,height=700');
]]></Implementation>
</Method>

<Method name="onPopupAction">
<FormalSpec>popupName,action,value</FormalSpec>
<Language>javascript</Language>
<ClientMethod>1</ClientMethod>
<Implementation><![CDATA[
	var table = zenPage.getComponentById('table');
	table.refreshTable();
]]></Implementation>
</Method>

<Method name="DrawDelete">
<FormalSpec>pTable:%ZEN.Component.tablePane,pName:%String,pSeed:%String</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	// Don't offer to delete generic foundation namespaces - they must be removed manually
	If '..IsGenericFoundation(%query("ID")){
		Write "<a href=""javascript:zenPage.deleteConfig('"_%query("ID")_"')"">"
		Write $$$Text("Delete")
		Write "</a>"
	}
	Quit $$$OK
]]></Implementation>
</Method>

<Method name="openProduction">
<FormalSpec>namespace</FormalSpec>
<Language>javascript</Language>
<ClientMethod>1</ClientMethod>
<Implementation><![CDATA[
	
	
	
	var link=window.location.href.split("csp/healthshare/")[0];
	link=link+"csp/healthshare/"+namespace+"/EnsPortal.ProductionConfig.zen";
	window.open(link);
]]></Implementation>
</Method>

<Method name="IsGenericFoundation">
<FormalSpec>pID:%String</FormalSpec>
<ReturnType>%Boolean</ReturnType>
<Implementation><![CDATA[
	Set tItem = ##class(HS.Util.Installer.ConfigItem).%OpenId(pID)
	Quit tItem.%ClassName(1)="HS.Util.Installer.Foundation"
]]></Implementation>
</Method>

<XData name="paneTCAPIConfig">
<XMLNamespace>http://www.intersystems.com/zen</XMLNamespace>
<Data><![CDATA[
<pane xmlns="http://www.intersystems.com/zen" labelPosition= "left">
<spacer height="10px"/>
<vgroup labelClass="lblNormal" labelPosition="left" enclosingStyle="padding:4px;">
<label enclosingStyle="font-size:14px;color:black;font-weight:bold;padding-bottom:4px" value="TrakCare API Configuration"/>
 
<text id="TCAPIUserName" label="TC API User Name:" size="20" labelClass="lblNormal"  />
<password id="TCAPIUserPassword" label="TC API User Password:" size="20" labelClass="lblNormal"   />


</vgroup>
<hgroup cellAlign="left">
<button caption="Save" onclick="zenPage.saveTCAPIConfig();"/>
<spacer width="10px"/>
<button caption="Cancel" width="50px" onclick="zenPage.endModal();"/>
<spacer height="7px"/>
</hgroup>
</pane>
]]></Data>
</XData>

<Method name="LoadTCAPI">
<Implementation><![CDATA[
	set obj=##class(TCITK.Config.TCAPI).%OpenId(1)
	if obj'=""
	{ 
		Set ..%GetComponentById("TCAPIUserName").value = obj.UserName
		Set ..%GetComponentById("TCAPIUserPassword").value = obj.Password
	}
]]></Implementation>
</Method>

<Method name="saveTCAPIConfig">
<Language>javascript</Language>
<ClientMethod>1</ClientMethod>
<Implementation><![CDATA[
	 
	var pUserName = zenPage.getComponentById("TCAPIUserName").getValue();
	var pPassword = zenPage.getComponentById("TCAPIUserPassword").getValue() ;
	
	zenPage.storeTCAPIConfig( pUserName, pPassword );
	zenPage.endModal();
]]></Implementation>
</Method>

<Method name="storeTCAPIConfig">
<FormalSpec>pUserName,pPassword</FormalSpec>
<ZenMethod>1</ZenMethod>
<Implementation><![CDATA[
	set obj=##class(TCITK.Config.TCAPI).%OpenId(1)
	if obj=""
	{
		set obj=##class(TCITK.Config.TCAPI).%New()
	}
	 
	set obj.UserName=pUserName
	set obj.Password=pPassword
	set result= obj.%Save()
 
	do ##class(TCITK.Utils).UpdateAllNameSpacesTCAPISettings()
	
	Quit
]]></Implementation>
</Method>

<XData name="paneHMFConfig">
<XMLNamespace>http://www.intersystems.com/zen</XMLNamespace>
<Data><![CDATA[
<pane xmlns="http://www.intersystems.com/zen" labelPosition= "left">
<spacer height="10px"/>
<vgroup labelClass="lblNormal" labelPosition="left" enclosingStyle="padding:4px;">
<label enclosingStyle="font-size:14px;color:black;font-weight:bold;padding-bottom:4px" value="HMF Configuration"/>
<text id="HMFServer" label="HMF Server: " size="20" labelClass="lblNormal" 
	onchange="zenPage.changeHMFName();"
	title="Enter HMF Server Name"
	/>
<text id="HMFPort" label="HMF Port: " size="10" labelClass="lblNormal" 
	onchange="zenPage.changeHMFName();"
	title="Enter HMF Webservice Port"
	/>
<text id="HMFLocation" label="HMF Location: " size="50" labelClass="lblNormal" 
	onchange="zenPage.changeHMFName();"
	title="Enter HMF URL Location"
	/>	
<checkbox id="HMFHTTPS" label="HTTPS: "  labelClass="lblNormal" 
	title="HTTPS"
	/>
<text id="HMFUserName" label="HMF User Name:" size="20" labelClass="lblNormal" onchange="zenPage.changeHMFName();"/>
<password id="HMFUserPassword" label="HMF User Password:" size="20" labelClass="lblNormal" onchange="zenPage.changeHMFName();"/>


</vgroup>
<hgroup cellAlign="left">
<button caption="Save" onclick="zenPage.saveHMFConfig();"/>
<spacer width="10px"/>
<button caption="Cancel" width="50px" onclick="zenPage.endModal();"/>
<spacer height="7px"/>
</hgroup>
</pane>
]]></Data>
</XData>

<Method name="changeHMFName">
<Description>
User changed SSL Info for the Hub. Construct SSL Root end point. This will only be possible if config has never been activated.</Description>
<Language>javascript</Language>
<ClientMethod>1</ClientMethod>
<Implementation><![CDATA[
	/*
	var SSLHost = zenPage.getComponentById("SSLHost").getValue();
	var SSLPort = zenPage.getComponentById("SSLPort").getValue();
	var portstr = ""
	if ( SSLPort != "" && SSLPort != "443" ) {
		portstr = ":" + SSLPort;
	}
	var WebUrlPrefix = zenPage.getComponentById("SSLPrefix").getValue();

	if (SSLHost!="") {
		var SSLRootEndpoint = "https://"+SSLHost+portstr;
		if ( WebUrlPrefix != "" ) {
			SSLRootEndpoint = SSLRootEndpoint + "/" + WebUrlPrefix
		}
		zenPage.getComponentById("SSLRoot").setValue(SSLRootEndpoint);
	}
	*/
]]></Implementation>
</Method>

<Method name="LoadHMF">
<Implementation><![CDATA[
	set obj=##class(TCITK.Config.HMF).%OpenId(1)
	if obj'=""
	{ 
		 
		Set ..%GetComponentById("HMFServer").value = obj.Server
		Set ..%GetComponentById("HMFPort").value = obj.Port
		Set ..%GetComponentById("HMFLocation").value = obj.Location
		Set ..%GetComponentById("HMFHTTPS").value = obj.HTTPS
		Set ..%GetComponentById("HMFUserName").value = obj.UserName
		Set ..%GetComponentById("HMFUserPassword").value = obj.Password
	}
]]></Implementation>
</Method>

<Method name="saveHMFConfig">
<Language>javascript</Language>
<ClientMethod>1</ClientMethod>
<Implementation><![CDATA[
	var pServer = zenPage.getComponentById("HMFServer").getValue();
	var pPort = zenPage.getComponentById("HMFPort").getValue();
	var pLocation = zenPage.getComponentById("HMFLocation").getValue();
	var pHTTPS = zenPage.getComponentById("HMFHTTPS").getValue();
	var pUserName = zenPage.getComponentById("HMFUserName").getValue();
	var pPassword = zenPage.getComponentById("HMFUserPassword").getValue() ;
	
	zenPage.storeHMFConfig(pServer,pPort,pLocation,pHTTPS, pUserName, pPassword );
	zenPage.endModal();
]]></Implementation>
</Method>

<Method name="storeHMFConfig">
<FormalSpec>pServer,pPort,pLocation,pHTTPS,pUserName,pPassword</FormalSpec>
<ZenMethod>1</ZenMethod>
<Implementation><![CDATA[
	set obj=##class(TCITK.Config.HMF).%OpenId(1)
	if obj=""
	{
		set obj=##class(TCITK.Config.HMF).%New()
	}
	set obj.Server=pServer
	set obj.Port=pPort
	set obj.Location=pLocation
	set obj.HTTPS=(pHTTPS="true")
	set obj.UserName=pUserName
	set obj.Password=pPassword
	set result= obj.%Save()
	//update settings across namespace
	do ##class(TCITK.Utils).UpdateAllNameSpacesHMFSettings()
	
	Quit
]]></Implementation>
</Method>

<XData name="paneNetHost">
<XMLNamespace>http://www.intersystems.com/zen</XMLNamespace>
<Data><![CDATA[
<pane xmlns="http://www.intersystems.com/zen" labelPosition= "left">
<spacer height="10px"/>
<text id="txtNetHostName" labelClass="lblNormal" label="Oauth2 Host Name: " size="50"
 title="The network host name is used to configure Oauth2"/>
<spacer height="7px"/>
<hgroup cellAlign="left">
<button caption="Save" onclick="zenPage.saveNetHost();"/>
<spacer width="10px"/>
<button caption="Cancel" onclick="zenPage.endModal();"/>
<spacer height="7px"/>
</hgroup>
</pane>
]]></Data>
</XData>

<Method name="saveNetHost">
<Language>javascript</Language>
<ClientMethod>1</ClientMethod>
<Implementation><![CDATA[
	var nh=zenPage.getComponentById("txtNetHostName").value
	if(nh == "") {alert(this.msgNoNetHost) ;
	} else {
		zenPage.StoreNetHost(nh);
		zenPage.endModal();
	}
]]></Implementation>
</Method>

<Method name="StoreNetHost">
<FormalSpec>pNetHost</FormalSpec>
<ZenMethod>1</ZenMethod>
<Implementation><![CDATA[
	
	set obj=##class(TCITK.Config.System).%OpenId(1)
	if obj=""
	{
		set obj=##class(TCITK.Config.System).%New()
	}
	set obj.NetworkHostName=pNetHost
	do obj.%Save()
	
	set currentNS = $Namespace
    zn "%SYS"
    Set tSC = $$$OK

	Set sys = ##class(OAuth2.Server.Configuration).%OpenId("singleton")
	Set sys.IssuerEndpoint.Host = pNetHost
	Set tSC = sys.Save()

	zn currentNS
	
	
	Quit
]]></Implementation>
</Method>

<Method name="%OnAfterCreatePage">
<Description>
If license is not in place, show message and hide everything.</Description>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	Set LicenseLink = ##class(%CSP.Page).Link("/csp/docbook/DocBook.UI.Page.cls?KEY=GSA_license#GSA_license_maintain_key")
	Set ..%GetComponentById("idLicenseLink").href = LicenseLink
	If $System.License.KeyOrderNumber() = 0 {
		Set ..%GetComponentById("idWelcome").hidden = 1
		Set ..%GetComponentById("idContent").hidden = 1
		Set ..%GetComponentById("id_Table").hidden = 1
		Set ..%GetComponentById("idLicense").hidden = 0
	} Else {
		Set ..%GetComponentById("idWelcome").hidden = 0
		Set ..%GetComponentById("idContent").hidden = 0
		Set ..%GetComponentById("id_Table").hidden = 0
		Set ..%GetComponentById("idLicense").hidden = 1		
	}
	// Initialize the SSL Configuration Pane
	
	do ..LoadHMF()
	do ..LoadTCAPI()
	
	/*
	Set ..%GetComponentById("SSLHost").value = $$$HSSecureHostName
	Set ..%GetComponentById("SSLPort").value = $$$HSSecurePort
	Set ..%GetComponentById("SSLPrefix").value = $$$HSSecurePrefix
	Set ..%GetComponentById("SSLActive").value = $$$HSSecureIsActive
	
	*/
	
	set currentNS = $Namespace
    zn "%SYS"
	Set sys = ##class(OAuth2.Server.Configuration).%OpenId("singleton")
	if (sys'="")
	{
		Set ..%GetComponentById("txtNetHostName").value=sys.IssuerEndpoint.Host
	}
	zn currentNS
	
	
	Quit $$$OK
]]></Implementation>
</Method>

<Method name="onloadHandler">
<Description>
When the page is loaded, put cursor where it belongs.</Description>
<Language>javascript</Language>
<ClientMethod>1</ClientMethod>
<Implementation><![CDATA[	zenPage.changeHMFName();
]]></Implementation>
</Method>

<Query name="ConfigQuery">
<Type>%Query</Type>
<SqlProc>1</SqlProc>
<Parameter name="ROWSPEC" value="ID,Namespace,Endpoint,FHIRVersion,ServiceConfigName,OAuthClient,Production,Status"/>
</Query>

<Method name="ConfigQueryExecute">
<ClassMethod>1</ClassMethod>
<FormalSpec><![CDATA[&qHandle:%Binary]]></FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
    set repid=$increment(^CacheTemp("TRAK"))
    set ind=1, END = 0, END1 = 0
 
  do ##class(%SYS.Namespace).ListAll(.result)
  set index=""
  for {	
		set index=$o(result(index))
		q:index=""
 
		 set id=index
		 set name=index
		 
 		do ##class(TCITK.Utils).GetFHIREndpoints(index,.arrData)
 		 
 		
 		set endpoint=""
 		for
 		{
	 		set endpoint=$o(arrData(endpoint))
	 		quit:endpoint=""
	 		 
	 		
	 		set FHIRVersion=$li(arrData(endpoint),1)
	 		set ServiceConfigName=$li(arrData(endpoint),2)
	 		set OAuthClient =$li(arrData(endpoint),3)
	 		set Production=$li(arrData(endpoint),4)
	 		set Status =$li(arrData(endpoint),5)
	 		
	 		set ^CacheTemp("TRAK",repid,ind)=$lb(id,name,endpoint,FHIRVersion,ServiceConfigName,OAuthClient,Production,Status)
 			set ind=ind+1
	 			
 		}
 		
 		
 		
		 
		 
	}
	
	
	
	
    set qHandle=$listbuild(0,repid,0)
    QUIT $$$OK
]]></Implementation>
</Method>

<Method name="ConfigQueryFetch">
<ClassMethod>1</ClassMethod>
<FormalSpec><![CDATA[&qHandle:%Binary,&Row:%List,&AtEnd:%Integer=0]]></FormalSpec>
<PlaceAfter>ConfigQueryExecute</PlaceAfter>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
     // This fetch method should never have to change.
	// Restore QHandle
	set AtEnd=$list(qHandle,1)
	set repid=$list(qHandle,2)
	set ind=$list(qHandle,3)
	set ind=$order(^CacheTemp("TRAK",repid,ind))
	if ind="" {	// if there are no more rows, finish fetching
		set AtEnd=1
		set Row=""
	}  else  {	// fetch row
		set Row=^CacheTemp("TRAK",repid,ind)
	}
	// Save QHandle
	set qHandle=$listbuild(AtEnd,repid,ind)
        QUIT $$$OK
]]></Implementation>
</Method>

<Method name="ConfigQueryClose">
<ClassMethod>1</ClassMethod>
<FormalSpec><![CDATA[&qHandle:%Binary]]></FormalSpec>
<PlaceAfter>ConfigQueryExecute</PlaceAfter>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
        KILL qHandle   //probably not necesary as killed by the SQL Call framework
        QUIT $$$OK
]]></Implementation>
</Method>
</Class>


<Class name="TCITK.Utils">
<Super>%RegisteredObject</Super>
<TimeChanged>66030,67952.7435103</TimeChanged>
<TimeCreated>66009,15278.108697</TimeCreated>

<Method name="GetEndpointFHIRVersion">
<ClassMethod>1</ClassMethod>
<FormalSpec>pEndpoint</FormalSpec>
<Implementation><![CDATA[
	//w ##class(TCITK.Utils).GetEndpointNamespace("/tcfhir/trakr4")  
	do ##class(%SYS.Namespace).ListAll(.result)
  	set index=""
  	for {	
		set index=$o(result(index))
		q:index=""
		 set id=index
		 set name=index
 		do ##class(TCITK.Utils).GetFHIREndpoints(index,.arrData)
 		set endpoint=""
 		for
 		{
	 		set endpoint=$o(arrData(endpoint))
	 		quit:endpoint=""
	 		set fhirversion =$li(arrData(endpoint),1)
	 		continue:fhirversion=""
	 	 	if endpoint=pEndpoint
	 	 	{
		 	 	return fhirversion	
	 	 	}
 		} 
	}
	
	q ""
]]></Implementation>
</Method>

<Method name="GetEndpointNamespace">
<ClassMethod>1</ClassMethod>
<FormalSpec>pEndpoint</FormalSpec>
<Implementation><![CDATA[
	//w ##class(TCITK.Utils).GetEndpointNamespace("/tcfhir/trakr4")  
	do ##class(%SYS.Namespace).ListAll(.result)
  	set index=""
  	for {	
		set index=$o(result(index))
		q:index=""
		 set id=index
		 set name=index
 		do ##class(TCITK.Utils).GetFHIREndpoints(index,.arrData)
 		set endpoint=""
 		for
 		{
	 		set endpoint=$o(arrData(endpoint))
	 		quit:endpoint=""
	 		set namespace =$li(arrData(endpoint),6)
	 		continue:namespace=""
	 	 	if endpoint=pEndpoint
	 	 	{
		 	 	return namespace	
	 	 	}
 		} 
	}
	
	q ""
]]></Implementation>
</Method>

<Method name="GetFHIREndpoints">
<ClassMethod>1</ClassMethod>
<FormalSpec><![CDATA[namespace,&arrData]]></FormalSpec>
<Implementation><![CDATA[
	//do ##class(TCITK.UI.Welcome).GetFHIREndpoints("TRAKR4",.arrData) zw arrData
	k arrData
	set currentNS = $Namespace
	set $Namespace = namespace
	if ( ##class(%Dictionary.CompiledClass).%ExistsId("HS.Registry.FHIRCSPConfig")=0)||(##class(%Dictionary.CompiledClass).%ExistsId("Ens.Director")=0)
	{
		set $Namespace = currentNS
		quit
	}
	set pIsRunning=##class(Ens.Director).IsProductionRunning()
	Set pName =  ##class(Ens.Director).GetActiveProductionName()
	if pIsRunning=1
	{
		set pIsRunning="Running"	
	}
	else
	{
		set pIsRunning="Stopped"	
	}
	// get legacy end point 
	 &sql(DECLARE FHIRCSPConfig CURSOR FOR 
        	SELECT URL,ServiceConfigName,ServiceClassName,ConformanceId,FHIRVersion,DisableCORS,UseOAuth,ResourceServerOAuthClient
        		into :Endpoint,:ServiceConfigName,:ServiceClassName,:ConformanceId,:FHIRVersion,:DisableCORS,:UseOAuth,:OAuthClient
		FROM HS_Registry.FHIRCSPConfig
		ORDER BY URL
        	FOR READ ONLY)
   		&sql(OPEN FHIRCSPConfig)
     		IF SQLCODE<0 {WRITE "SQL Open Cursor Error:",SQLCODE," ",%msg  QUIT}
   		FOR { 
   			&sql(FETCH FHIRCSPConfig)
        		QUIT:SQLCODE  
        		 set arrData(Endpoint)=$listbuild(FHIRVersion,ServiceConfigName,OAuthClient,pName,pIsRunning,$Namespace)
        	}
   		&sql(CLOSE FHIRCSPConfig)
   	 // get fhir instance end point 
	 &sql(DECLARE FHIRConfig CURSOR FOR 
        	SELECT  URL,ServiceConfigName,OAuthClientName
        	 into :Endpoint,:ServiceConfigName,:OAuthClient 
        	 from HS_Util.RESTCSPConfig
        	)
   		&sql(OPEN FHIRConfig)
     		IF SQLCODE<0 {WRITE "SQL Open Cursor Error:",SQLCODE," ",%msg  QUIT}
   		FOR { 
   			&sql(FETCH FHIRConfig)
        		QUIT:SQLCODE  
        		Set serviceInstanceId = ##class(HS.FHIRServer.ServiceAdmin).GetInstanceIdForEndpoint(Endpoint)
        		Set configData = ##class(HS.FHIRServer.ServiceAdmin).GetInstanceConfigData(serviceInstanceId)
        		set FHIRVersion=configData.FHIRVersion
        		if FHIRVersion="3.0.1" set FHIRVersion="R3"
        		if FHIRVersion="4.0.1" set FHIRVersion="R4"
        		 set arrData(Endpoint)=$listbuild(FHIRVersion,ServiceConfigName,OAuthClient,pName,pIsRunning,$Namespace)
        		
        	}
   		&sql(CLOSE FHIRConfig)
   		set $Namespace = currentNS
   		quit $$$OK
]]></Implementation>
</Method>

<Method name="InstallSmartApp">
<ClassMethod>1</ClassMethod>
<Implementation><![CDATA[
	//do ##class(TCITK.Utils).InstallSmartApp()
	set clientid="growth_chart"
	set clientname="SMART.GrowthChart"
	set clientdesc="Boston Growth Chart"
	set clienturl="https://tcfhirsandbox.intersystems.com.au/smart/growth-chart/"
	set launchurl="https://tcfhirsandbox.intersystems.com.au/smart/growth-chart/launch.html"
	
	set obj=##class(TCITK.Config.SmartOnFHIRApp).%OpenId(clientid)
	if obj=""
	{
		set obj=##class(TCITK.Config.SmartOnFHIRApp).%New()
	}
	set obj.ClientID=clientid
	set obj.Description=clientdesc
	set obj.Name=clientname
	set obj.RedirectURL=clienturl
	set obj.LaunchURL=launchurl
	do obj.%Save()
	
	do ..UpdateSmartAppClient(clientid)
]]></Implementation>
</Method>

<Method name="UpdateSmartAppClient">
<ClassMethod>1</ClassMethod>
<FormalSpec>clientid</FormalSpec>
<Implementation><![CDATA[
	set obj=##class(TCITK.Config.SmartOnFHIRApp).%OpenId(clientid)
	do ##class(TC.hmf.FHIR.SMART.Utils).OAuthClientCreateForSMART(1,obj.ClientID,obj.RedirectURL, obj.Name,obj.Description)
	quit $$$OK
]]></Implementation>
</Method>

<Method name="UpdateAllNameSpacesTCAPISettings">
<ClassMethod>1</ClassMethod>
<Implementation><![CDATA[
	//do ##class(TCITK.Utils).UpdateAllNameSpacesTCAPISettings()
	set obj=##class(TCITK.Config.TCAPI).%OpenId(1)
	if obj="" q
	set tUserName=obj.UserName
	set tPassword=obj.Password
	set TCAPICredntialsName = $PARAMETER("TC.hmf.FHIR.Installer.FHIR","TCAPICredntialsName")
	set currentNS = $Namespace
	D ##class(%SYS.Namespace).ListAll(.result)
	set index=""
	for {	
		set index=$o(result(index))
		q:index=""
		
		zn index
		
		continue:##class(%Dictionary.CompiledClass).%ExistsId("Ens.Config.Credentials")=0
		do ..UpdateTCCredntials(TCAPICredntialsName,tUserName,tPassword)
	}
	zn currentNS
]]></Implementation>
</Method>

<Method name="UpdateAllNameSpacesHMFSettings">
<ClassMethod>1</ClassMethod>
<Implementation><![CDATA[
	//do ##class(TCITK.Utils).UpdateAlNameSpacesHMFSettings()
	
 
	
	set obj=##class(TCITK.Config.HMF).%OpenId(1)
	if obj="" q
	
	set tServer=obj.Server
	set tPort=obj.Port
	set tHTTPS=obj.HTTPS
	set tLocation=obj.Location
	set tUserName=obj.UserName
	set tPassword=obj.Password
	
	
	set Protocol=""
	set Protocol="HTTP"_$select(tHTTPS=1:"S",1:"")_"://"
	set SSLConfig=""
	set:tHTTPS=1 SSLConfig="HMF.SSL"
	do:tHTTPS=1 ##class(TC.hmf.FHIR.Installer.FHIR).CreateSSLConfig(SSLConfig)
	
	
	set IRISCredntialsName = $PARAMETER("TC.hmf.FHIR.Installer.FHIR","IRISCredntialsName")
	set TCQueryWebServiceURL=Protocol_tServer_$select(tPort'="":":",1:"")_tPort_""_tLocation_"TC.hmf.System.Service.Inbound.Query.cls"
	Set TCQueryServiceName = $PARAMETER("TC.hmf.FHIR.Installer.FHIR","TCQueryServiceName")
	Set TCOutboundServiceName =$PARAMETER("TC.hmf.FHIR.Installer.FHIR","TCOutboundServiceName")
	set TCOutboundWebServiceURL=Protocol_tServer_$select(tPort'="":":",1:"")_tPort_""_tLocation_"TC.hmf.System.Service.Inbound.SOAP.cls"
 
	
	set currentNS = $Namespace
	D ##class(%SYS.Namespace).ListAll(.result)
	set index=""
	for {
		
		set index=$o(result(index))
		q:index=""
 
 		zn index
 		
		continue:##class(%Dictionary.CompiledClass).%ExistsId("Ens.Config.Credentials")=0
		continue:##class(%Dictionary.CompiledClass).%ExistsId("HS.Registry.Service.SOAP")=0
		
		do ..UpdateTCCredntials(IRISCredntialsName,tUserName,tPassword)
		do ..UpdateTCEndPoint(TCQueryServiceName,IRISCredntialsName,TCQueryWebServiceURL,SSLConfig)
		do ..UpdateTCEndPoint(TCOutboundServiceName,IRISCredntialsName,TCOutboundWebServiceURL,SSLConfig)
		
	}
	
	
	zn currentNS
]]></Implementation>
</Method>

<Method name="UpdateTCCredntials">
<ClassMethod>1</ClassMethod>
<FormalSpec>name="TRAK",pUserName,pPassword</FormalSpec>
<Implementation><![CDATA[
	//do ##class(TC.hmf.FHIR.Installer.FHIR).InstallFHIR("DSTU2")
 
 	
	SET Credentials=##class(Ens.Config.Credentials).%OpenId(name)
	if '$isobject(Credentials) q 1
	
	 
	set Credentials.SystemName=name
	set Credentials.Username=pUserName
	set Credentials.Password=pPassword
	do Credentials.%Save()
	 quit $$$OK
]]></Implementation>
</Method>

<Method name="UpdateTCEndPoint">
<ClassMethod>1</ClassMethod>
<FormalSpec>ServiceName="TRAK",HMFCredntialsName="TRAK",pURL,pSSLConfig</FormalSpec>
<Implementation><![CDATA[
	//w ##class(TC.hmf.FHIR.Installer.FHIR).UpdateTCEndPoint("TRAK")
	set endpoint=##class(HS.Registry.Service.SOAP).EndPointForNameType(ServiceName,"SOAP")
	if '$isobject(endpoint ) q 1
	set endpoint.Name=ServiceName
	do endpoint.ParseURL(pURL)
	set endpoint.SSLCheckServerIdentity=0
	set endpoint.UsernameTokenProfileConfig=HMFCredntialsName
 	set endpoint.SSLConfig=pSSLConfig
	do endpoint.%Save()
]]></Implementation>
</Method>

<Method name="GetInpatientList">
<ClassMethod>1</ClassMethod>
<FormalSpec>maxcount=10</FormalSpec>
<Implementation><![CDATA[
	
	//do ##class(TCITK.Utils).GetInpatientList()
	// Create a new instance of the business service
	set sc=##class(Ens.Director).CreateBusinessService("TCAPI.Service",.tAPIService)
	set sc=##class(Ens.Director).CreateBusinessService("FHIRRouter.Service",.tTRAKService)
	
	set tRequest=##class(TrakCare.WebServices.SYSAPI.Production.Request.PAPersonListExecuteQueryRequest).%New()
	set tRequest.params.MAXCOUNT=maxcount
	set tRequest.params.hiddenFlag="On^^^^^^^^On" // inpatient only
	
	// Process the input and get the output
	#Dim tResponse as TrakCare.WebServices.SYSAPI.Production.Response.PAPersonListExecuteQueryResponse
	set sc=tAPIService.SendAPI(tRequest,.tResponse)
	
	if (sc=$$$OK)
	{
		
		set count=tResponse.PAPersonListExecuteQueryResult.Count()
		w !,"records count:",count
		
		FOR index=1:1:count {
    	
    		set MRN=tResponse.PAPersonListExecuteQueryResult.GetAt(index).RegistrationNo
    		w !,index,"  patient urn:",MRN
    		// pull SDA 
    		set tTRAKRequest=##class(HS.Message.ECRQueryRequest).%New()
    		set tTRAKRequest.MPIID=MRN
    		set tTRAKRequest.MRN=MRN
    		do tTRAKRequest.AdditionalInfo.SetAt("Encounter,Patient","EnabledSegmentData")
    		set sc=tTRAKService.SendECRQuery(tTRAKRequest,.tTRAKResponse)
			 
    	
  		}

		
			
		
		
		
	}
]]></Implementation>
</Method>
</Class>




<Class name="TrakCare.WebServices.SYSAPI.Production.Operation.TChmfServiceTrakInboundSYSAPISoap">
<ProcedureBlock>1</ProcedureBlock>
<Super>Ens.BusinessOperation</Super>
<TimeChanged>66023,16539.437828</TimeChanged>
<TimeCreated>66013,49109.626286</TimeCreated>

<Parameter name="SETTINGS">
<Type>%String</Type>
<Default><![CDATA[TCAPIService:Basic:selector?Select=1&context={HS.Util.ContextSearch/ServiceNameItemsByParam?Type=SOAP},TCAPIUser:Basic:credentialsSelector]]></Default>
</Parameter>

<Property name="TCAPIService">
<Description>
SOAP Service Registry entry for the target TrakCare HMF System production 
Should target the inbound query servoce</Description>
<Type>%String</Type>
<Parameter name="MAXLEN" value="255"/>
</Property>

<Property name="TCAPIUser">
<Description>
TC User</Description>
<Type>%String</Type>
<Required>1</Required>
</Property>

<Property name="TUSERNAME">
<Description>
TC User</Description>
<Type>%String</Type>
</Property>

<Property name="TPASSWORD">
<Description>
TC User</Description>
<Type>%String</Type>
</Property>

<Method name="OnInit">
<FormalSpec>pRequest:%Library.Persistent,*pResponse:%Library.Persistent</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	set sc=##super()
	
	if ..TCAPIService'="" {
		set tEndPoint = ##class(HS.Registry.Service.SOAP).EndPointForNameType(..TCAPIService,"SOAP")
		if $isobject(tEndPoint) {
			
			
			set tURL=tEndPoint.EndPoint
			set ..Adapter.SOAPCredentials=tEndPoint.UsernameTokenProfileConfig
			set ..Adapter.SSLConfig=tEndPoint.SSLConfig
			set ..Adapter.WebServiceURL = tURL
			set ..Adapter.WebServiceClientClass="TrakCare.WebServices.SYSAPI.WebClient.TChmfServiceTrakInboundSYSAPISoap"
			 $$$TRACE("end point:"_tEndPoint.EndPoint)
 			 
			
			$$$TRACE("client updated")
			
			#Dim tUserCreds As Ens.Config.Credentials
			Set tStatus = ##class(Ens.Config.Credentials).GetCredentialsObj(.tUserCreds,$classname($this),"Ens.Config.Credentials",..TCAPIUser)
			If $$$ISERR(tStatus) {
				Quit
			}
			
			set ..TUSERNAME=tUserCreds.Username
			set ..TPASSWORD=tUserCreds.Password
			
			
			$$$TRACE("credntial:"_..TCAPIUser)
		 
			
		}
	}
	 
	quit sc
]]></Implementation>
</Method>

<Method name="PAPersonListExecuteQuery">
<FormalSpec>pRequest:TrakCare.WebServices.SYSAPI.Production.Request.PAPersonListExecuteQueryRequest,*pResponse:TrakCare.WebServices.SYSAPI.Production.Response.PAPersonListExecuteQueryResponse</FormalSpec>
<ReturnType>%Library.Status</ReturnType>
<Implementation><![CDATA[
 Set ..Adapter.WebServiceClientClass = "TrakCare.WebServices.SYSAPI.WebClient.TChmfServiceTrakInboundSYSAPISoap"
 Set tSC = ..Adapter.InvokeMethod("PAPersonListExecuteQuery",.PAPersonListExecuteQueryResult,pRequest.token,pRequest.params,..TUSERNAME,..TPASSWORD)  Quit:$$$ISERR(tSC) tSC
 Set tSC = pRequest.NewResponse(.pResponse)  Quit:$$$ISERR(tSC) tSC
 Set pResponse.PAPersonListExecuteQueryResult=$get(PAPersonListExecuteQueryResult)
 Quit $$$OK
]]></Implementation>
</Method>

<Parameter name="ADAPTER">
<Default>EnsLib.SOAP.OutboundAdapter</Default>
</Parameter>

<XData name="MessageMap">
<Data><![CDATA[
<MapItems>
 
	<MapItem MessageType="TrakCare.WebServices.SYSAPI.Production.Request.PAPersonListExecuteQueryRequest">
		<Method>PAPersonListExecuteQuery</Method>
	</MapItem>
	 
</MapItems>
]]></Data>
</XData>
</Class>


<Class name="TrakCare.WebServices.SYSAPI.Production.Request.PAPersonListExecuteQueryRequest">
<ProcedureBlock>1</ProcedureBlock>
<Super>Ens.Request</Super>
<TimeChanged>66013,49134.047167</TimeChanged>
<TimeCreated>66013,49109.726568</TimeCreated>

<Parameter name="RESPONSECLASSNAME">
<Default>TrakCare.WebServices.SYSAPI.Production.Response.PAPersonListExecuteQueryResponse</Default>
</Parameter>

<Property name="token">
<Type>%String</Type>
</Property>

<Property name="params">
<Type>TrakCare.WebServices.SYSAPI.WS.TC.api.PAPerson.List.Params</Type>
</Property>

<Property name="TUSERNAME">
<Type>%String</Type>
</Property>

<Property name="TPASSWORD">
<Type>%String</Type>
</Property>

<Storage name="Default">
<Type>%Storage.Persistent</Type>
<DefaultData>PAPersonListExecuteQueryRequestDefaultData</DefaultData>
<Data name="PAPersonListExecuteQueryRequestDefaultData">
<Structure>listnode</Structure>
<Subscript>"PAPersonListExecuteQueryRequest"</Subscript>
<Value name="1">
<Value>token</Value>
</Value>
<Value name="2">
<Value>params</Value>
</Value>
<Value name="3">
<Value>TUSERNAME</Value>
</Value>
<Value name="4">
<Value>TPASSWORD</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="TrakCare.WebServices.SYSAPI.Production.Response.PAPersonListExecuteQueryResponse">
<ProcedureBlock>1</ProcedureBlock>
<Super>Ens.Response</Super>
<TimeChanged>66013,49137.055898</TimeChanged>
<TimeCreated>66013,49109.728004</TimeCreated>

<Property name="PAPersonListExecuteQueryResult">
<Type>TrakCare.WebServices.SYSAPI.WS.TC.ws.PAPerson.List.DataSet</Type>
<Collection>list</Collection>
</Property>

<Storage name="Default">
<Type>%Storage.Persistent</Type>
<DefaultData>PAPersonListExecuteQueryResponseDefaultData</DefaultData>
<Data name="PAPersonListExecuteQueryResponseDefaultData">
<Structure>listnode</Structure>
<Subscript>"PAPersonListExecuteQueryResponse"</Subscript>
<Value name="1">
<Value>PAPersonListExecuteQueryResult</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="TrakCare.WebServices.SYSAPI.Production.Service.TChmfServiceTrakInboundSYSAPISoap">
<Super>Ens.BusinessService</Super>
<TimeChanged>66013,35795.822469</TimeChanged>
<TimeCreated>66009,64350.805456</TimeCreated>

<Parameter name="SETTINGS">
<Default><![CDATA[TRAKAPIConfigName:Basic:selector?context={Ens.ContextSearch/ProductionItems?targets=1&productionName=@productionId}]]></Default>
</Parameter>

<Property name="TRAKAPIConfigName">
<Description>
Business host to which to forward the api request message.</Description>
<Type>Ens.DataType.ConfigName</Type>
</Property>

<Method name="OnProcessInput">
<FormalSpec>pInput:%Library.Persistent,*pOutput:%Library.Persistent</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	set sc=$$$OK
	set sc=..SendRequestSync(..TRAKAPIConfigName,pInput,.pOutput)
	quit sc
]]></Implementation>
</Method>

<Method name="SendAPI">
<FormalSpec>pInput:%Library.Persistent,*pOutput:%Library.Persistent</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	
	set sc=..ProcessInput(pInput,.pOutput)
	if $$$ISERR(sc) q sc 
	quit $$$OK
]]></Implementation>
</Method>
</Class>


<Class name="TrakCare.WebServices.SYSAPI.WS.TC.api.PAPerson.List.Params">
<Description>
Created from: C:\Users\Administrator\Desktop\TC.hmf.System.Service.Inbound.SYSAPI.ListOnly.xml</Description>
<ProcedureBlock>1</ProcedureBlock>
<Super>%SerialObject,%XML.Adaptor</Super>
<TimeChanged>66013,49113.728972</TimeChanged>
<TimeCreated>66013,49110.359524</TimeCreated>

<Parameter name="ELEMENTQUALIFIED">
<Default>1</Default>
</Parameter>

<Parameter name="NAMESPACE">
<Default>http://www.intersystems.com/trak/ws</Default>
</Parameter>

<Parameter name="XMLNAME">
<Default>TC.api.PAPerson.List.Params</Default>
</Parameter>

<Parameter name="XMLSEQUENCE">
<Default>1</Default>
</Parameter>

<Parameter name="XMLTYPE">
<Default>TC.api.PAPerson.List.Params</Default>
</Parameter>

<Property name="TUSERNAME">
<Type>%String</Type>
<Parameter name="MAXLEN" value="220"/>
<Parameter name="XMLNAME" value="TUSERNAME"/>
</Property>

<Property name="TPASSWORD">
<Type>%String</Type>
<Parameter name="MAXLEN" value="220"/>
<Parameter name="XMLNAME" value="TPASSWORD"/>
</Property>

<Property name="TENCRYPTPASSWORD">
<Type>%Boolean</Type>
<Parameter name="XMLNAME" value="TENCRYPTPASSWORD"/>
</Property>

<Property name="TSESSIONID">
<Type>%String</Type>
<Parameter name="MAXLEN" value="220"/>
<Parameter name="XMLNAME" value="TSESSIONID"/>
</Property>

<Property name="MAXCOUNT">
<Type>%Integer</Type>
<Parameter name="XMLNAME" value="MAXCOUNT"/>
</Property>

<Property name="RegistrationNo">
<Type>%String</Type>
<Parameter name="MAXLEN"/>
<Parameter name="XMLNAME" value="RegistrationNo"/>
</Property>

<Property name="PAPERName">
<Type>%String</Type>
<Parameter name="MAXLEN"/>
<Parameter name="XMLNAME" value="PAPERName"/>
</Property>

<Property name="PAPERName2">
<Type>%String</Type>
<Parameter name="MAXLEN"/>
<Parameter name="XMLNAME" value="PAPERName2"/>
</Property>

<Property name="PAPERName3">
<Type>%String</Type>
<Parameter name="MAXLEN"/>
<Parameter name="XMLNAME" value="PAPERName3"/>
</Property>

<Property name="NationalID">
<Type>%String</Type>
<Parameter name="MAXLEN"/>
<Parameter name="XMLNAME" value="NationalID"/>
</Property>

<Property name="SSN">
<Type>%String</Type>
<Parameter name="MAXLEN"/>
<Parameter name="XMLNAME" value="SSN"/>
</Property>

<Property name="CTSEXDesc">
<Type>%String</Type>
<Parameter name="MAXLEN"/>
<Parameter name="XMLNAME" value="CTSEXDesc"/>
</Property>

<Property name="GovtCardNo">
<Type>%String</Type>
<Parameter name="MAXLEN"/>
<Parameter name="XMLNAME" value="GovtCardNo"/>
</Property>

<Property name="ProvOB">
<Type>%String</Type>
<Parameter name="MAXLEN"/>
<Parameter name="XMLNAME" value="ProvOB"/>
</Property>

<Property name="MedicalRecordNo">
<Type>%String</Type>
<Parameter name="MAXLEN"/>
<Parameter name="XMLNAME" value="MedicalRecordNo"/>
</Property>

<Property name="BillNo">
<Type>%String</Type>
<Parameter name="MAXLEN"/>
<Parameter name="XMLNAME" value="BillNo"/>
</Property>

<Property name="EpisodeNo">
<Type>%String</Type>
<Parameter name="MAXLEN"/>
<Parameter name="XMLNAME" value="EpisodeNo"/>
</Property>

<Property name="PAPERDob">
<Type>%String</Type>
<Parameter name="MAXLEN"/>
<Parameter name="XMLNAME" value="PAPERDob"/>
</Property>

<Property name="soundex">
<Type>%String</Type>
<Parameter name="MAXLEN"/>
<Parameter name="XMLNAME" value="soundex"/>
</Property>

<Property name="phone">
<Type>%String</Type>
<Parameter name="MAXLEN"/>
<Parameter name="XMLNAME" value="phone"/>
</Property>

<Property name="hiddenFlag">
<Type>%String</Type>
<Parameter name="MAXLEN"/>
<Parameter name="XMLNAME" value="hiddenFlag"/>
</Property>

<Storage name="Default">
<Type>%Storage.Serial</Type>
<State>ParamsState</State>
<StreamLocation>^TrakCare.WebServiceE81F.ParamsS</StreamLocation>
<Data name="ParamsState">
<Structure>listnode</Structure>
<Subscript/>
<Value name="1">
<Value>TUSERNAME</Value>
</Value>
<Value name="2">
<Value>TPASSWORD</Value>
</Value>
<Value name="3">
<Value>TENCRYPTPASSWORD</Value>
</Value>
<Value name="4">
<Value>TSESSIONID</Value>
</Value>
<Value name="5">
<Value>MAXCOUNT</Value>
</Value>
<Value name="6">
<Value>RegistrationNo</Value>
</Value>
<Value name="7">
<Value>PAPERName</Value>
</Value>
<Value name="8">
<Value>PAPERName2</Value>
</Value>
<Value name="9">
<Value>PAPERName3</Value>
</Value>
<Value name="10">
<Value>NationalID</Value>
</Value>
<Value name="11">
<Value>SSN</Value>
</Value>
<Value name="12">
<Value>CTSEXDesc</Value>
</Value>
<Value name="13">
<Value>GovtCardNo</Value>
</Value>
<Value name="14">
<Value>ProvOB</Value>
</Value>
<Value name="15">
<Value>MedicalRecordNo</Value>
</Value>
<Value name="16">
<Value>BillNo</Value>
</Value>
<Value name="17">
<Value>EpisodeNo</Value>
</Value>
<Value name="18">
<Value>PAPERDob</Value>
</Value>
<Value name="19">
<Value>soundex</Value>
</Value>
<Value name="20">
<Value>phone</Value>
</Value>
<Value name="21">
<Value>hiddenFlag</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="TrakCare.WebServices.SYSAPI.WS.TC.ws.PAPerson.List.DataSet">
<Description>
Created from: C:\Users\Administrator\Desktop\TC.hmf.System.Service.Inbound.SYSAPI.ListOnly.xml</Description>
<ProcedureBlock>1</ProcedureBlock>
<Super>%SerialObject,%XML.Adaptor</Super>
<TimeChanged>66023,42670.017949</TimeChanged>
<TimeCreated>66013,49110.974689</TimeCreated>

<Parameter name="ELEMENTQUALIFIED">
<Default>1</Default>
</Parameter>

<Parameter name="NAMESPACE">
<Default>http://www.intersystems.com/trak/ws</Default>
</Parameter>

<Parameter name="XMLNAME">
<Default>TC.ws.PAPerson.List.DataSet</Default>
</Parameter>

<Parameter name="XMLSEQUENCE">
<Default>1</Default>
</Parameter>

<Parameter name="XMLTYPE">
<Default>TC.ws.PAPerson.List.DataSet</Default>
</Parameter>

<Property name="Address2">
<Type>%String</Type>
<Parameter name="MAXLEN" value="1024"/>
<Parameter name="XMLNAME" value="Address2"/>
</Property>

<Property name="AddressLine1">
<Type>%String</Type>
<Parameter name="MAXLEN" value="1024"/>
<Parameter name="XMLNAME" value="AddressLine1"/>
</Property>

<Property name="City">
<Type>%String</Type>
<Parameter name="MAXLEN" value="1024"/>
<Parameter name="XMLNAME" value="City"/>
</Property>

<Property name="DVA">
<Type>%String</Type>
<Parameter name="MAXLEN" value="1024"/>
<Parameter name="XMLNAME" value="DVA"/>
</Property>

<Property name="Deceased">
<Type>%String</Type>
<Parameter name="MAXLEN" value="1024"/>
<Parameter name="XMLNAME" value="Deceased"/>
</Property>

<Property name="DefPayor">
<Type>%String</Type>
<Parameter name="MAXLEN" value="1024"/>
<Parameter name="XMLNAME" value="DefPayor"/>
</Property>

<Property name="DefPayorId">
<Type>%String</Type>
<Parameter name="MAXLEN" value="1024"/>
<Parameter name="XMLNAME" value="DefPayorId"/>
</Property>

<Property name="DefPlan">
<Type>%String</Type>
<Parameter name="MAXLEN" value="1024"/>
<Parameter name="XMLNAME" value="DefPlan"/>
</Property>

<Property name="DefPlanId">
<Type>%String</Type>
<Parameter name="MAXLEN" value="1024"/>
<Parameter name="XMLNAME" value="DefPlanId"/>
</Property>

<Property name="Dob">
<Type>%Date</Type>
<Parameter name="XMLNAME" value="Dob"/>
</Property>

<Property name="Email">
<Type>%String</Type>
<Parameter name="MAXLEN" value="1024"/>
<Parameter name="XMLNAME" value="Email"/>
</Property>

<Property name="EmplNo">
<Type>%String</Type>
<Parameter name="MAXLEN" value="1024"/>
<Parameter name="XMLNAME" value="EmplNo"/>
</Property>

<Property name="ExternalAccessCodeEntered">
<Type>%Boolean</Type>
<Parameter name="XMLNAME" value="ExternalAccessCodeEntered"/>
</Property>

<Property name="ExternalAccessStatus">
<Type>%String</Type>
<Parameter name="MAXLEN" value="1024"/>
<Parameter name="XMLNAME" value="ExternalAccessStatus"/>
</Property>

<Property name="FamilyDoc">
<Type>%String</Type>
<Parameter name="MAXLEN" value="1024"/>
<Parameter name="XMLNAME" value="FamilyDoc"/>
</Property>

<Property name="GovernCardNo">
<Type>%String</Type>
<Parameter name="MAXLEN" value="1024"/>
<Parameter name="XMLNAME" value="GovernCardNo"/>
</Property>

<Property name="HIDDEN">
<Type>%String</Type>
<Parameter name="MAXLEN" value="1024"/>
<Parameter name="XMLNAME" value="HIDDEN"/>
</Property>

<Property name="ID">
<Type>%String</Type>
<Parameter name="MAXLEN" value="1024"/>
<Parameter name="XMLNAME" value="ID"/>
</Property>

<Property name="Marital">
<Type>%String</Type>
<Parameter name="MAXLEN" value="1024"/>
<Parameter name="XMLNAME" value="Marital"/>
</Property>

<Property name="Medicare">
<Type>%String</Type>
<Parameter name="MAXLEN" value="1024"/>
<Parameter name="XMLNAME" value="Medicare"/>
</Property>

<Property name="MobilePhone">
<Type>%String</Type>
<Parameter name="MAXLEN" value="1024"/>
<Parameter name="XMLNAME" value="MobilePhone"/>
</Property>

<Property name="Name">
<Type>%String</Type>
<Parameter name="MAXLEN" value="1024"/>
<Parameter name="XMLNAME" value="Name"/>
</Property>

<Property name="Name2">
<Type>%String</Type>
<Parameter name="MAXLEN" value="1024"/>
<Parameter name="XMLNAME" value="Name2"/>
</Property>

<Property name="Name3">
<Type>%String</Type>
<Parameter name="MAXLEN" value="1024"/>
<Parameter name="XMLNAME" value="Name3"/>
</Property>

<Property name="Name4">
<Type>%String</Type>
<Parameter name="MAXLEN" value="1024"/>
<Parameter name="XMLNAME" value="Name4"/>
</Property>

<Property name="Name5">
<Type>%String</Type>
<Parameter name="MAXLEN" value="1024"/>
<Parameter name="XMLNAME" value="Name5"/>
</Property>

<Property name="Name6">
<Type>%String</Type>
<Parameter name="MAXLEN" value="1024"/>
<Parameter name="XMLNAME" value="Name6"/>
</Property>

<Property name="Name7">
<Type>%String</Type>
<Parameter name="MAXLEN" value="1024"/>
<Parameter name="XMLNAME" value="Name7"/>
</Property>

<Property name="Name8">
<Type>%String</Type>
<Parameter name="MAXLEN" value="1024"/>
<Parameter name="XMLNAME" value="Name8"/>
</Property>

<Property name="Occupation">
<Type>%String</Type>
<Parameter name="MAXLEN" value="1024"/>
<Parameter name="XMLNAME" value="Occupation"/>
</Property>

<Property name="PAPERAddress2">
<Type>%String</Type>
<Parameter name="MAXLEN" value="1024"/>
<Parameter name="XMLNAME" value="PAPERAddress2"/>
</Property>

<Property name="PAPERFreeText1">
<Type>%String</Type>
<Parameter name="MAXLEN" value="1024"/>
<Parameter name="XMLNAME" value="PAPERFreeText1"/>
</Property>

<Property name="PAPERFreeText2">
<Type>%String</Type>
<Parameter name="MAXLEN" value="1024"/>
<Parameter name="XMLNAME" value="PAPERFreeText2"/>
</Property>

<Property name="PAPERID">
<Type>%String</Type>
<Parameter name="MAXLEN" value="1024"/>
<Parameter name="XMLNAME" value="PAPERID"/>
</Property>

<Property name="PatType">
<Type>%String</Type>
<Parameter name="MAXLEN" value="1024"/>
<Parameter name="XMLNAME" value="PatType"/>
</Property>

<Property name="PatientTitle">
<Type>%String</Type>
<Parameter name="MAXLEN" value="1024"/>
<Parameter name="XMLNAME" value="PatientTitle"/>
</Property>

<Property name="PreferredContactMethod">
<Type>%String</Type>
<Parameter name="MAXLEN" value="1024"/>
<Parameter name="XMLNAME" value="PreferredContactMethod"/>
</Property>

<Property name="ReasonAttn">
<Type>%String</Type>
<Parameter name="MAXLEN" value="1024"/>
<Parameter name="XMLNAME" value="ReasonAttn"/>
</Property>

<Property name="RegionCode">
<Type>%String</Type>
<Parameter name="MAXLEN" value="1024"/>
<Parameter name="XMLNAME" value="RegionCode"/>
</Property>

<Property name="RegistrationNo">
<Type>%String</Type>
<Parameter name="MAXLEN" value="1024"/>
<Parameter name="XMLNAME" value="RegistrationNo"/>
</Property>

<Property name="ResidentNum">
<Type>%String</Type>
<Parameter name="MAXLEN" value="1024"/>
<Parameter name="XMLNAME" value="ResidentNum"/>
</Property>

<Property name="ResidentNumSel">
<Type>%String</Type>
<Parameter name="MAXLEN" value="1024"/>
<Parameter name="XMLNAME" value="ResidentNumSel"/>
</Property>

<Property name="Sex">
<Type>%String</Type>
<Parameter name="MAXLEN" value="1024"/>
<Parameter name="XMLNAME" value="Sex"/>
</Property>

<Property name="Tel">
<Type>%String</Type>
<Parameter name="MAXLEN" value="1024"/>
<Parameter name="XMLNAME" value="Tel"/>
</Property>

<Property name="VIPStatus">
<Type>%String</Type>
<Parameter name="MAXLEN" value="1024"/>
<Parameter name="XMLNAME" value="VIPStatus"/>
</Property>

<Property name="Zip">
<Type>%String</Type>
<Parameter name="MAXLEN" value="1024"/>
<Parameter name="XMLNAME" value="Zip"/>
</Property>

<Property name="dobalias">
<Type>%String</Type>
<Parameter name="MAXLEN" value="1024"/>
<Parameter name="XMLNAME" value="dobalias"/>
</Property>

<Property name="edob">
<Type>%String</Type>
<Parameter name="MAXLEN" value="1024"/>
<Parameter name="XMLNAME" value="edob"/>
</Property>

<Property name="fedob">
<Type>%String</Type>
<Parameter name="MAXLEN" value="1024"/>
<Parameter name="XMLNAME" value="fedob"/>
</Property>

<Property name="mergereg">
<Type>%String</Type>
<Parameter name="MAXLEN" value="1024"/>
<Parameter name="XMLNAME" value="mergereg"/>
</Property>

<Storage name="Default">
<Type>%Storage.Serial</Type>
<State>DataSetState</State>
<StreamLocation>^TrakCare.WebServic95F9.DataSetS</StreamLocation>
<Data name="DataSetState">
<Value name="1">
<Value>Address2</Value>
</Value>
<Value name="2">
<Value>AddressLine1</Value>
</Value>
<Value name="3">
<Value>City</Value>
</Value>
<Value name="4">
<Value>DVA</Value>
</Value>
<Value name="5">
<Value>Deceased</Value>
</Value>
<Value name="6">
<Value>DefPayor</Value>
</Value>
<Value name="7">
<Value>DefPayorId</Value>
</Value>
<Value name="8">
<Value>DefPlan</Value>
</Value>
<Value name="9">
<Value>DefPlanId</Value>
</Value>
<Value name="10">
<Value>Dob</Value>
</Value>
<Value name="11">
<Value>Email</Value>
</Value>
<Value name="12">
<Value>EmplNo</Value>
</Value>
<Value name="13">
<Value>ExternalAccessCodeEntered</Value>
</Value>
<Value name="14">
<Value>ExternalAccessStatus</Value>
</Value>
<Value name="15">
<Value>FamilyDoc</Value>
</Value>
<Value name="16">
<Value>GovernCardNo</Value>
</Value>
<Value name="17">
<Value>HIDDEN</Value>
</Value>
<Value name="18">
<Value>ID</Value>
</Value>
<Value name="19">
<Value>Marital</Value>
</Value>
<Value name="20">
<Value>Medicare</Value>
</Value>
<Value name="21">
<Value>MobilePhone</Value>
</Value>
<Value name="22">
<Value>Name</Value>
</Value>
<Value name="23">
<Value>Name2</Value>
</Value>
<Value name="24">
<Value>Name3</Value>
</Value>
<Value name="25">
<Value>Name4</Value>
</Value>
<Value name="26">
<Value>Name5</Value>
</Value>
<Value name="27">
<Value>Name6</Value>
</Value>
<Value name="28">
<Value>Name7</Value>
</Value>
<Value name="29">
<Value>Name8</Value>
</Value>
<Value name="30">
<Value>Occupation</Value>
</Value>
<Value name="31">
<Value>PAPERAddress2</Value>
</Value>
<Value name="32">
<Value>PAPERFreeText1</Value>
</Value>
<Value name="33">
<Value>PAPERFreeText2</Value>
</Value>
<Value name="34">
<Value>PAPERID</Value>
</Value>
<Value name="35">
<Value>PatType</Value>
</Value>
<Value name="36">
<Value>PatientTitle</Value>
</Value>
<Value name="37">
<Value>PreferredContactMethod</Value>
</Value>
<Value name="38">
<Value>ReasonAttn</Value>
</Value>
<Value name="39">
<Value>RegionCode</Value>
</Value>
<Value name="40">
<Value>RegistrationNo</Value>
</Value>
<Value name="41">
<Value>ResidentNum</Value>
</Value>
<Value name="42">
<Value>ResidentNumSel</Value>
</Value>
<Value name="43">
<Value>Sex</Value>
</Value>
<Value name="44">
<Value>Tel</Value>
</Value>
<Value name="45">
<Value>VIPStatus</Value>
</Value>
<Value name="46">
<Value>Zip</Value>
</Value>
<Value name="47">
<Value>dobalias</Value>
</Value>
<Value name="48">
<Value>edob</Value>
</Value>
<Value name="49">
<Value>fedob</Value>
</Value>
<Value name="50">
<Value>mergereg</Value>
</Value>
</Data>
</Storage>
</Class>


<Class name="TrakCare.WebServices.SYSAPI.WebClient.TChmfServiceTrakInboundSYSAPISoap">
<ProcedureBlock>1</ProcedureBlock>
<Super>%SOAP.WebClient</Super>
<TimeChanged>66023,16579.929148</TimeChanged>
<TimeCreated>66013,49109.623542</TimeCreated>

<Method name="PAPersonListExecuteQuery">
<Final>1</Final>
<FormalSpec>token:%String,params:TrakCare.WebServices.SYSAPI.WS.TC.api.PAPerson.List.Params,TUSERNAME:%String,TPASSWORD:%String</FormalSpec>
<ProcedureBlock>1</ProcedureBlock>
<ReturnType>%ListOfObjects</ReturnType>
<WebMethod>1</WebMethod>
<SoapBindingStyle>document</SoapBindingStyle>
<SoapBodyUse>literal</SoapBodyUse>
<ReturnTypeParams>ELEMENTTYPE="TrakCare.WebServices.SYSAPI.WS.TC.ws.PAPerson.List.DataSet",XMLITEMNAME="TC.ws.PAPerson.List.DataSet",XMLNAME="PAPersonListExecuteQueryResult"</ReturnTypeParams>
<Implementation><![CDATA[ Quit ..WebMethod("PAPersonListExecuteQuery").Invoke($this,"http://www.intersystems.com/trak/ws/TC.hmf.System.Service.Inbound.SYSAPI.PAPersonListExecuteQuery",.token,.params,.TUSERNAME,.TPASSWORD)
]]></Implementation>
</Method>

<Parameter name="LOCATION">
<Description>
This is the URL used to access the web service.</Description>
<Default>http://localhost:57772/csp/healthshare/trak-int-hmf/TC.hmf.System.Service.Inbound.SYSAPI.cls</Default>
</Parameter>

<Parameter name="NAMESPACE">
<Description>
This is the namespace used by the Service</Description>
<Default>http://www.intersystems.com/trak/ws</Default>
</Parameter>

<Parameter name="OUTPUTTYPEATTRIBUTE">
<Description>
Use xsi:type attribute for literal types.</Description>
<Default>1</Default>
</Parameter>

<Parameter name="SECURITYIN">
<Description>
Determines handling of Security header.</Description>
<Default>ALLOW</Default>
</Parameter>

<Parameter name="SERVICENAME">
<Description>
This is the name of the Service</Description>
<Default>TChmfServiceTrakInboundSYSAPI</Default>
</Parameter>

<Parameter name="SOAPVERSION">
<Description>
This is the SOAP version supported by the service.</Description>
<Default>1.1</Default>
</Parameter>
</Class>


<Document name="Local.FromSDALabTestItemCode.LUT">
<lookupTable>
<entry table="Local.FromSDALabTestItemCode" key="CHOL">2093-3</entry>
<entry table="Local.FromSDALabTestItemCode" key="FT4">3026-2</entry>
<entry table="Local.FromSDALabTestItemCode" key="HDLC">2085-9</entry>
<entry table="Local.FromSDALabTestItemCode" key="LDLC">2089-1</entry>
<entry table="Local.FromSDALabTestItemCode" key="PLT">777-3</entry>
<entry table="Local.FromSDALabTestItemCode" key="RBC">789-8</entry>
<entry table="Local.FromSDALabTestItemCode" key="TRIG">3043-7</entry>
<entry table="Local.FromSDALabTestItemCode" key="TSH">3016-3</entry>
<entry table="Local.FromSDALabTestItemCode" key="WBC">6690-2</entry>
</lookupTable>
</Document>

<Document name="Local.FromSDAObservationCode.LUT">
<lookupTable>
<entry table="Local.FromSDAObservationCode" key="BMI">39156-5</entry>
<entry table="Local.FromSDAObservationCode" key="HEADCIRC">8287-5</entry>
<entry table="Local.FromSDAObservationCode" key="HEIGHT">8302-2</entry>
<entry table="Local.FromSDAObservationCode" key="VS1">8480-6</entry>
<entry table="Local.FromSDAObservationCode" key="VS2">8462-4</entry>
<entry table="Local.FromSDAObservationCode" key="VS3">8867-4</entry>
<entry table="Local.FromSDAObservationCode" key="VS4">9279-1</entry>
<entry table="Local.FromSDAObservationCode" key="VS5">8310-5</entry>
<entry table="Local.FromSDAObservationCode" key="VS6">59408-5</entry>
<entry table="Local.FromSDAObservationCode" key="WEIGHT">29463-7</entry>
</lookupTable>
</Document>

<Document name="Local.FromSDAObservationCodeUOM.LUT">
<lookupTable>
<entry table="Local.FromSDAObservationCodeUOM" key="%">%</entry>
<entry table="Local.FromSDAObservationCodeUOM" key="10&lt;SUP&gt;12&lt;/SUP&gt;/L">10*12/L</entry>
<entry table="Local.FromSDAObservationCodeUOM" key="10&lt;SUP&gt;9&lt;/SUP&gt;/L">10*9/L</entry>
<entry table="Local.FromSDAObservationCodeUOM" key="10&lt;sup&gt;12&lt;/sup&gt;/L">10*12/L</entry>
<entry table="Local.FromSDAObservationCodeUOM" key="10&lt;sup&gt;9&lt;/sup&gt;/L">10*9/L</entry>
<entry table="Local.FromSDAObservationCodeUOM" key="BR/MIN">/min</entry>
<entry table="Local.FromSDAObservationCodeUOM" key="BT/MIN">/min</entry>
<entry table="Local.FromSDAObservationCodeUOM" key="CM">cm</entry>
<entry table="Local.FromSDAObservationCodeUOM" key="DEGREEC">Cel</entry>
<entry table="Local.FromSDAObservationCodeUOM" key="KG">kg</entry>
<entry table="Local.FromSDAObservationCodeUOM" key="KG/M&lt;SUP&gt;2&lt;/SUP&gt;">kg/m2</entry>
<entry table="Local.FromSDAObservationCodeUOM" key="M2">m2</entry>
<entry table="Local.FromSDAObservationCodeUOM" key="ML">mL</entry>
<entry table="Local.FromSDAObservationCodeUOM" key="ML/HR">mL/h</entry>
<entry table="Local.FromSDAObservationCodeUOM" key="MMHG">mm[Hg]</entry>
<entry table="Local.FromSDAObservationCodeUOM" key="fL">fL</entry>
<entry table="Local.FromSDAObservationCodeUOM" key="g/L">g/L</entry>
<entry table="Local.FromSDAObservationCodeUOM" key="kPa">kPa</entry>
<entry table="Local.FromSDAObservationCodeUOM" key="m2">m2</entry>
<entry table="Local.FromSDAObservationCodeUOM" key="mL/min/1.73m&lt;SUP&gt;2&lt;/SUP&gt;">mL/min/1.73m*2</entry>
<entry table="Local.FromSDAObservationCodeUOM" key="mmol/L">mmol/L</entry>
<entry table="Local.FromSDAObservationCodeUOM" key="pH">[pH]</entry>
<entry table="Local.FromSDAObservationCodeUOM" key="pg">pg</entry>
<entry table="Local.FromSDAObservationCodeUOM" key="umol/L">umol/L</entry>
</lookupTable>
</Document></Export>
